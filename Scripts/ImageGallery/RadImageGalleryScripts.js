Type.registerNamespace("Telerik.Web.UI");
(function(c,b,a,d){Telerik.Web.UI.ImageGalleryItemBase=function(f){var g=this;
c.ImageGalleryItemBase.initializeBase(g);
g._owner=null;
g._width=null;
g._height=null;
g._title="";
g._description="";
g._$thumbnailElement=null;
if(f){for(var e in f){g["_"+e]=f[e];
}}};
c.ImageGalleryItemBase.prototype={initialize:function(e){c.ImageGalleryItemBase.callBaseMethod(this,"initialize");
},dispose:function(){c.ImageGalleryItemBase.callBaseMethod(this,"dispose");
},get_owner:function(){return this._owner;
},get_itemIndex:function(){return this._itemIndex;
},get_width:function(){return this._width;
},get_height:function(){return this._height;
},get_thumbnailWidth:function(){throw new Error("Not implemented yet");
},get_thumbnailHeight:function(){throw new Error("Not implemented yet");
},get_thumbnailElement:function(){return this._$thumbnailElement.get(0);
},get_title:function(){return this._title;
},get_description:function(){return this._description;
},select:function(){this.get_owner().selectItem(this);
},_remove:function(){this._$thumbnailElement.remove();
}};
c.ImageGalleryItemBase.registerClass("Telerik.Web.UI.ImageGalleryItemBase");
})(Telerik.Web.UI,Sys.UI,$telerik.$);
Type.registerNamespace("Telerik.Web.UI");
(function(c,b,a,d){Telerik.Web.UI.ImageGalleryItem=function(e){var f=this;
f._imageUrl=null;
f._thumbnailUrl=null;
f._navigateUrl=null;
c.ImageGalleryItem.initializeBase(f,[e]);
};
c.ImageGalleryItem.prototype={initialize:function(){c.ImageGalleryItem.callBaseMethod(this,"initialize");
},dispose:function(){c.ImageGalleryItem.callBaseMethod(this,"dispose");
},get_imageUrl:function(){return this._imageUrl;
},get_thumbnailUrl:function(){return this._thumbnailUrl;
},get_navigateUrl:function(){return this._navigateUrl;
},_createItem:function(){var h=this,i=h.get_owner().get_thumbnailsArea(),f=a(i.get_element()),g=h.get_owner()._$thumbnailsList,e=this._$thumbnailElement=a("<li>").append(a("<a>",{href:"#"})).prop("item",h);
a("<img>",{src:this._thumbnailUrl||this._imageUrl,width:i.get_thumbnailWidth(),height:i.get_thumbnailHeight()}).appendTo(e.children());
g.find(".rigDummy").remove().end().width(Math.max(g.children().eq(0).width()*(h.get_owner().get_items().get_count()+1),f.width()));
h._insertAtIndex(e,g,h._itemIndex);
},_insertAtIndex:function(e,f,g){if(g===0){e.prependTo(f);
}else{e.insertAfter(f.children().eq(g-1));
}},_cropImage:function(){}};
c.ImageGalleryItem.registerClass("Telerik.Web.UI.ImageGalleryItem",Telerik.Web.UI.ImageGalleryItemBase);
})(Telerik.Web.UI,Sys.UI,$telerik.$);
Type.registerNamespace("Telerik.Web.UI");
(function(a){a.ImageGalleryItemCollection=function(b){this._owner=b;
this._array=[];
};
a.ImageGalleryItemCollection.prototype={add:function(c){var b=this._array.length;
this.insert(b,c);
},insert:function(b,c){if(!a.ImageGalleryItemBase.isInstanceOfType(c)&&c===Object(c)){c=new a.ImageGalleryItem(c);
}c._owner=this._owner;
c._itemIndex=b;
c._createItem();
c._position=c._$thumbnailElement.position();
Array.insert(this._array,b,c);
this._owner._raiseControlEvent("itemCreated",{item:c,itemIndex:b});
},remove:function(b){Array.remove(this._array,b);
b._remove();
},removeAt:function(b){var c=this.getItem(b);
if(c){this.remove(c);
}},clear:function(){for(var b=this.count()-1;
b>=0;
b--){this.removeAt(b);
}},get_count:function(){return this._array.length;
},getItem:function(b){return this._array[b];
},indexOf:function(c){for(var b=0,d=this._array.length;
b<d;
b++){if(this._array[b]===c){return b;
}}return -1;
},forEach:function(d){for(var c=0,b=this.get_count();
c<b;
c++){d(this._array[c]);
}},toArray:function(){return this._array.slice(0);
},count:function(){return this._array.length;
}};
a.ImageGalleryItemCollection.registerClass("Telerik.Web.UI.ImageGalleryItemCollection");
})(Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.ImageGallery");
(function(d,c,a,f){var b=d.ImageGallery,e=$telerik.isTouchDevice?"mousedown touchend":"click";
Telerik.Web.UI.ImageGalleryImageArea=function(g){var h=this;
d.ImageGalleryImageArea.initializeBase(h,[g]);
h._owner=null;
h._$element=null;
h._settings=null;
h._loading=false;
};
d.ImageGalleryImageArea.prototype={initialize:function(){var j=this,i=j._owner,g=j._$element=a(j._element),h=j._$image=g.find("[id$='Image']");
d.ImageGalleryImageArea.callBaseMethod(j,"initialize");
j._imagesWrapper=h.parent().get(0);
j._initializeImageAnimations();
j._initializeEvents();
j._setupZoneNavigation();
j._setNextPrevButtonsVisibility();
h.on("load",function(){j._fitImage();
i._raiseControlEvent("imageLoaded",{item:i.get_selectedItem(),imageType:b.ImageType.Content,image:h.get(0)});
h.off("load");
});
h.get(0).src=h.get(0).src;
if(i.get_items().get_count()>0){j._populateDescriptionBox(i.get_selectedItem());
}},dispose:function(){this._imageAnimations.dispose();
d.ImageGalleryImageArea.callBaseMethod(this,"dispose");
},set__owner:function(g){this._owner=g;
},get_owner:function(){return this._owner;
},get_width:function(){return this._settings.width;
},get_height:function(){return this._settings.height;
},get_imageElement:function(){return this._$currentImage.get(0);
},_select:function(k,j){var h=this._$element.find(".rigActiveImage");
var g=h.find(" > img");
var i=h.find(".rigTemplate").first();
var l=this._owner;
if(arguments.length==0){g.hide();
i.show();
l._raiseControlEvent("navigated",{item:l.get_selectedItem()});
if(l._pinchZoom&&!l.get_selectedItem()._preventDefaultGestures){l._pinchZoom.setTargetElement(l._$activeImageDiv.find("img:first"));
}}else{g.show();
i.hide();
if(this._animation){this._animation.stop();
}this._animation=this._imageAnimations.animate(this._$image,k,{type:j.type,speed:j.speed,easing:j.easing});
}},_fitImage:function(g){if(!g){g=this._$image;
}if(!g){return;
}g.get(0).style.width=null;
g.get(0).style.height=null;
if(this._settings.resizeMode==b.ResizeMode.Fill){this._resizeToFill(g);
}else{this._resizeToFit(g);
}},_resizeToFit:function(h){var g=this._$element;
var o=g.css("overflow");
g.css("overflow","hidden");
var k=h.height();
var l=h.width();
var i=g.height();
var j=g.width();
var m;
var n;
if(l>j){h.width(j);
k=h.height();
}if(k>i){h.width(h.width()*(i/k)).height(i);
}l=h.width();
if(l<j){m=(j/2)-(l/2);
}else{m=0;
}if(k<i){n=(i/2)-(k/2);
}else{n=0;
}h.css({paddingLeft:Math.round(m),paddingTop:Math.round(n)});
g.css("overflow",o);
},_resizeToFill:function(h){var g=this._$element;
var k=h.width("100%").height();
var i=g.height();
var j=g.width();
if(k>=i){h.css({marginTop:(i-k)/2,marginLeft:0});
}else{if(k<i){h.get(0).style.width=null;
h.height("100%").css({marginTop:0,marginLeft:(j-h.width())/2});
}}},_showLoadingPanel:function(){var h=this,g=h.get_owner().get_loadingPanel();
if(g&&!h._loading){h._hideLoadingPanel();
h._loading=true;
g.show(h._imagesWrapper.id);
}},_hideLoadingPanel:function(){var h=this,g=h.get_owner().get_loadingPanel();
if(g){h._loading=false;
g.hide(h._imagesWrapper.id);
}},_setNavigationControlsVisibility:function(j){var g=$telerik.isTouchDevice?a():this._$element.find(".rigPrevButton, .rigNextButton"),h,i=this.get_owner().get_selectedItem();
if(i&&(i.get_title()||i.get_description())){g=g.add(this._$element.find(".rigDescriptionBox"));
}h=g.first();
if(j&&!h.is(":visible")){g.fadeIn();
}else{if(!j&&h.is(":visible")){g.fadeOut();
}}},_setNextPrevButtonsVisibility:function(h){var i=this,g=i._owner;
h=arguments.length>0?h:g.get_selectedIndex();
if(!g._loopItems){i._$prevButton.css("visibility",h==0?"hidden":"visible");
i._$nextButton.css("visibility",h==g.get_items().get_count()-1||g.get_items().length==0?"hidden":"visible");
}},_isOpened:function(){return this.get_element().style.display!="none";
},_open:function(){this.get_element().style.display="";
this._owner._toolbar.get_element().style.display="";
this._owner.get_thumbnailsArea().get_element().style.display="none";
},_close:function(){var h=this,g=h._owner;
h.get_element().style.display="none";
g._toolbar.get_element().style.display="none";
g.get_thumbnailsArea().get_element().style.display="";
},_populateDescriptionBox:function(k){if(!k){return;
}var l=k.get_owner(),h=l._$element,i=h.find(".rigTitle"),g=h.find(".rigDescription"),m=k.get_title(),j=k.get_description();
if(!m&&!j){i.parent().hide();
}else{i.text(m);
g.text(j);
}},_initializeImageAnimations:function(){var h=this,g=h._owner;
h._imageAnimations=new d.RadImageAnimations();
h._imageAnimations.add_animationStart(function(k,j){var i=j.get_$newImage();
h._$image.css("position","absolute");
if(i){h._$image=i;
h._$image.css("position","absolute");
}h._$image.parent().append(h._$image.parent().find(".rigToolsWrapper"));
});
h._imageAnimations.add_animationEnd(function(j,i){h._$image.css("position","");
g._raiseControlEvent("navigated",{item:g.get_selectedItem()});
if(g._pinchZoom&&!g.get_selectedItem()._preventDefaultGestures){g._pinchZoom.setTargetElement(g._$activeImageDiv.find("img:first"));
}});
h._imageAnimations.add_imageLoaded(function(l,j){if(h._lastAnimation&&h._lastAnimation!=h._animation){h._lastAnimation.stop();
h._lastAnimation=null;
}h._lastAnimation=h._animation;
h._hideLoadingPanel();
var i=j.get_$image(),k=g.get_selectedItem();
if(k.get_width()){i.width(k.get_width());
}if(k.get_height()){i.height(k.get_height());
}h._fitImage(i);
g._raiseControlEvent("imageLoaded",{item:k,imageType:b.ImageType.Content,image:i.get(0)});
});
},_initializeEvents:function(){var l=this,k=l._owner,h=l._$element,j=l._$prevButton=h.find(".rigPrevButton"),i=l._$nextButton=h.find(".rigNextButton"),g=h.find(".rigCloseButton");
h.on(k._getEventName("mousemove click"),function(m){l._setNavigationControlsVisibility(true);
clearTimeout(l._hideNavigationControlsTimeout);
l._hideNavigationControlsTimeout=setTimeout(function(){l._setNavigationControlsVisibility(false);
},3000);
}).on(k._getEventName("mousemove"),function(n){var m=a(n.target);
var o=k.get_selectedItem()?k.get_selectedItem().get_navigateUrl():"";
if(o&&m.is("img")&&l._inBounds(m,n)){document.body.style.cursor="pointer";
}else{document.body.style.cursor="";
}}).mousedown(function(n){var m=a(n.target);
var o=k.get_selectedItem()?k.get_selectedItem().get_navigateUrl():"";
if(o&&m.is("img")&&l._inBounds(m,n)){window.location.href=o;
}}).find(j).on(k._getEventName(e),function(m){k.prev();
m.preventDefault();
}).end().find(i).on(k._getEventName(e),function(m){k.next();
m.preventDefault();
}).end().find(g).on(k._getEventName(e),function(m){l._close();
m.preventDefault();
});
k.add_navigating(function(n,m){l._setNextPrevButtonsVisibility(m.get_item().get_itemIndex());
l._populateDescriptionBox(m.get_item());
});
k.add_itemCreated(function(){l._setNextPrevButtonsVisibility();
l._populateDescriptionBox(k.get_selectedItem());
});
},_inBounds:function(g,h){var i=g.offset();
return h.pageX-i.left>g.innerWidth()-g.width()&&h.pageY-i.top>g.innerHeight()-g.height();
},_setupZoneNavigation:function(){var k=this,j=k._owner,g=k._$element,i=g.find(".rigPrevButton"),h=g.find(".rigNextButton");
if(k._settings.isZoneNavigation){g.css("cursor","pointer");
g.on(j._getEventName("mouseleave"),function(l){i.removeClass("rigHover");
h.removeClass("rigHover");
}).on(j._getEventName("mousemove"),function(m){var l=a(m.target);
if(l.closest(".rigToolbar, .rigDotList, .rigDescriptionBox, .rigPrevButton, .rigNextButton").length){return;
}if(m.pageX-g.offset().left<g.width()/2){i.addClass("rigHover");
h.removeClass("rigHover");
}else{i.removeClass("rigHover");
h.addClass("rigHover");
}}).on(j._getEventName("click"),function(m){var l=a(m.target);
if(l.closest(".rigToolbar, .rigDotList, .rigDescriptionBox, .rigPrevButton, .rigNextButton").length){return;
}if(m.pageX-g.offset().left<g.width()/2){j.prev();
}else{j.next();
}}).on(j._getEventName("mousedown"),$telerik.preventDefault);
}}};
d.ImageGalleryImageArea.registerClass("Telerik.Web.UI.ImageGalleryImageArea",c.Control);
a.registerEnum(b,"ResizeMode",{Fit:1,Fill:2});
})(Telerik.Web.UI,Sys.UI,$telerik.$);
(function(d,c,a,n){Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.ImageGallery");
var b=d.ImageGallery,e="click",h="mousedown",k="mouseup",i="mouseenter",j="mouseleave",m=".rigThumbnailsList";
Telerik.Web.UI.ImageGalleryThumbnailsArea=function(o){var p=this;
d.ImageGalleryThumbnailsArea.initializeBase(p,[o]);
p._owner=null;
p._settings=null;
p._title=null;
p._scrollInterval=null;
p._animating=false;
p._isVisible=true;
p._isPositionHorizontal=true;
p._currentScrollPosition=0;
};
d.ImageGalleryThumbnailsArea.prototype={initialize:function(){var w=this,v=w._settings,u=w._owner,s=u.get_imageArea(),p=w._$element=a(w.get_element()),q=w._$thumbs=p.find(m),r=s?a(s.get_element()).find(".rigTooltip"):a(),o=s?a(s.get_element()).find(".rigDotList"):a(),t=o.children().first().position();
d.ImageGalleryThumbnailsArea.callBaseMethod(w,"initialize");
w._$prevButton=w._$element.find(".rigScrollPrevButton");
w._$nextButton=w._$element.find(".rigScrollNextButton");
w._isVisible=p.is(":visible");
w._isPositionHorizontal=!(v.position=="Left"||v.position=="Right");
if(w._settings.enableZoneScroll){q.on(u._getEventName("mousemove"),a.proxy(w._mousemove,w)).on(u._getEventName("mouseout"),function(){w._stopScroll();
});
}w._setupScrollButtons();
w._setNextPrevButtonsVisibility();
u.add_thumbSelected(a.proxy(w._thumbSelected,w));
u.add_itemCreated(function(){w._setNextPrevButtonsVisibility();
});
if(q.width()<p.width()){q.width(p.width());
}if(w._settings.showScrollbar){if(p.hasClass("rigThumbnailsBoxHorizontal")){p.height("+="+f());
}else{if(p.hasClass("rigThumbnailsBoxVertical")){p.width("+="+f());
}}}r.append(q.parent());
if(t){r.css("left",t.left-r.width()/2);
}o.on(u._getEventName("mouseenter"),"> a",function(y){var x=a(y.target).closest("a"),z=o.children().index(x);
r.show().stop().animate({opacity:1,left:x.position().left+x.width()/2-r.width()/2});
q.stop().animate({marginLeft:-z*w.get_thumbnailWidth()});
}).on(u._getEventName("mouseleave"),function(x){r.stop(true,false).animate({opacity:0});
}).on(u._getEventName("click"),function(x){var y=o.children().index(a(x.target).closest("a")),z=u.get_items().getItem(y);
if(!z){return;
}u.selectItem(z);
x.preventDefault();
});
},dispose:function(){d.ImageGalleryThumbnailsArea.callBaseMethod(this,"dispose");
},set__owner:function(o){this._owner=o;
},get_visible:function(){return this._isVisible;
},get_owner:function(){return this._owner;
},get_width:function(){return parseInt(this._settings.width,10);
},get_height:function(){return parseInt(this._settings.height,10)||100;
},get_thumbnailWidth:function(){return parseInt(this._settings.thumbnailWidth,10)||100;
},get_thumbnailHeight:function(){return parseInt(this._settings.thumbnailHeight,10)||100;
},hide:function(){var u=this,r=u._owner,p=r._dimensions,o=this._$element,s=u._isPositionHorizontal?"height":"width",t=u["get_"+s](),q={};
if(r.isInFullScreen()){if(u._isPositionHorizontal){p.contentAreaHeight+=t;
}else{if(!isNaN(parseFloat(p.contentAreaWidth))){p.contentAreaWidth=(parseFloat(p.contentAreaWidth)+t)+"px";
}}}q[s]=0;
o.stop(true,false).animate(q);
if(u._settings.position=="Left"){q.left=0;
}else{if(u._settings.position=="Right"){q.right=0;
}}q[s]="+="+o[s]();
a(u._owner.get_imageArea().get_element()).stop(true,false).animate(q,{step:function(){u._owner.get_imageArea()._fitImage();
}});
if(u._isVisible){u._owner._toolbar._toggleThumbnailButtonsVisibility();
}u._isVisible=false;
return true;
},show:function(){var u=this,r=u._owner,p=r._dimensions,o=u._$element,s=u._isPositionHorizontal?"height":"width",t=u["get_"+s](),q={};
if(r.isInFullScreen()){if(u._isPositionHorizontal){p.contentAreaHeight-=t;
}else{if(!isNaN(parseFloat(p.contentAreaWidth))){p.contentAreaWidth=(parseFloat(p.contentAreaWidth)-t)+"px";
}}}q[s]=t+(u._settings.showScrollbar?f():0);
o.stop().animate(q);
if(u._settings.position=="Left"){q.left=t;
}else{if(u._settings.position=="Right"){q.right=t;
}}q[s]="-="+(t-o[s]());
a(u._owner.get_imageArea().get_element()).stop().animate(q,{step:function(){u._owner.get_imageArea()._fitImage();
}});
if(!u._isVisible){u._owner._toolbar._toggleThumbnailButtonsVisibility();
}u._isVisible=true;
return true;
},toggle:function(){var q=this;
var o=q._owner;
var p=o._get_isMobileImageThumbnailMode();
if(q._isVisible){if(o._isInFullScreen&&p){o.get_imageArea()._$image.hide();
o._toggleThumbnailsMode(true);
q._$nextButton.hide();
q._$prevButton.hide();
o._toolbar._toggleThumbnailButtonsVisibility();
q._isVisible=false;
}else{q.hide();
}}else{if(o._isInFullScreen&&p){o.get_imageArea()._$image.show();
o._toggleThumbnailsMode(false);
o._toolbar._toggleThumbnailButtonsVisibility();
q._isVisible=true;
}else{q.show();
}}},prevView:function(){this._move(this._$thumbs.parent()[this._settings.isVertical?"height":"width"](),true);
},nextView:function(){this._move(-this._$thumbs.parent()[this._settings.isVertical?"height":"width"](),true);
},_setupScrollButtons:function(){var v=this,t=v._owner,q=v._$element,r=q.find(".rigScrollPrevButton"),s=q.find(".rigScrollNextButton"),o=r.add(s),p=a(document),u=b.ScrollButtonsTrigger.toString(v._settings.scrollButtonsTrigger||b.ScrollButtonsTrigger.Click).toLowerCase();
switch(u){case h:v._setupScrollButton(r,h,10,p,k);
v._setupScrollButton(s,h,-10,p,k);
break;
case"hover":v._setupScrollButton(r,i,10,r,j);
v._setupScrollButton(s,i,-10,s,j);
break;
}o.on(t._getEventName(e),function(x){if(u==e){var w=a(x.currentTarget).is(r)?1:-1,y=v._settings.isVertical?v._$element.height():v._$element.width();
v._move(y*w,true);
}x.preventDefault();
});
},_setupScrollButton:function(o,q,s,p,t){var u=this,r=u._owner;
o.on(u._owner._getEventName(q),function(){u._scroll(s);
p.on(u._owner._getEventName(t),function(){u._stopScroll();
p.off(r._getEventName(t));
});
});
},_thumbSelected:function(u,p){var v=this,o=a(p.get_item().get_thumbnailElement()),r=v._isInView(o),s=v._settings.isVertical,t=s?"top":"left",q=s?"height":"width";
if(!r){var w=-v._owner.get_items().getItem(p.get_itemIndex())._position[t];
v._currentScrollPosition=null;
if(u.get_selectedIndex()>p.get_itemIndex()){w+=v._$thumbs.parent()[q]()-o[q]();
}v._move(w,true);
}},_mousemove:function(p){var t=this,r=!t._settings.isVertical,o=t._$element,s=o.offset(),u=o.width(),q=o.height(),v=p.pageX-s.left,w=p.pageY-s.top;
if(r){if(v<u/4){t._scroll(7);
}else{if(v>u-u/4){t._scroll(-7);
}else{t._stopScroll();
}}}else{if(w<q/4){t._scroll(7);
}else{if(w>q-q/4){t._scroll(-7);
}else{t._stopScroll();
}}}},_scroll:function(o){var p=this;
if(p._scrollInterval){return;
}clearInterval(p._scrollInterval);
p._scrollInterval=setInterval(function(){p._move(o);
},30);
},_stopScroll:function(){clearInterval(this._scrollInterval);
this._scrollInterval=null;
},_move:function(A,r){var z=this,q=z._$thumbs,p=z._$prevButton.show(),o=z._$nextButton.show(),t=!z._settings.isVertical,x=t?"scrollLeft":"scrollTop",v=-z._currentScrollPosition+A,w=0,s={},y=r?a.fx.speeds._default:0,u=t?q.width()-z._$element.width():q.height()-z._$element.height();
if(v>=0){p.hide();
}else{if(-v>=u){w=u;
o.hide();
}else{w=-v;
}}if(z._currentScrollPosition!=w){q=q.parent().stop(true);
s[x]=w;
q.animate(s,y);
z._currentScrollPosition=w;
}},_isInView:function(o){if(!o.length||!this._isVisible||this._settings.mode){return true;
}var p=o.parent().parent(),w=o.position(),v=0,s=v+p.height(),z=w.top,q=z+o.height(),t=0,u=t+p.width(),r=w.left,x=r+o.width(),y=this._currentScrollPosition;
if(this._settings.isVertical){z-=Math.abs(y-p.scrollTop());
q=z+o.height();
}else{r-=Math.abs(y-p.scrollLeft());
x=r+o.width();
}return q<=s&&z>=v&&x<=u&&r>=t;
},_setNextPrevButtonsVisibility:function(){var r=this,p=r._$thumbs,o=r._$prevButton.add(r._$nextButton).show(),q=r._settings.isVertical?"height":"width";
r._move(0);
if(p[q]()<=p.parent()[q]()){o.hide();
}}};
d.ImageGalleryThumbnailsArea.registerClass("Telerik.Web.UI.ImageGalleryThumbnailsArea",c.Control);
a.registerEnum(b,"ThumbnailAreaMode",{Thumbnails:1,ImageSlider:2,ImageSliderPreview:3});
a.registerEnum(b,"ScrollButtonsTrigger",{Click:1,Hover:2,MouseDown:3});
var l,g;
function f(){try{if(typeof(l)=="undefined"){var t,o=0;
var p=document.createElement("div");
p.style.position="absolute";
p.style.top="-1000px";
p.style.left="-1000px";
p.style.width="100px";
p.style.height="100px";
p.style.overflow="auto";
var q=document.createElement("div");
q.style.width="1000px";
q.style.height="1000px";
p.appendChild(q);
document.body.appendChild(p);
t=p.offsetHeight;
o=p.clientHeight;
document.body.removeChild(document.body.lastChild);
l=t-o;
if(l<=0||o==0){l=16;
}p.dir="rtl";
var r=document.createElement("div");
r.style.position="absolute";
r.style.left="0";
r.style.height="100%";
r.style.width="100%";
p.appendChild(r);
if($telerik.isOpera){r.style.left="";
r.style.width="100px";
}document.body.appendChild(p);
g=false;
if($telerik.$(p).offset().left!=$telerik.$(r).offset().left||$telerik.isChrome){g=true;
}p.removeChild(q);
p.removeChild(r);
p.parentNode.removeChild(p);
p=null;
q=null;
r=null;
}return l;
}catch(s){g=false;
return false;
}}})(Telerik.Web.UI,Sys.UI,$telerik.$);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.ImageGallery");
(function(c,b,a,i){var g=".rigPlayButton, .rigPauseButton",e=".rigFullScrButton, .rigExtFullScrButton",h=".rigShowThumbnButton, .rigHideThumbnButton",f=".rigProgressBar",d=$telerik.isTouchDevice?"click touchend":"click";
Telerik.Web.UI.ImageGalleryToolbar=function(j){var k=this;
c.ImageGalleryToolbar.initializeBase(k,[j]);
k._owner=null;
k._settings=null;
k._title=null;
k._scrollInterval=null;
};
c.ImageGalleryToolbar.prototype={initialize:function(){var p=this,o=p._owner,j=p._$element=a(p.get_element()),l=p._$slideshowButtons=j.find(g),m=p._$thumbnailButtons=j.find(h),k=p._$fullScreenButtons=j.find(e),n=o._getEventName(d);
c.ImageGalleryToolbar.callBaseMethod(p,"initialize");
l.on(n,function(q){o.toggleSlideshow();
q.preventDefault();
q.stopPropagation();
});
m.on(n,function(q){o.get_thumbnailsArea().toggle();
q.preventDefault();
q.stopPropagation();
});
k.on(n,function(q){o.toggleFullScreen();
q.preventDefault();
q.stopPropagation();
});
if(o.get_items().get_count()>0){p._populateItemsCount(o.get_selectedItem());
}o.add_navigating(function(r,q){p._populateItemsCount(q.get_item());
});
o.add_itemCreated(function(r,q){p._populateItemsCount(o.get_selectedItem());
});
},dispose:function(){c.ImageGalleryToolbar.callBaseMethod(this,"dispose");
},set__owner:function(j){this._owner=j;
},get_owner:function(){return this._owner;
},_animateProgressBar:function(){this._owner._$element.find(f).children().width(0).animate({width:"100%"},this._owner._animationSettings.slideDuration);
},_toggleProgressBarVisibility:function(){this._owner._$element.find(f).toggle(0).children().width(0).stop();
},_toggleSlideshowButtonsVisibility:function(){this._$slideshowButtons.toggle(0);
},_toggleThumbnailButtonsVisibility:function(){this._$thumbnailButtons.toggle(0);
},_toggleFullScreenButtonsVisibility:function(){this._$fullScreenButtons.toggle(0);
},_populateItemsCount:function(k){var n=this;
var l=n._owner._renderMode==c.RenderMode.Mobile?"{0} / {1}":"Item {0} of {1}";
if(!k){return;
}var m=k.get_owner(),j=m._$element;
j.find(".rigItemsCount").text(String.format(n._settings.itemsCounterFormat||l,k.get_itemIndex()+1,m.get_items().get_count()));
}};
c.ImageGalleryToolbar.registerClass("Telerik.Web.UI.ImageGalleryToolbar",b.Control);
})(Telerik.Web.UI,Sys.UI,$telerik.$);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.ImageGallery");
(function(c,b,a,d){b.KeyboardNavigation=function(e){var f=this;
b.KeyboardNavigation.initializeBase(f,[e]);
f._gallery=e;
f._firstRowThumbs={};
f._lastRowThumbs={};
f._rowsData={};
f._lastNavigatedItem=null;
};
b.KeyboardNavigation.prototype={initialize:function(){var f=this,e=f._gallery;
b.KeyboardNavigation.callBaseMethod(f,"initialize");
f._allowCycle=f._settings.allowCycle!==false;
f._initializeShortcuts();
f._initializeRowData();
e.add_navigating(function(h,g){f._lastNavigatedItem=g.get_item();
});
if(e.get_displayAreaMode()==b.DisplayAreaMode.LightBox){e.get_lightBox().add_closed(a.proxy(f._closed,f));
}},dispose:function(){b.KeyboardNavigation.callBaseMethod(this,"dispose");
},_initializeShortcuts:function(){var e=this;
e.registerShortcuts(e._settings.shortcuts,{Focus:e._focus,Prev:e._prev,Next:e._next,Up:e._up,Down:e._down,MoveToFirst:e._moveToFirst,MoveToLast:e._moveToLast,PrevView:e._prevView,NextView:e._nextView,Select:e._select,Close:e._close,ToggleSlideshow:e._toggleSlideshow,ToggleFullScreen:e._toggleFullScreen,ToggleThumbnails:e._toggleThumbnails,PrevPage:e._prevPage,NextPage:e._nextPage});
},_initializeRowData:function(){var n=this,h=n._gallery,f=h.get_thumbnailsArea()._$thumbs.children(),g=n._firstRowThumbs,i=n._lastRowThumbs,m=n._rowsData,j=Number.NEGATIVE_INFINITY,k=Number.POSITIVE_INFINITY,l,o,e;
f.each(function(p){e=a(this);
l=e.position();
o=l.top;
if(o>j){j=o;
}if(o<k){k=o;
}if(j==o){i[l.left]=p;
}if(k==o){g[l.left]=p;
}m[o]=m[o]||{};
m[o][l.left]=p;
});
},_focus:function(e){if(e.get_selectedIndex()==-1){this._highlight(0);
}},_prev:function(f){var g,e;
if(this._isInView()){g=f.get_selectedIndex()-1;
if(this._allowCycle&&g<0){g=f.get_items().get_count()-1;
}}else{e=this._$thumb();
g=this._getRowData(e.position().top)[this._scrollLeft()+f.get_thumbnailsArea()._$thumbs.parent().width()-e.width()];
}this._selectItem(g);
},_next:function(e){var f;
if(this._isInView()){f=e.get_selectedIndex()+1;
if(this._allowCycle&&f>=e.get_items().get_count()){f=0;
}}else{f=this._getRowData(this._$thumb().position().top)[this._scrollLeft()];
}this._selectItem(f);
},_up:function(f){var g,e;
if(this._isInView()){g=f.get_selectedIndex()-this._getThumbnailsPerRow();
if(this._allowCycle&&g<0){g=this._lastRowThumbs[a(f.get_selectedItem().get_thumbnailElement()).position().left+this._scrollLeft()];
}}else{e=this._$thumb();
g=this._getRowData(this._scrollTop()+f.get_thumbnailsArea()._$thumbs.parent().height()-e.height())[e.position().left];
}this._selectItem(g);
},_down:function(e){var f;
if(this._isInView()){f=e.get_selectedIndex()+this._getThumbnailsPerRow();
if(this._allowCycle&&f>=e.get_items().get_count()){f=this._firstRowThumbs[a(e.get_selectedItem().get_thumbnailElement()).position().left+this._scrollLeft()];
}}else{f=this._getRowData(this._scrollTop())[this._$thumb().position().left];
}this._selectItem(f);
},_moveToFirst:function(e){this._selectItem(0);
},_moveToLast:function(e){var f=e.get_items().get_count()-1;
this._selectItem(f);
},_prevView:function(e){e.get_thumbnailsArea().prevView();
},_nextView:function(e){e.get_thumbnailsArea().nextView();
},_select:function(e){if(!this._isCurrentItemOpened()&&e.get_displayAreaMode()!=b.DisplayAreaMode.ImageArea){e.selectItem(e.get_selectedItem());
}},_close:function(e){var f=e.get_imageArea();
if(e.isInFullScreen()){e.exitFullScreen();
}else{if(f&&e.get_displayAreaMode()!=b.DisplayAreaMode.ImageArea){f._close();
}}},_toggleSlideshow:function(f){var e=f.get_displayAreaMode();
if(e==b.DisplayAreaMode.ImageArea||(e==b.DisplayAreaMode.Thumbnails&&this._isCurrentItemOpened())){f.toggleSlideshow();
}},_toggleFullScreen:function(e){e.toggleFullScreen();
},_toggleThumbnails:function(e){if(e.get_displayAreaMode()==b.DisplayAreaMode.ImageArea&&e._thumbnailsSettings.mode==1){e.get_thumbnailsArea().toggle();
}},_prevPage:function(e){if(e.get_allowPaging()){e._shouldFocus=true;
e.updateClientState();
e.page("Prev");
}},_nextPage:function(e){if(e.get_allowPaging()){e._shouldFocus=true;
e.updateClientState();
e.page("Next");
}},_isCurrentItemOpened:function(){var f=this._gallery,e=f.get_displayAreaMode();
if(f.isInFullScreen()){return true;
}switch(e){case b.DisplayAreaMode.ImageArea:return true;
case b.DisplayAreaMode.Thumbnails:return f.get_imageArea().get_element().style.display!="none";
case b.DisplayAreaMode.LightBox:return f.get_lightBox().get_element().style.display!="none";
case b.DisplayAreaMode.ToolTip:return f.get_toolTip().isVisible();
default:return false;
}},_selectItem:function(e){if(this._isCurrentItemOpened()){if(!this._lastNavigatedItem||this._lastNavigatedItem.get_itemIndex()!=e){this._gallery.selectItem(e);
}}else{this._highlight(e);
}},_highlight:function(f){var e=this._gallery,g=e.get_items().getItem(f);
if(g){e._setActiveItem(g);
e._selectedIndex=g.get_itemIndex();
}},_getRowData:function(j){var i=this._rowsData,h=i[j],e=Number.POSITIVE_INFINITY,f,g;
if(!h){for(g in i){f=Math.abs(j-parseInt(g,10));
if(e>f){e=f;
h=i[g];
}}}return h;
},_isInView:function(){var e=this._gallery;
return e.get_thumbnailsArea()._isInView(a(e.get_selectedItem().get_thumbnailElement()));
},_$thumb:function(){return a(this._gallery.get_selectedItem().get_thumbnailElement());
},_scrollLeft:function(){return this._gallery.get_thumbnailsArea()._$thumbs.parent().scrollLeft();
},_scrollTop:function(){return this._gallery.get_thumbnailsArea()._$thumbs.parent().scrollTop();
},_getThumbnailsPerRow:function(){var e=this._gallery.get_thumbnailsArea();
return Math.round(e._$thumbs.width()/e.get_thumbnailWidth());
},_closed:function(){this._gallery.get_element().focus();
}};
b.KeyboardNavigation.registerClass("Telerik.Web.UI.ImageGallery.KeyboardNavigation",c.KeyboardNavigation);
})(Telerik.Web.UI,Telerik.Web.UI.ImageGallery,$telerik.$);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.ImageGallery");
$telerik.findImageGallery=$find;
$telerik.toImageGallery=function(a){return a;
};
(function(d,c,a,e){var b=d.ImageGallery;
Telerik.Web.UI.RadImageGallery=function(f){var g=this;
d.RadImageGallery.initializeBase(g,[f]);
g._itemsData=[];
g._items=new d.ImageGalleryItemCollection(this);
g._clientId=f.id;
g._$element=a(f);
g._thumbnailsArea=null;
g._imageArea=null;
g._keyboardNavigation=null;
g._$activeImageDiv=g._$element.find(".rigActiveImage");
g._slideshowTimeout=null;
g._isInFullScreen=false;
g._dimensions={};
g._isNavigating=false;
g._shouldFocus=false;
g._oldMetaViewport=null;
g._oldThumbnailProps={};
g._$thumbnailsList=null;
g._clientDataSourceID="";
g._clientDataSource=null;
g._dataSource=null;
g._titleField=null;
g._imageUrlField=null;
g._descriptionField=null;
g._thumbnailUrlField=null;
g._uniqueID=null;
g._thumbnailsSettings={};
g._imageAreaSettings={};
g._toolbarSettings={};
g._animationSettings={};
g._keyboardNavigationSettings={};
g._allowKeyboardNavigation=false;
g._selectedIndex=0;
g._activeIndex=-1;
g._allowPaging=false;
g._currentPageIndex=0;
g._pageSize=10;
g._pageCount=1;
g._displayAreaMode=b.DisplayAreaMode.ImageArea;
g._loopItems=false;
};
d.RadImageGallery.prototype={initialize:function(){var f=this;
d.RadImageGallery.callBaseMethod(f,"initialize");
f._createItems(f._itemsData);
f._initializeToolbar();
f._initializeImageArea();
f._initializeThumbnailsArea();
f._initializeKeyboardNavigation();
f._initializeEvents();
f._setupInitialState();
f._initializeMobileGestures();
f._initializePinchZoom();
f._raiseControlEvent("imageGalleryCreated");
},dispose:function(){var f=this;
f.stopSlideshow();
a(document).off("."+f._clientId);
f._$element.off("."+f._clientId).find("*").off("."+f._clientId);
if(f._toolbar){f._toolbar.dispose();
}if(f._imageArea){f._imageArea.dispose();
}if(f._thumbnailsArea){f._thumbnailsArea.dispose();
}if(f._keyboardNavigation){f._keyboardNavigation.dispose();
}if(f._thumbnailsAreaMobileGestures){f._thumbnailsAreaMobileGestures.destroy();
}if(f._imageAreaMobileGestures){f._imageAreaMobileGestures.destroy();
}d.RadImageGallery.callBaseMethod(f,"dispose");
},get__itemsData:function(){return this._itemsData;
},set__itemsData:function(f){this._itemsData=f;
},get_items:function(){var f=this;
if(!f._items){f._items=new d.ImageGalleryItemCollection(f);
}return f._items;
},get_loadingPanel:function(){return $find(String.format("{0}_{1}",this.get_id(),"LoadingPanel"));
},get_lightBox:function(){return $find(String.format("{0}_{1}",this.get_id(),"LightBox"));
},get_toolTip:function(){return $find(String.format("{0}_{1}",this.get_id(),"ToolTip"));
},get_selectedIndex:function(){return this._selectedIndex;
},get_selectedItem:function(){return this.get_items().getItem(this._selectedIndex);
},get_allowPaging:function(){return this._allowPaging;
},get_currentPageIndex:function(){return this._currentPageIndex;
},set_currentPageIndex:function(f){return this.get_allowPaging()?this.fireCommand("Page",f):false;
},get_pageSize:function(){return this._pageSize;
},set_pageSize:function(f){return this.get_allowPaging()?this.fireCommand("ChangePageSize",f):false;
},get_displayAreaMode:function(){return this._displayAreaMode;
},get_thumbnailsArea:function(){return this._thumbnailsArea;
},get_imageArea:function(){return this._imageArea;
},fireCommand:function(g,f){if(this._raiseCancellableControlEvent("command",{commandName:g,commandArgument:f})){return false;
}this._executePostBackEvent(this._constructPostBackData(g,f));
return true;
},selectItem:function(g){var i=this,f=typeof g=="number"?i.get_items().getItem(g):g,h=i.get_selectedItem();
if(!d.ImageGalleryItem.isInstanceOfType(f)||i._raiseCancellableControlEvent("navigating",{item:f,itemIndex:f.get_itemIndex()})||i._requestTemplateIfNeeded(f)){return;
}i._setActiveItem(f);
i._selectedIndex=f.get_itemIndex();
if(f._type==b.ItemType.Template){i._showTemplate();
}else{i._showLoadingPanel();
i._requestImageUrl(f,a.proxy(this._imageRequested,this));
}if((!f._preventDefaultGestures&&h&&h._preventDefaultGestures)||(!i._imageAreaMobileGestures||!i._pinchZoom)&&!h){i._initializeMobileGestures();
i._initializePinchZoom();
}if(f._preventDefaultGestures&&!h._preventDefaultGestures){i._imageAreaMobileGestures.destroy();
i._imageAreaMobileGestures=null;
if(i._pinchZoom){i._pinchZoom.destroy();
i._pinchZoom=null;
}}},next:function(){var g=this,f=g._selectedIndex+1;
if(f>=g.get_items().get_count()&&g._loopItems){f=0;
}g.selectItem(f,g._animationSettings.nextImagesAnimation);
},prev:function(){var g=this,f=g._selectedIndex-1;
if(f<0&&g._loopItems){f=g.get_items().get_count()-1;
}g.selectItem(f,g._animationSettings.prevImagesAnimation);
},page:function(f){var i=this,h=i._pageCount-1,g;
switch(f){case"First":g=0;
break;
case"Last":g=h;
break;
case"Next":g=i.get_currentPageIndex()+1;
break;
case"Prev":g=i.get_currentPageIndex()-1;
break;
default:g=parseInt(f,10);
break;
}if(!i.get_allowPaging()||g<0||g>h||g==i.get_currentPageIndex()){return false;
}return i.fireCommand("Page",f);
},enterFullScreen:function(){var k=this;
var h=k.get_element();
var f=k._$element;
var g=k._dimensions;
var o=k._toolbar;
var j=k.get_imageArea();
var l=k.get_thumbnailsArea();
var i=k._$activeImageDiv.data("options");
var m=k._$thumbnailsList.data("options");
var n=function(){if(!l._$element.is(":visible")){k.repaint();
clearInterval(n);
}};
if(k._isInFullScreen||k._raiseCancellableControlEvent("fullScreenEntering")){return;
}k._isInFullScreen=true;
if(k.get_displayAreaMode()!=b.DisplayAreaMode.ImageArea){k._wasOpened=j._isOpened();
if(!k._wasOpened){j._open();
k.selectItem(k.get_selectedItem());
}}if(o){o._toggleFullScreenButtonsVisibility();
}g.contentAreaHeight=a(j.get_element()).height();
g.contentAreaWidth=j.get_element().style.width;
g.width=h.style.width;
g.height=f.height();
if(h.requestFullScreen){h.requestFullScreen();
}else{if(h.webkitRequestFullscreen){h.webkitRequestFullscreen();
f.width("100%");
f.height("100%");
}else{if(h.mozRequestFullScreen){h.mozRequestFullScreen();
}else{if(h.msRequestFullScreen){h.msRequestFullScreen();
}else{f.width("100%").height("100%").css({position:"fixed",top:0,left:0});
g.overflow=document.body.style.overflow;
document.body.style.overflow="hidden";
g.htmlOverflow=document.body.parentNode.style.overflow;
document.body.parentNode.style.overflow="hidden";
k._onFullScreenChange(null,true);
}}}}if(k._renderMode==d.RenderMode.Mobile){if(k.get_displayAreaMode()==d.ImageGallery.DisplayAreaMode.ImageArea||(k.get_displayAreaMode()==d.ImageGallery.DisplayAreaMode.Thumbnails&&k._thumbnailsSettings.mode==d.ImageGallery.ThumbnailAreaMode.Thumbnails)){j._$element.find(".rigItemsCount").show();
}j._$nextButton.hide();
j._$prevButton.hide();
if(k._toolbar._$element.is(":visible")){j._$element.find(".rigDescription").add(j._$element.find(".rigDescriptionBox")).show();
}if(k.get_displayAreaMode()==d.ImageGallery.DisplayAreaMode.ImageArea&&k._thumbnailsSettings.mode==d.ImageGallery.ThumbnailAreaMode.Thumbnails){l._$element.hide();
setInterval(n);
}if(m){m.alwaysPreventDefault=true;
m.ignoreMoveEvents=false;
}if(i){i.alwaysPreventDefault=true;
i.ignoreMoveEvents=false;
}k._pinchZoom.enable();
}},exitFullScreen:function(){var k=this;
var h=k.get_element();
var f=k._$element;
var g=k._dimensions;
var n=k._toolbar;
var j=k.get_imageArea();
var l=k.get_thumbnailsArea();
var i=k._$activeImageDiv.data("options");
var m=k._$thumbnailsList.data("options");
if(!k._isInFullScreen){return;
}if(k._get_isMobileImageThumbnailMode()){l._$element.show();
j._$image.show();
l._$nextButton.show();
l._$prevButton.show();
}k._isInFullScreen=false;
if(k.get_displayAreaMode()!=b.DisplayAreaMode.ImageArea&&!k._wasOpened){j._close();
}if(k._get_isMobileImageThumbnailMode()){k._restoreThumbnailAreaDimensions();
}f.height(g.height);
h.style.width=g.width;
if(n){k._toolbar._toggleFullScreenButtonsVisibility();
}if(document.cancelFullScreen){document.cancelFullScreen();
}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();
}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen();
}else{if(document.msCancelFullScreen){document.msCancelFullScreen();
}else{f.css({position:"relative",top:null,left:null});
document.body.style.overflow=g.overflow;
document.body.parentNode.style.overflow=g.htmlOverflow;
k._onFullScreenChange(null,false);
}}}}if(k._renderMode==d.RenderMode.Mobile){if(k.get_displayAreaMode()==d.ImageGallery.DisplayAreaMode.ImageArea||(k.get_displayAreaMode()==d.ImageGallery.DisplayAreaMode.Thumbnails&&k._thumbnailsSettings.mode==d.ImageGallery.ThumbnailAreaMode.Thumbnails)){j._$element.find(".rigItemsCount").hide();
}if(k.get_displayAreaMode()!=d.ImageGallery.DisplayAreaMode.Thumnbails){j._$nextButton.show();
j._$prevButton.show();
}j._$element.find(".rigDescription").hide();
k._$element.find(".rigToolsWrapper").add(k._toolbar._$element).add(k._$element.find(".rigDescriptionBox")).show();
if(m){m.alwaysPreventDefault=false;
m.ignoreMoveEvents=true;
}if(i){i.alwaysPreventDefault=false;
i.ignoreMoveEvents=true;
}k._pinchZoom.disable();
k._pinchZoom.resetImageStyles();
k.repaint();
}},toggleFullScreen:function(){var f=this;
if(f._isInFullScreen){f.exitFullScreen();
}else{f.enterFullScreen();
}},isInFullScreen:function(){return this._isInFullScreen;
},playSlideshow:function(f){if(arguments.length==0){f=true;
}var i=this,j=i._toolbar;
if(i.isPlaying()||(f&&i._raiseCancellableControlEvent("slideshowPlay"))){return;
}if(j){j._toggleSlideshowButtonsVisibility();
j._toggleProgressBarVisibility();
j._animateProgressBar();
}function h(){if(i.isPlaying()&&!i._isNavigatingFromSlideshow){i.stopSlideshow(false);
if(j){i._toolbar._toggleSlideshowButtonsVisibility();
}i._waitTillNavigated(function(){if(j){i._toolbar._toggleSlideshowButtonsVisibility();
}i.playSlideshow(false);
});
}}i.add_navigating(h);
i._slideshowTimeout=setTimeout(function(){if(i.isPlaying()){i.add_navigated(g);
i._isNavigatingFromSlideshow=true;
i.next();
i._isNavigatingFromSlideshow=false;
}},i._animationSettings.slideDuration);
function g(){if(i.isPlaying()){if(j){j._animateProgressBar();
}i._slideshowTimeout=setTimeout(function(){if(i.isPlaying()){i.next();
}else{i.remove_navigated(g);
}},i._animationSettings.slideDuration);
}else{i.remove_navigated(g);
}}},stopSlideshow:function(f){if(arguments.length==0){f=true;
}var g=this,h=g._toolbar;
if(g.isPaused()||(f&&g._raiseCancellableControlEvent("slideshowStop"))){return;
}if(h){h._toggleSlideshowButtonsVisibility();
h._toggleProgressBarVisibility();
}clearTimeout(g._slideshowTimeout);
g._slideshowTimeout=null;
},toggleSlideshow:function(){var f=this;
if(f.isPlaying()){f.stopSlideshow();
}else{f.playSlideshow();
}},isPlaying:function(){return !!this._slideshowTimeout;
},isPaused:function(){return !this._slideshowTimeout;
},repaint:function(){var g=this,f=g.get_imageArea();
if(this.isInFullScreen()){g._resize();
}if(f){f._fitImage();
}},saveClientState:function(){var f={};
f.selectedIndex=this._selectedIndex;
if(this._shouldFocus){f.shouldFocus=true;
}return Sys.Serialization.JavaScriptSerializer.serialize(f);
},_initializeToolbar:function(){var g=this,f=g.get_id(),h=a(g.get_element()).find(".rigToolbar")[0];
if(h){g._toolbar=$create(d.ImageGalleryToolbar,null,null,{_owner:f},h);
g._toolbar._owner=g;
g._toolbar._settings=g._toolbarSettings;
g._toolbar.initialize();
}},_initializeImageArea:function(){var g=this,f=g.get_id();
g._imageArea=$create(d.ImageGalleryImageArea,null,null,{_owner:f},$get(String.format("{0}_{1}",f,"ImageArea")));
g._imageArea._owner=g;
g._imageArea._settings=g._imageAreaSettings;
g._imageArea.initialize();
},_initializeThumbnailsArea:function(){var g=this,f=g.get_id();
g._thumbnailsArea=$create(d.ImageGalleryThumbnailsArea,null,null,{_owner:f},$get(String.format("{0}_{1}",f,"ThumbnailsArea")));
g._thumbnailsArea._owner=g;
g._thumbnailsArea._settings=g._thumbnailsSettings;
g._thumbnailsArea.initialize();
g._$thumbnailsList=g._$element.find(".rigThumbnailsList");
},_initializeKeyboardNavigation:function(){var f=this;
if(f._allowKeyboardNavigation){f._keyboardNavigation=new b.KeyboardNavigation(f);
f._keyboardNavigation._settings=f._keyboardNavigationSettings;
f._keyboardNavigation.initialize();
if(f._shouldFocus){f.get_element().focus();
}}},_initializePinchZoom:function(){var g=this;
var f=g._$activeImageDiv.find("img:first");
if(g._renderMode!==d.RenderMode.Mobile){return;
}if(g._pinchZoom){g._pinchZoom.destroy();
}g._pinchZoom=f.pinchZoom();
g._pinchZoom.disable();
},_initializeMobileGestures:function(){var n=this;
var p=n._thumbnailsArea;
var m=n.get_selectedItem();
var k=this._renderMode===d.RenderMode.Mobile;
var h={};
var o={};
var g;
var f;
var l;
var i;
var j;
if(m&&!n.get_selectedItem()._preventDefaultGestures&&!n._imageAreaMobileGestures){if(!k){h={swipeDown:a.proxy(p.hide,p),swipeUp:a.proxy(p.show,p),tapHold:function(q){if(q.target.className.indexOf("rigIcon")==-1){n.toggleSlideshow();
}}};
}else{h={alwaysPreventDefault:false,ignoreMoveEvents:true};
}a.extend(h,{swipeLeft:function(q){if(!n._pinchZoom||(n._pinchZoom&&n._pinchZoom.getScale()==1)){n.next();
}},swipeRight:function(q){if(!n._pinchZoom||(n._pinchZoom&&n._pinchZoom.getScale()==1)){n.prev();
}},tap:function(q){if(k&&n._isInFullScreen){n._$element.find(".rigToolsWrapper").add(n._toolbar._$element).add(n._$element.find(".rigDescriptionBox")).slideToggle(300);
}else{f=a(q.target);
l=n.get_selectedItem().get_navigateUrl();
if(l&&f.is("img")){window.location.href=l;
}}},doubleTap:a.proxy(n.toggleFullScreen,n),doubleTapThreshold:300,holdThresholds:1000,instanceData:{name:"ImageGalleryImageArea"}});
n._imageAreaMobileGestures=n._$activeImageDiv.gestures(h);
}if(!n._thumbnailsAreaMobileGestures){if(p._settings.mode===1){if(k){o={alwaysPreventDefault:false,ignoreMoveEvents:true,swipeLeft:function(q){if(!p._settings.isVertical){p.nextView();
}},swipeRight:function(q){if(!p._settings.isVertical){p.prevView();
}}};
}if(!k){o={swipeDown:function(q){if(p._settings.isVertical){p.prevView();
}},swipeUp:function(q){if(p._settings.isVertical){p.nextView();
}}};
}a.extend(o,{tap:function(q){g=n._$thumbnailsList.children();
i=g.index(a(q.target).closest("li"));
j=n.get_items().getItem(i);
if(!j){return;
}n.selectItem(j);
},instanceData:{name:"ImageGalleryThumbnailArea"}});
n._thumbnailsAreaMobileGestures=n._$thumbnailsList.gestures(o);
}else{n._thumbnailsAreaMobileGestures=a(n.get_element()).find(".rigDotList").gestures({tap:function(q){g=n._$element.find(".rigDotList").children();
i=g.index(a(q.target).closest("a"));
j=n.get_items().getItem(i);
if(!j){return;
}n.selectItem(j);
}});
}}},_constructPostBackData:function(g,f){return String.format("FireCommand:{0}|;{1}|;",g,f);
},_executePostBackEvent:function(f){var g;
if($telerik.isFirefox){g=window.event;
window.event={target:this.get_element()};
}__doPostBack(this._uniqueID,f);
if($telerik.isFirefox){window.event=g;
}},_getEventName:function(f){var g=f.split(" "),k=g.length,h=0,j=this._clientId;
for(;
h<k;
h++){g[h]=String.format("{0}.{1}",g[h],j);
}return g.join(" ");
},_initializeCallback:function(f,g){window.WebForm_DoCallback(this._uniqueID,f,g,"",null,false);
},_createItems:function(h){var j=this,f=(j._$thumbnailsList||j._$element.find(".rigThumbnailsList")).children(),i=false,g;
a.each(h,function(l,k){g=new d.ImageGalleryItem();
for(var m in k){g["_"+m]=k[m];
}g._owner=j;
g._$thumbnailElement=f.eq(l);
g._$thumbnailElement.prop("item",g);
g._itemIndex=l;
g._position=g._$thumbnailElement.position();
j.get_items()._array.push(g);
g._cropImage();
if($telerik.isIE7&&!i&&j.get_selectedItem()){i=true;
j._setActiveItem(j.get_selectedItem());
}});
},_initializeEvents:function(){var f=this;
Sys.Application.add_load(a.proxy(f._initializeAutoDataBind,f));
a(window).resize(a.proxy(f.repaint,f));
a(f.get_thumbnailsArea().get_element()).on(f._getEventName("click"),function(g){var h=a(g.target).closest("li").prop("item");
if(h){f.selectItem(h);
g.preventDefault();
}});
a(document).on(f._getEventName("fullscreenchange webkitfullscreenchange mozfullscreenchange"),function(g){var h=document.fullScreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.webkitFullScreenElement||document.msFullScreenElement;
if(f.get_imageArea()&&(f.get_element()==h||!h)){if($telerik.isChrome){setTimeout(function(){f._onFullScreenChange(g);
},100);
}else{f._onFullScreenChange(g);
}}});
if(f.get_loadingPanel()){f.get_loadingPanel().add_showing(function(h,g){a(g.get_loadingElement()).appendTo(a(g.get_updatedElement()).width("100%").height("100%")).css({top:0,left:0});
});
}if(f.get_lightBox()){f.get_lightBox().add_navigating(function(h,g){g.set_cancel(true);
f.selectItem(g.get_itemIndex());
});
}f.add_navigating(function(){f._isNavigating=true;
});
f.add_navigated(function(){f._isNavigating=false;
f.updateClientState();
});
f.add_itemCreated(function(h,g){if(g.get_itemIndex()==f._selectedIndex){f.selectItem(g.get_item());
}});
if(f._allowKeyboardNavigation){f._$element.on(f._getEventName("click"),function(){f._$element.focus();
});
}},_setupInitialState:function(){if(this._activeIndex!=-1){this.selectItem(this._activeIndex);
}},_requestTemplateIfNeeded:function(f){if(f._type==b.ItemType.Template&&!f._loaded){return this.fireCommand("ChangeItemIndex",f.get_itemIndex());
}},_requestImageUrl:function(i,g){var j=this,f={item:i,imageType:b.ImageType.Content,set_imageUrl:function(k){f._imageUrl=k;
}};
if(j._raiseCancellableControlEvent("imageLoading",f)){i._imageUrl=f._imageUrl||i._imageUrl;
g(f._imageUrl||i._imageUrl);
return;
}if(i.get_imageUrl()){if(i._exprires){var h=new Image();
h.onload=function(){g(i.get_imageUrl());
};
h.onerror=function(){i._imageUrl=null;
i._exprires=false;
j._requestImageUrl(i,g);
};
h.src=i.get_imageUrl();
}else{g(i.get_imageUrl());
}}else{j._initializeCallback("getImageUrl$$"+i.get_itemIndex(),function(k){i._imageUrl=k;
i._exprires=true;
g(k);
});
}},_imageRequested:function(g){var i=this.get_toolTip();
var h=this.get_selectedItem();
var f;
if(this._selectedIndex>h.get_itemIndex()){f=this._animationSettings.prevImagesAnimation;
}else{f=this._animationSettings.nextImagesAnimation;
}switch(this.get_displayAreaMode()){case b.DisplayAreaMode.ImageArea:this.get_imageArea()._select(g,f);
break;
case b.DisplayAreaMode.Thumbnails:this.get_imageArea()._open();
this.get_imageArea()._select(g,f);
break;
case b.DisplayAreaMode.LightBox:if(this.isInFullScreen()){this.get_imageArea()._select(g,f);
}else{this.get_lightBox().get_items().getItem(h.get_itemIndex()).set_imageUrl(g);
this.get_lightBox().navigateTo(h.get_itemIndex(),true);
}break;
case b.DisplayAreaMode.ToolTip:if(this.isInFullScreen()){this.get_imageArea()._select(g,f);
}else{this._ensureToolTipVisible(i,function(){i.get_contentElement().children[0].onload=function(){i.showLoadingMessage(false);
i.get_popupElement().style.width="";
if(i._tableElement){i._tableElement.style.width="";
if($telerik.isIE7){i.get_popupElement().style.width=i._tableElement.offsetWidth+15+"px";
}}i.updateLocation();
i._adjustCallout();
};
i.get_contentElement().children[0].style.display="";
i.get_contentElement().children[0].src=g;
if(i.get_contentElement().children[1]){i.get_contentElement().children[1].style.display="none";
}});
}break;
}},_showTemplate:function(){var f=this._$element;
var g=this.get_toolTip();
switch(this.get_displayAreaMode()){case b.DisplayAreaMode.ImageArea:this.get_imageArea()._select();
break;
case b.DisplayAreaMode.Thumbnails:this.get_imageArea()._open();
this.get_imageArea()._select();
break;
case b.DisplayAreaMode.LightBox:if(this.isInFullScreen()){this.get_imageArea()._select();
}else{this.get_lightBox().navigateTo(this.get_selectedItem().get_itemIndex(),true);
}break;
case b.DisplayAreaMode.ToolTip:if(this.isInFullScreen()){this.get_imageArea()._select();
}else{this._ensureToolTipVisible(g,function(){a(g.get_contentElement()).append(f.find(".rigTemplate"));
g.get_popupElement().style.width="";
if(g._tableElement){g._tableElement.style.width="";
if($telerik.isIE7){g.get_popupElement().style.width=g._tableElement.offsetWidth+15+"px";
}}g.updateLocation();
g._adjustCallout();
g.get_contentElement().children[0].style.display="none";
g.get_contentElement().children[1].style.display="";
});
}break;
}},_setActiveItem:function(k){var l=this.get_selectedItem(),f=this._$element.find(".rigDotList").children(),g="rigThumbnailActive",h="rigCurrentItem",m=parseInt(this._thumbnailsSettings.thumbnailWidth,10)||100,j=parseInt(this._thumbnailsSettings.thumbnailHeight,10)||100,i;
if($telerik.isIE7){m-=2;
j-=2;
}if(l===k){i=a(l.get_thumbnailElement()).addClass(g).children().get(0);
if(i){i.style.width=m+"px";
i.style.height=j+"px";
}f.eq(l.get_itemIndex()).addClass(h);
}else{if(l){a(l.get_thumbnailElement()).removeClass(g).children();
f.eq(l.get_itemIndex()).removeClass(h);
}i=a(k.get_thumbnailElement()).addClass(g).children().get(0);
if(i){i.style.width=m+"px";
i.style.height=j+"px";
}f.eq(k.get_itemIndex()).addClass(h);
}this._raiseControlEvent("thumbSelected",{item:k,itemIndex:k.get_itemIndex()});
},_get_isMobileImageThumbnailMode:function(){var f=this;
return f._renderMode==d.RenderMode.Mobile&&f.get_displayAreaMode()==d.ImageGallery.DisplayAreaMode.ImageArea&&f._thumbnailsSettings.mode==d.ImageGallery.ThumbnailAreaMode.Thumbnails;
},_saveThumbnailAreaDimensions:function(){var g=this;
var f=g.get_thumbnailsArea()._$element;
g._oldThumbnailProps={tw:g._$thumbnailsList.width(),th:g._$thumbnailsList.height(),teh:f.height()};
},_restoreThumbnailAreaDimensions:function(){var g=this;
var f=g.get_thumbnailsArea()._$element;
g._$thumbnailsList.width(g._oldThumbnailProps.tw).height(g._oldThumbnailProps.th);
f.height(g._oldThumbnailProps.teh);
},_toggleThumbnailsMode:function(g){var h=this;
var f=h.get_thumbnailsArea()._$element;
if(g){h._saveThumbnailAreaDimensions();
h._$thumbnailsList.width("100%").height("100%");
f.height("100%").show();
}else{h._restoreThumbnailAreaDimensions();
f.hide();
}},_onFullScreenChange:function(i,l){var m=this,n=m.get_thumbnailsArea(),g=m._$element,f=a(m.get_imageArea().get_element()),h=m._dimensions,k=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullScreen||document.isFullScreen||l,j="rigFullscreen";
if(!k&&Telerik.Web.UI.ImageGallery.fullScreenElement!=m.get_element()){return;
}m._handleMetaViewport(k);
if(k){Telerik.Web.UI.ImageGallery.fullScreenElement=m.get_element();
g.addClass(j);
m._resize();
m.get_imageArea()._fitImage();
m._raiseControlEvent("fullScreenEntered");
}else{m.exitFullScreen();
g.removeClass(j);
f.height(h.contentAreaHeight);
f.get(0).style.width=h.contentAreaWidth;
n._setNextPrevButtonsVisibility();
m._raiseControlEvent("fullScreenExited");
}m.get_imageArea()._fitImage();
},_handleMetaViewport:function(h){if(!$telerik.isTouchDevice){return;
}var i;
var f="";
var g=this.get_id()+"_meta";
var j=a("meta[name='viewport']");
if(j.length>=1){i=j.get(0);
}if(h){f="width=device-width,user-scalable=no,initial-scale=1";
if(i){this._oldMetaViewport=i.getAttribute("content");
}else{i=document.createElement("meta");
i.id=g;
i.setAttribute("name","viewport");
document.head.appendChild(i);
}i.setAttribute("content",f);
}else{if(this._oldMetaViewport){i.setAttribute("content",this._oldMetaViewport);
this._oldMetaViewport=null;
}}},_resize:function(){var i=this,j=i.get_thumbnailsArea(),f=a(i.get_imageArea().get_element()),g=a(j.get_element()),h,k;
h=(window.innerHeight?window.innerHeight:a(window).height())-i._$element.find(".rigPager").outerHeight();
k=a(window).width();
if(i.get_thumbnailsArea()._isPositionHorizontal){if(g.is(":visible")){f.height(h-g.height());
}else{f.height(h);
}}else{if(g.is(":visible")){f.width(k-g.width());
}else{f.width(k);
}f.height(h);
}j._setNextPrevButtonsVisibility();
},_showLoadingPanel:function(){var g=this,f=g.get_selectedItem(),h=g.get_toolTip();
if(g.isInFullScreen()){g.get_imageArea()._showLoadingPanel();
return;
}switch(g.get_displayAreaMode()){case b.DisplayAreaMode.ImageArea:case b.DisplayAreaMode.Thumbnails:g.get_imageArea()._showLoadingPanel();
break;
case b.DisplayAreaMode.LightBox:g.get_lightBox().get_items().getItem(f.get_itemIndex()).set_imageUrl("fake");
g.get_lightBox().show();
break;
case b.DisplayAreaMode.ToolTip:h.hide();
if(h.get_contentElement()){h.get_contentElement().children[0].style.display="none";
}h.set_targetControl(f.get_thumbnailElement());
g._ensureToolTipVisible(h);
break;
}},_waitTillNavigated:function(f){var h=this;
function g(){h.remove_navigated(g);
f();
}if(h._isNavigating){h.add_navigated(g);
}else{f();
}},_ensureToolTipVisible:function(h,f){var g=this;
f=f||a.noop;
if(h.isVisible()){f();
}else{setTimeout(function(){h.show();
if(h._tableElement){h._tableElement.style.width="200px";
}if(g.get_loadingPanel()){h.showLoadingMessage(true);
}f();
},11);
}},_raiseControlEvent:function(g,f){f=f||{};
a.raiseControlEvent(this,g,f);
},_raiseCancellableControlEvent:function(g,f){f=f||{};
return a.raiseCancellableControlEvent(this,g,f);
},_initializeAutoDataBind:function(){var g=this,f;
if(g._clientDataSourceID){f=g._clientDataSource=$find(g._clientDataSourceID);
if(f){f.set_allowPaging(false);
f.fetch(function(h){g._dataSource=h.get_data();
g._createItemsFromDataSource();
});
}}},_createItemsFromDataSource:function(){var n=this,h=n._dataSource,m=0,i=h.length,f=new Sys.CancelEventArgs(),l=false,g;
if(!a.isArray(h)){return;
}a.raiseControlEvent(n,"dataBinding",f);
if(f.get_cancel()){return;
}for(var j=m,k=i;
j<k;
j++){g=h[j];
n.get_items().add({thumbnailUrl:g[n._thumbnailUrlField],imageUrl:g[n._imageUrlField],title:g[n._titleField],description:g[n._descriptionField]});
if($telerik.isIE7&&!l&&n.get_selectedItem()){l=true;
n._setActiveItem(n.get_selectedItem());
}}a.raiseControlEvent(n,"dataBound",{});
n._initializeMobileGestures();
n._initializePinchZoom();
}};
a.registerControlEvents(d.RadImageGallery,["imageGalleryCreated","command","fullScreenEntering","fullScreenEntered","fullScreenExited","slideshowPlay","slideshowStop","navigating","navigated","imageLoading","imageLoaded","itemCreated","thumbSelected"]);
d.RadImageGallery.registerClass("Telerik.Web.UI.RadImageGallery",d.RadWebControl);
a.registerEnum(b,"DisplayAreaMode",{ImageArea:1,Thumbnails:2,LightBox:3,ToolTip:4});
a.registerEnum(b,"ImageType",{Content:1,Thumbnail:2});
a.registerEnum(b,"ItemType",{Image:1,Template:2});
})(Telerik.Web.UI,Sys.UI,$telerik.$);
