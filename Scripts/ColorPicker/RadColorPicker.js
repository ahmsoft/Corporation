(function(){Type.registerNamespace("Telerik.Web");
Type.registerNamespace("Telerik.Web.UI");
var a=$telerik.$;
var b=Telerik.Web.UI;
var c=Function.createDelegate;
var e=".telerikColorPicker";
var d=Telerik.Web.UI.EventType.Down+e;
$telerik.toColorPicker=function(f){return f;
};
$telerik.findColorPicker=$find;
a.registerEnum(b,"PaletteModes",{WebPalette:1,RGBSliders:2,HSB:4,HSV:8,All:(1+2+4+8)});
b.ColorPickerColorChangeEventArgs=function(f){b.ColorPickerColorChangeEventArgs.initializeBase(this);
this._oldColor=f;
};
b.ColorPickerColorChangeEventArgs.prototype={get_oldColor:function(){return this._oldColor;
}};
b.ColorPickerColorChangeEventArgs.registerClass("Telerik.Web.UI.ColorPickerColorChangeEventArgs",Sys.EventArgs);
b.ColorPickerColorPreviewEventArgs=function(f){b.ColorPickerColorPreviewEventArgs.initializeBase(this);
this._color=f;
};
b.ColorPickerColorPreviewEventArgs.prototype={get_color:function(){return this._color;
}};
b.ColorPickerColorPreviewEventArgs.registerClass("Telerik.Web.UI.ColorPickerColorPreviewEventArgs",Sys.EventArgs);
b.ColorPickerColorSelectingEventArgs=b.ColorPickerColorPreviewEventArgs;
b.RadColorPicker=function(f){b.RadColorPicker.initializeBase(this,[f]);
this._selectedColor=null;
this._selectedColorName="";
this._autoPostBack=false;
this._enabled=true;
this._previewColor=true;
this._showIcon=false;
this._showEmptyColor=true;
this._lastPreviewColor="";
this._elementsByColor=[];
this._indexByColor=[];
this._mouseUpHandler=null;
this._localization=null;
this._popupBehavior=null;
this._paletteDisplayed=false;
this._uniqueID=null;
this._columns=18;
this._items=null;
this._width=0;
this._skin="Default";
this._overlay=false;
this._keepInScreenBounds=true;
this._isTouchSkin=false;
this._paletteModes=b.PaletteModes.WebPalette;
this._selectedTab=null;
this._selectedContainer=null;
this._tabStrip=null;
this._multiPage=null;
this._webPalettePageView=null;
this._rgbPageView=null;
this._millionColorsPageView=null;
this._header=null;
this._rgbSlidersDefaultValue=255;
this._rgbSlidersDefaultSize=217;
this._redInput=null;
this._greenInput=null;
this._blueInput=null;
this._hexColorInput=null;
this._applyButton=null;
this._defaultRGBWidth=270;
this._rgbSlidersMinSize=115;
this._eventStartedInControl=false;
this._inputAvoidRecursion=false;
this._sliderAvoidRecursion=false;
this._millionColorsPalette=null;
this._millionColorsHandle=null;
this._millionColorsSliderWidth="22px";
this._millionColorsSliderHeight="162px";
this._millionColorsInputs=null;
this._millionColorsResizeExtender=null;
this._millionColorsAvoidRecursion=false;
this._millionColorsSliderAvoidRecursion=false;
this._rightToLeft=false;
this._enableCustomColor=false;
this._customColorOkButton=null;
this._customColorCancelButton=null;
this._customColorPalette=null;
this._customColorPopupBehavior=null;
this._customColorModalExtender=null;
this._customColorPreviewElement=null;
this._hexCustomColorInput=null;
this._millionCustomColorsPalette=null;
this._millionCustomColorsHandle=null;
this._millionCustomColorsInputs={r:null,g:null,b:null,h:null,s:null,l:null};
this._millionCustomColorsResizeExtender=null;
this._showRecentColors=false;
this._recentColorsWrapper=null;
this._recentColors=[];
this._recentElementsByColor=[];
this._accessKey="";
this._tabIndex=0;
this._iconLink=null;
this._paletteSizes={};
this._renderer=null;
this.ShowPalette=this.showPalette;
this.HidePalette=this.hidePalette;
this.GetIconContainer=this.getIconContainer;
this.GetPaletteContainer=this.getPaletteContainer;
};
b.RadColorPicker.prototype={initialize:function(){b.RadColorPicker.callBaseMethod(this,"initialize");
this._renderer=this._getRenderer();
this._calculateRenderSettings();
var f=this.get_element();
if($telerik.isRightToLeft(f)){Sys.UI.DomElement.addCssClass(f,"RadColorPickerRTL");
Sys.UI.DomElement.addCssClass(f,"RadColorPickerRTL_"+this._skin);
this._rightToLeft=true;
}this._initializeFields();
this._localization=eval(this._localization);
if(!this._showIcon){this._paletteDisplayed=true;
this._initializeColorElementsArray();
this._setElementsSize();
this._setRightRoundedCornerAndShadowHeight(this._paletteWrapperElement);
}this._initializeEventHandlers();
this._applyAccessKey();
this.set_selectedColor(this._selectedColor,false,true);
if(this._items){this._items=eval(this._items);
}this.raiseEvent("load");
},_getRenderer:function(){if(this._renderMode===b.RenderMode.Classic){var f=this.isSkin("Silk")||this.isSkin("Glow");
var g={isSilkOrGlowSkin:f,isTouchSkin:this._isTouchSkin};
return new b.ColorPicker.ClassicRenderer(g);
}else{if(this._renderMode===b.RenderMode.Lite){return new b.ColorPicker.LightweightRenderer();
}else{throw Error("RadColorPicker with ID: "+this.get_id()+" has no defined RenderMode.");
}}},isSkin:function(f){return Sys.UI.DomElement.containsCssClass(this.get_element(),"RadColorPicker_"+f);
},_initializeFields:function(){var g=this.get_id();
this._wrapperElement=$get(g);
this._previewElement=$get(g+"_preview");
this._emptyColorElement=$get(g+"_emptycolor");
this._iconElement=$get(g+"_icon");
var p=this._iconWrapperElement=$get(g+"_label");
if(p){this._iconLink=$telerik.getChildrenByTagName(p,"a")[0];
}var u=this._paletteWrapperElement=$get(g+"_palette");
if(u){var x=this._tabStrip=$telerik.getChildByClassName(u,"rcpTabs");
this._multiPage=$telerik.getChildByClassName(u,"rcpViews");
var y=this._webPalettePageView=$get(g+"_webPalette");
this._webPaletteWrapper=(y)?$telerik.getChildByClassName(y,"rcpWebPalette"):null;
var v=this._rgbPageView=$get(g+"_rgbSliders");
this._millionColorsPageView=$get(g+"_millionColors");
this._selectedContainer=(y)?y:(v?v:this._millionColorsPageView);
if(x){var z=this.isModeEnabled(b.PaletteModes.WebPalette);
var w=this.isModeEnabled(b.PaletteModes.RGBSliders);
var m=this.isModeEnabled(b.PaletteModes.HSB);
var n=this.isModeEnabled(b.PaletteModes.HSV);
var s=x.getElementsByTagName("a");
for(var o=0;
o<s.length;
o++){if(z){this._addRelAttribute(s[o],"_webPalette",g);
z=false;
continue;
}if(w){this._addRelAttribute(s[o],"_rgbSliders",g);
w=false;
continue;
}if(m){this._addRelAttribute(s[o],"_millionColors",g);
m=false;
continue;
}if(n){this._addRelAttribute(s[o],"_millionColors",g);
n=false;
}}for(var q=0,r=s.length;
q<r;
q++){this._initializeTabHandler(s[q]);
}this._selectedTab=$telerik.getElementByClassName(x,"rcpSelectedTab","li");
}this._recentColorsWrapper=$get(g+"_recentColors");
var k=this._header=$telerik.getChildByClassName(u,"rcpHeader");
if(k){var f=this._applyButton=$telerik.getChildByClassName(k,"rcpApplyButton");
if(f){this._initializeApplyHandler(f);
}var h=this._customColorButton=$telerik.getChildByClassName(k,"rcpCustomColorButton");
if(h){this._initializeCustomColorHandler(h);
}}}this._redInput=$get(g+"_redInput");
this._greenInput=$get(g+"_greenInput");
this._blueInput=$get(g+"_blueInput");
var l=this._hexColorInput=$get(g+"_hexInput");
if(this.get_redSlider()){this._initializeRgbInputHandler(this._redInput);
this._initializeRgbInputHandler(this._greenInput);
this._initializeRgbInputHandler(this._blueInput);
this._initializeRgbSliderHandler(this.get_redSlider());
this._initializeRgbSliderHandler(this.get_greenSlider());
this._initializeRgbSliderHandler(this.get_blueSlider());
}if(l){this._initializeHexHandler(l);
}this._millionColorsPalette=$get(g+"_millionColorsPalette");
this._initializeMillionColorsPaletteHandler();
this._millionColorsHandle=$get(g+"_millionColorsHandle");
this._createHandleResizeExtender();
this._initializeMillionColorsSliderHandler();
var t=this._millionColorsInputs={r:$get(g+"_rInput"),g:$get(g+"_gInput"),b:$get(g+"_bInput"),h:$get(g+"_hInput"),s:$get(g+"_sInput"),l:$get(g+"_lInput"),v:$get(g+"_vInput")};
this._initializeMillionColorsRgbInputHandler(t.r);
this._initializeMillionColorsRgbInputHandler(t.g);
this._initializeMillionColorsRgbInputHandler(t.b);
this._initializeMillionColorsInputHandler(t.h);
this._initializeMillionColorsInputHandler(t.s);
this._initializeMillionColorsInputHandler(t.l);
this._initializeMillionColorsInputHandler(t.v);
},_addRelAttribute:function(g,h,f){if(g){g.rel=f+h;
}},dispose:function(){this._disposeControl("_millionColorsResizeExtender");
this._disposeControl("_popupBehavior");
this._disposeControl("_customColorPopupBehavior");
this._disposeControl("_customColorModalExtender");
this._disposeControl("_millionCustomColorsResizeExtender");
this._disposeHandlers();
this._selectedTab=null;
this._selectedContainer=null;
var m=this._tabStrip;
if(m){var k=m.getElementsByTagName("a");
for(var h=0,j=k.length;
h<j;
h++){$clearHandlers(k[h]);
}}var f=this._accessKeyTextbox;
if(f){$clearHandlers(f);
f.removeAttribute("accessKey");
this._accessKeyTextbox=null;
}this._tabStrip=null;
this._multiPage=null;
this._webPaletteWrapper=null;
this._webPalettePageView=null;
this._rgbPageView=null;
this._millionColorsPageView=null;
this._header=null;
this.set_redSlider(null);
this.set_greenSlider(null);
this.set_blueSlider(null);
this.set_hiddenSlider(null);
this._clearHandlers("_redInput");
this._clearHandlers("_greenInput");
this._clearHandlers("_blueInput");
this._clearHandlers("_hexColorInput");
this._clearHandlers("_applyButton");
this._clearHandlers("_customColorButton");
this._millionColorsPalette=null;
this._millionColorsHandle=null;
this.set_millionColorsSlider(null);
var l=this._millionColorsInputs;
this._clearHandlers(null,l.r);
this._clearHandlers(null,l.g);
this._clearHandlers(null,l.b);
this._clearHandlers(null,l.h);
this._clearHandlers(null,l.s);
this._clearHandlers(null,l.l);
this._clearHandlers(null,l.v);
this._millionColorsInputs=null;
this._paletteSizes=null;
this._elementsByColor=null;
this._indexByColor=null;
this._recentColors=null;
this._recentElementsByColor=null;
this._clearHandlers("_recentColorsWrapper");
this._customColorPreviewElement=null;
this._clearHandlers("_customColorOkButton");
this._clearHandlers("_customColorCancelButton");
this._clearHandlers("_hexCustomColorInput");
this._millionCustomColorsPalette=null;
this._millionCustomColorsHandle=null;
if(this.get_millionCustomColorsSlider()){this.get_millionCustomColorsSlider().dispose();
}this.set_millionCustomColorsSlider(null);
l=this._millionCustomColorsInputs;
this._clearHandlers(null,l.r);
this._clearHandlers(null,l.g);
this._clearHandlers(null,l.b);
this._clearHandlers(null,l.h);
this._clearHandlers(null,l.s);
this._clearHandlers(null,l.l);
this._millionCustomColorsInputs=null;
var g=this._customColorPalette;
if(g){if(g.parentNode){g.parentNode.removeChild(g);
}this._customColorPalette=null;
}b.RadColorPicker.callBaseMethod(this,"dispose");
},repaint:function(){this._setElementsSize();
var f=this._paletteWrapperElement;
if(f){this._setRightRoundedCornerAndShadowHeight(f);
}},_disposeControl:function(g){var f=this[g];
if(f){f.dispose();
this[g]=null;
}},_clearHandlers:function(h,f){var i=(!f);
var g=i?this[h]:f;
if(g){$clearHandlers(g);
if(i){this[h]=null;
}}},_initializeColorElementsArray:function(){var n=this._webPaletteWrapper;
if(!n){return;
}var j=[];
var l=[];
var h=n.getElementsByTagName("a");
for(var k=0,m=h.length;
k<m;
k++){var g=h[k];
if(this._getColorBoxElement(g)){var f=this._getElementColor(g);
j[f]=g;
l[f]=k;
if(k>0){g.setAttribute("tabindex","-1");
}}}this._elementsByColor=j;
this._indexByColor=l;
},_setElementsSize:function(){if($telerik.getInvisibleParent(this.get_element())){return;
}var h=this._selectedContainer;
var g=b.PaletteModes.WebPalette;
var i="_setWebPaletteSize";
if(h==this._rgbPageView){g=b.PaletteModes.RGBSliders;
i="_setRGBSize";
}else{if(h==this._millionColorsPageView){g=(b.PaletteModes.HSB+b.PaletteModes.HSV);
i="_setMillionColorsSize";
}}var j=this._showIcon;
var n=j?this._paletteWrapperElement:this._wrapperElement;
if(!n){return;
}var f=this._getElementsSize(g);
var m=f.width;
this._renderer.setElementInlineWidthStyle(n,m);
this[i](f);
if(!j){var k=this._tabStrip;
if(k){var l=$telerik.getSize(k).height-1;
if(l>0&&parseInt(n.style.paddingBottom,10)!=l){n.style.paddingBottom=l+"px";
}}}},_setWebPaletteSize:function(h){var q=this._webPaletteWrapper;
if(!q){return;
}if(this.isModeEnabled(b.PaletteModes.WebPalette)){var p=h.colorBoxSize;
var k=$telerik.isOpera;
var m=h.colorBoxSizeOpera;
var g=q.getElementsByTagName("li");
for(var j=0,l=g.length;
j<l;
j++){var f=g[j];
var o=f.getElementsByTagName("span");
if(o.length>0){var n=o[0];
this._renderer.setColorRectangleDimensions(n,p);
}if(k){f.style.width=m+"px";
}}}},_setRecentColorsSize:function(){var f=this._recentColorsWrapper;
if(this._showRecentColors&&f){f.style.height=this._getRecentColorWrapperSize()+"px";
}},_setRGBSize:function(f){var g=f.sliderSize;
this.get_redSlider().set_width(g);
this.get_greenSlider().set_width(g);
this.get_blueSlider().set_width(g);
},_setMillionColorsSize:function(f){var h=f.sliderSize;
var g=this.get_millionColorsSlider();
this._renderer.setMillionColorsSliderHeight(g,h);
},_getElementsSize:function(q){var v=this._paletteSizes;
var w=this._width;
var z=(w>0);
var t=this.getElementContentBox(this._paletteWrapperElement).horizontal;
var A=this._showIcon;
var u=$telerik.getComputedStyle(this._paletteWrapperElement,"boxSizing");
var h=(u==="content-box")?t:0;
var E=A?h:this.getElementBox(this._wrapperElement).horizontal;
var D=t+this.getElementContentBox(this._multiPage).horizontal;
if(!A){D+=E;
}var p=D+this._getMinimumPaletteWidth();
var f,g,B;
if(this.isModeEnabled(b.PaletteModes.WebPalette)&&(q==b.PaletteModes.WebPalette)){var C=this._getWebPaletteElemenentsSize(w,p,D);
f=C.colorSize;
g=C.colorSizeOpera;
w=C.width-E;
v.webPalette=w;
}else{if(this.isModeEnabled(b.PaletteModes.RGBSliders)&&(q==b.PaletteModes.RGBSliders)){var y=this._defaultRGBWidth;
var x=Math.max(this._rgbSlidersMinSize,p);
if(!z){w=this._renderer.getRgbPaletteWidth(y,x);
}if(w<x){w=x;
}B=this._getRGBElemenentsSize(w,D);
w-=E;
v.rgbSliders=w;
}else{var l=this.isModeEnabled(b.PaletteModes.HSB)&&this.isPaletteMode(q,"HSB");
var m=this.isModeEnabled(b.PaletteModes.HSV)&&this.isPaletteMode(q,"HSV");
if(l||m){var i={paletteWrapperElement:this._paletteWrapperElement,multiPage:this._multiPage,millionColorsPalette:this._millionColorsPalette,millionColorsSlider:this._millionColorsSlider,colorPicker:this.get_element()};
B=this._renderer.getHsbSliderHeight(this._millionColorsPalette);
var r=this._renderer.getInitialHsbPaletteWidth(i);
var n=Math.max(r,p);
var j=w;
if(!z||(z&&w<n)){j=n;
}j-=E;
v.hsb=j;
var s=this._renderer.getInitialHsvPaletteWidth(i);
var o=Math.max(s,p);
var k=w;
if(!z||(z&&w<o)){k=o;
}k-=E;
v.hsv=k;
w=l?j:k;
}}}this._paletteSizes=v;
return{colorBoxSize:f,colorBoxSizeOpera:g,sliderSize:B,width:w};
},_getMinimumPaletteWidth:function(){var h=0;
var f=this._header;
if(f){h+=this.getElementBox(f).horizontal;
a(f).children(":visible").each(function(l,k){h+=k.offsetWidth+$telerik.getMarginBox(k).horizontal;
});
}var i=0;
var j=this._tabStrip;
if(j){i+=this.getElementBox(j).horizontal;
var g=parseInt($telerik.getCurrentStyle(j,"left",0),10);
if(!isNaN(g)){i+=g;
}a(j).children("ul").children(":visible").each(function(l,k){i+=k.offsetWidth+$telerik.getMarginBox(k).horizontal;
});
}return Math.max(0,Math.max(h,i));
},_getRecentColorWrapperSize:function(){var h=0;
var g=this._recentColorsWrapper;
if(g&&this._showRecentColors){var f=g.getElementsByTagName("li");
if(f.length>1&&g.style.height){return g.style.height;
}var j;
if(f.length==1){var i=f[0].getElementsByTagName("span");
if(i.length==1&&((a.trim(i[0].innerHTML)=="")||(a.trim(i[0].innerHTML)=="&nbsp;"))){j=f[0];
}}if(!j){j=this._createColorElement({},true);
g.appendChild(j);
}h=$telerik.getContentSize(g).height;
g.removeChild(j);
}return h;
},_getWebPaletteElemenentsSize:function(g,f,h){h+=this.getElementContentBox(this._webPalettePageView).horizontal;
return this._getColorBoxSize(g,f,h,this._webPaletteWrapper);
},_getColorBoxSize:function(o,n,t,r){var g=0;
var h=0;
var s=r;
if(s){t+=this.getElementContentBox(s).horizontal;
var m=$telerik.getFirstChildByTagName(s,"li");
if(m){h=$telerik.getOuterSize(m).width;
g+=this.getElementContentBox(m).horizontal;
var f=$telerik.getFirstChildByTagName(m,"a");
if(f){g+=this.getElementContentBox(f).horizontal;
var q=$telerik.getFirstChildByTagName(f,"span");
g+=this.getElementContentBox(q).horizontal;
}}}var l=this._columns;
var p=o;
if(!p){o=t+l*h;
}o=Math.max(n,o);
if(p){var k=o-t;
k=(k<1)?1:k;
h=parseInt(k/l,10);
h=(h<1)?1:h;
}var j=h;
var i=h-g;
i=(i<1)?1:i;
return{colorSize:i,colorSizeOpera:j,width:o};
},_getRGBElemenentsSize:function(g,k){k+=this.getElementContentBox(this._rgbPageView).horizontal;
var j=this._rgbSlidersDefaultSize-k;
var f=this._defaultRGBWidth;
if(g!=f){var h=this._redInput;
var i=$telerik.getChildrenByTagName(h.parentNode,"label")[0];
j=g-k;
j-=this._renderer.getOuterWidth(h);
j-=this._renderer.getOuterWidth(i);
if(j<50){j=50;
}}return j;
},_createPalette:function(n){if(this._webPaletteWrapper){return;
}var o=this._webPaletteWrapper=this._createElement("ul",null,{className:"rcpWebPalette"});
n.appendChild(o);
var k=0;
var h=this._columns;
var l=this._items;
if(this._tabIndex&&l.length>0){l[0].tabIndex=this._tabIndex;
}for(var j=0,m=l.length;
j<m;
j++){if(k==h){k=0;
var f=this._createElement("li",null,{className:"rcpBreakLine"});
o.appendChild(f);
}k++;
var g=this._createColorElement(l[j]);
o.appendChild(g);
}},_createColorElement:function(f,j){var i=(this._selectedColor==f.value)&&!j?"rcpSelectedColor":"rcpColorBox";
var g=this._createElement("li");
var h=this._createA(f.title,i,null,f.value);
if(f.tabIndex){h.setAttribute("tabindex",f.tabIndex);
}var k=this._createElement("span",f.value);
h.appendChild(k);
g.appendChild(h);
return g;
},_createHeader:function(m,i){if(!m){return;
}var j=this.isModeEnabled(b.PaletteModes.WebPalette);
var l=(this.isModeEnabled(b.PaletteModes.RGBSliders)||this.isModeEnabled(b.PaletteModes.HSB)||this.isModeEnabled(b.PaletteModes.HSV));
var h="rcpHeader";
var g=this._enableCustomColor;
if(!i){if(!this._previewColor&&!this._showEmptyColor&&!(j&&g)&&j){h+=" rcpEmptyHeader";
}}var o=i?$telerik.getChildByClassName(m,"rcpHeader"):this._header;
if(!o){o=this._createDiv(h);
m.appendChild(o);
if(!i){this._header=o;
}}this._createPreviewElement(o,i);
var k,n;
if(!i){this._createEmptyColorElement(o);
if(j&&g&&!this._customColorButton){var f=this._localization[14];
k=this._customColorButton=this._createA(f,"rcpImageButton rcpCustomColorButton");
if(this._tabIndex){k.setAttribute("tabindex",this._tabIndex);
}o.appendChild(k);
this._initializeCustomColorHandler(k);
n=this._createElement("span",f);
k.appendChild(n);
}this._createApplyButton((!j&&l),o);
}else{if(this._customColorOkButton){return;
}k=this._customColorCancelButton=this._createA(null,"rcpButton rcpCancelButton");
o.appendChild(k);
$addHandler(k,"click",Function.createDelegate(this,this._cancelClick));
n=this._createElement("span",this._localization[17]);
k.appendChild(n);
k=this._customColorOkButton=this._createA(null,"rcpButton rcpOkButton");
o.appendChild(k);
$addHandler(k,"click",Function.createDelegate(this,this._okClick));
n=this._createElement("span",this._localization[16]);
k.appendChild(n);
}},_createApplyButton:function(i,f){if(i&&!this._applyButton){var j=f?f:this._header;
if(!j){return;
}var g=this._applyButton=this._createA(null,"rcpButton rcpApplyButton");
if(this._tabIndex){g.setAttribute("tabindex",this._tabIndex);
}j.appendChild(g);
this._initializeApplyHandler(g);
var h=this._createElement("span",this._localization[7]);
g.appendChild(h);
}},_createRoundedCornersAndShadow:function(h,g){var f=Function.createDelegate(this,this._createDiv);
this._renderer.createRoundedCornersAndShadow(h,g,this._showIcon,f);
},_setRightRoundedCornerAndShadowHeight:function(f){this._renderer.setRightRoundedCornerAndShadowHeight(f);
},_createRgbSliders:function(j){if(this.get_redSlider()){return;
}var i=this._createElement("ul");
j.appendChild(i);
var f=this.get_id();
var h=f+"_redSlider";
var g=f+"_redInput";
this._createRgbSliderWithInput(h,"rcpSlider rcpRedSlider","_redSlider",g,"rcpInput rcpRedInput","_redInput","R:",i);
h=f+"_greenSlider";
g=f+"_greenInput";
this._createRgbSliderWithInput(h,"rcpSlider rcpGreenSlider","_greenSlider",g,"rcpInput rcpGreenInput","_greenInput","G:",i);
h=f+"_blueSlider";
g=f+"_blueInput";
this._createRgbSliderWithInput(h,"rcpSlider rcpBlueSlider","_blueSlider",g,"rcpInput rcpBlueInput","_blueInput","B:",i);
this._updateRgbSlidersUI(this._getRgbFromHex());
},_createRgbSliderWithInput:function(n,m,o,h,g,i,k,q){var l=this._createElement("li");
q.appendChild(l);
var j=this._createElement("label",k,{htmlFor:h});
l.appendChild(j);
var p=this._createDiv(m,n);
l.appendChild(p);
this[o]=this._createSlider(p);
var f=this._createInput(g,this._rgbSlidersDefaultValue,h);
if(this._tabIndex){f.setAttribute("tabindex",this._tabIndex);
}l.appendChild(f);
this._initializeRgbInputHandler(f);
this[i]=f;
},_createSlider:function(f){var h=this._rgbSlidersDefaultValue;
var g=this._rgbSlidersDefaultSize+"px";
var j={itemData:[],_width:g,_skin:this._skin,maximumValue:h,value:h,_increaseText:this._localization[8],_decreaseText:this._localization[9],_tabIndex:-1,showIncreaseHandle:false,showDecreaseHandle:false,_dragText:this._localization[10]};
var i=$create(b.RadSlider,j,null,null,f);
this._initializeRgbSliderHandler(i);
return i;
},_rgbValuesToHex:function(j,h,f){var i="#";
var g=function(l){var k=parseInt(l,10).toString(16);
i=i+(k.length==1?"0"+k:k);
};
g(j);
g(h);
g(f);
g=null;
return i;
},_createHexColorInput:function(j,i){var f=i?null:this._selectedColor;
if(!f){var k=this._rgbSlidersDefaultValue;
f=this._rgbValuesToHex(k,k,k);
}var g=i?"_hexCustomColorInput":"_hexColorInput";
var h=this[g]=this._createInput("rcpHexInput",f);
if(this._tabIndex){h.setAttribute("tabindex",this._tabIndex);
}h.setAttribute("title",this._localization[18]);
h.setAttribute("dir","ltr");
j.appendChild(h);
if(!i&&this.isModeEnabled(b.PaletteModes.WebPalette)){h.readOnly="readonly";
}this._initializeHexHandler(h,i);
},_createMillionColors:function(q,k){if(this[k?"get_millionCustomColorsSlider":"get_millionColorsSlider"]()){return;
}var f=this.get_id();
var l=this[k?"_millionCustomColorsPalette":"_millionColorsPalette"]=this._createDiv("rcpMillionColorsPalette",(f+(k?"_millionCustomColorsPalette":"_millionColorsPalette")));
q.appendChild(l);
this._initializeMillionColorsPaletteHandler(k);
var h=this[k?"_millionCustomColorsHandle":"_millionColorsHandle"]=this._createElement("div","<!-- / -->",{className:"rcpMillionColorsHandle"},{top:"0px",left:"0px"});
l.appendChild(h);
this._createHandleResizeExtender(k);
var o=this._createDiv("rcpMillionColorsSlider",(f+(k?"_millionCustomColorsSlider":"_millionColorsSlider")));
q.appendChild(o);
var g=(k||this._isModeSelected(b.PaletteModes.HSB))?this._localization[11]:this._localization[12];
var m=0;
var n={itemData:[],_height:this._millionColorsSliderHeight,_width:this._millionColorsSliderWidth,_skin:this._skin,maximumValue:100,value:m,orientation:1,showIncreaseHandle:false,showDecreaseHandle:false,_tabIndex:-1,_dragText:g};
this[k?"set_millionCustomColorsSlider":"set_millionColorsSlider"]($create(b.RadSlider,n,null,null,o));
this._initializeMillionColorsSliderHandler(k);
var j=this._createDiv("rcpInputsWrapper");
q.appendChild(j);
var p=this._createElement("ul");
j.appendChild(p);
var i=k?"InputCustom":"Input";
this._createListItemWithInput((f+"_r"+i),"rcpInput rcpRedInput","r","R:","_initializeMillionColorsRgbInputHandler",p,null,k);
this._createListItemWithInput((f+"_g"+i),"rcpInput rcpGreenInput","g","G:","_initializeMillionColorsRgbInputHandler",p,null,k);
this._createListItemWithInput((f+"_b"+i),"rcpInput rcpBlueInput","b","B:","_initializeMillionColorsRgbInputHandler",p,null,k);
p=this._createElement("ul",null,{className:"rcpMillionColorsInputs"});
j.appendChild(p);
this._createListItemWithInput((f+"_h"+i),"rcpInput rcpHInput","h","H:","_initializeMillionColorsInputHandler",p,null,k);
this._createListItemWithInput((f+"_s"+i),"rcpInput rcpSInput","s","S:","_initializeMillionColorsInputHandler",p,null,k);
if(k||this.isModeEnabled(b.PaletteModes.HSB)){this._createListItemWithInput((f+"_l"+i),"rcpInput rcpLInput","l","B:","_initializeMillionColorsInputHandler",p,"rcpLInputWrapper",k);
}if(!k&&this.isModeEnabled(b.PaletteModes.HSV)){this._createListItemWithInput((f+"_v"+i),"rcpInput rcpVInput","v","V:","_initializeMillionColorsInputHandler",p,"rcpVInputWrapper");
}},_createListItemWithInput:function(i,h,j,m,f,p,n,k){var o=this._createElement("li",null,{className:n});
p.appendChild(o);
var l=this._createElement("label",m,{htmlFor:i});
o.appendChild(l);
var g=this._createInput(h,0,i);
if(this._tabIndex){g.setAttribute("tabindex",this._tabIndex);
}o.appendChild(g);
this[f](g,k);
this[k?"_millionCustomColorsInputs":"_millionColorsInputs"][j]=g;
},_createHandleResizeExtender:function(h){var f=this[h?"_millionCustomColorsHandle":"_millionColorsHandle"];
var j=this[h?"_millionCustomColorsPalette":"_millionColorsPalette"];
if(!f||!j){return;
}var i=$telerik.getCurrentStyle(j,"cursor","crosshair");
var g={};
g[i]=j;
this[h?"_millionCustomColorsResizeExtender":"_millionColorsResizeExtender"]=new b.ResizeExtender(this,f,g,null,null,i,false,true);
},_createCustomColorPalette:function(){var h=this._customColorPalette=this._createDiv(this.get_element().className+" rcpCustomColorWrapper");
var f=this.get_element();
var j=$telerik.getCurrentStyle(f,"zIndex",4000);
j=isNaN(j)?parseInt(f.style.zIndex,10):j;
j=isNaN(j)?4000:j;
h.style.zIndex=j+2;
h.style.position="absolute";
document.body.appendChild(h);
var g=this._createDiv("rcpPalette");
h.appendChild(g);
this._createRoundedCornersAndShadow(g,true);
this._createHeader(g,true);
var i=this._createDiv("rcpPageView rcpMillionColorsPageView rcpHsbPageView");
g.appendChild(i);
this._createMillionColors(i,true);
this._configureMillionCustomColorsSliderHeight();
this._setRightRoundedCornerAndShadowHeight(g);
return h;
},_configureMillionCustomColorsSliderHeight:function(){var g=this._renderer.getHsbSliderHeight(this._millionCustomColorsPalette);
var f=this.get_millionCustomColorsSlider();
this._renderer.setMillionColorsSliderHeight(f,g);
},_calculateRenderSettings:function(){this._defaultRGBWidth=this._isTouchSkin?300:270;
},_rgbSliderValueChanged:function(j,f){if(this._sliderAvoidRecursion){return;
}var i=this.get_redSlider().get_value();
var h=this.get_greenSlider().get_value();
var g=this.get_blueSlider().get_value();
this._sliderAvoidRecursion=true;
this._updateHexPreview(i,h,g);
this._updateRgbInputUI(j);
this._sliderAvoidRecursion=false;
},_millionColorsSliderValueChanged:function(i,f){if(this._sliderAvoidRecursion||this._millionColorsSliderAvoidRecursion){return;
}var h=(i===this.get_millionCustomColorsSlider());
var g=this._getMillionColorsCoordinates(h);
this._sliderAvoidRecursion=true;
this._updateMillionColorsInputsUI(g.x,g.y,h);
this._sliderAvoidRecursion=false;
},_hexColorChange:function(f,h){if(!f){return;
}if(!h&&this._isModeSelected(b.PaletteModes.WebPalette)){return;
}var j=f.target||f.srcElement;
if(!j){return;
}var g=j.value;
if(!this._validateHexValue(g)){this._previewCurrentColor((h?"#FFFFFF":this._selectedColor),null,null,h);
return;
}if(this._inputAvoidRecursion){return;
}if(h||this._selectedContainer){var i=this._getRgbFromHex(g);
var k=(h||this._isModeSelected(b.PaletteModes.HSB))?"_updateHslPaletteElementsUI":(this._isModeSelected(b.PaletteModes.RGBSliders)?"_updateRgbSlidersUI":"_updateHsvPaletteElementsUI");
this._inputAvoidRecursion=true;
this[k](i,null,h);
this._inputAvoidRecursion=false;
}},_hexCustomColorChange:function(f){this._hexColorChange(f,true);
},_rgbInputValueChange:function(g){if(!g){return;
}var j=g.target||g.srcElement;
if(!this._validateDecInput(j,0,255)){j.value=this._getSliderFromInput(j).get_value();
return;
}if(this._inputAvoidRecursion){return;
}var i=parseInt(this._redInput.value,10);
var h=parseInt(this._greenInput.value,10);
var f=parseInt(this._blueInput.value,10);
this._inputAvoidRecursion=true;
this._updateHexPreview(i,h,f);
this._updateRgbSliderUI(null,null,j);
this._inputAvoidRecursion=false;
},_millionColorsInputValueChange:function(f,j){if(!f){return;
}var n=f.target||f.srcElement;
var h=j||this._isMillionColorsTabSelected().HSB;
var k=this[j?"_millionCustomColorsInputs":"_millionColorsInputs"];
var g=(n.id==k.h.id)?360:100;
if(!this._validateDecInput(n,0,g)){var m=h?"_resetHslInputValue":"_resetHsvInputValue";
this[m](n,j);
return;
}if(this._inputAvoidRecursion){return;
}var o=h?"_updateHslPaletteElementsUI":"_updateHsvPaletteElementsUI";
var i=parseInt(k.h.value,10);
var l={h:((i==360)?0:i),s:parseInt(k.s.value,10)/100,l:(k.l?parseInt(k.l.value,10)/100:null),v:(k.v?parseInt(k.v.value,10)/100:null),hueValue:i};
this._inputAvoidRecursion=true;
this[o](null,l,j);
this._inputAvoidRecursion=false;
},_millionCustomColorsInputValueChange:function(f){return this._millionColorsInputValueChange(f,true);
},_millionColorsRgbInputValueChange:function(f,g){if(!f){return;
}var j=f.target||f.srcElement;
if(!this._validateDecInput(j,0,255)){this._resetRgbInputValue(j,g);
return;
}if(this._inputAvoidRecursion){return;
}if(g||this._selectedContainer){var h=this[g?"_millionCustomColorsInputs":"_millionColorsInputs"];
var i={r:parseInt(h.r.value,10),g:parseInt(h.g.value,10),b:parseInt(h.b.value,10)};
var k=(g||this._isMillionColorsTabSelected().HSB)?"_updateHslPaletteElementsUI":"_updateHsvPaletteElementsUI";
this._inputAvoidRecursion=true;
this[k](i,null,g);
this._inputAvoidRecursion=false;
}},_millionCustomColorsRgbInputValueChange:function(f){return this._millionColorsRgbInputValueChange(f,true);
},_onMillionColorsPaletteMouseDown:function(g,h){if(!this._enabled){return;
}if(this._millionColorsAvoidRecursion){return;
}var j=this.getPaletteElement(h);
var l=this.getPaletteRange(j);
var k=$telerik.getLocation(j);
var f=$telerik.getBorderBox(j);
var o=$telerik.getTouchEventLocation(g);
var i=$telerik.isTouchDevice?{left:o.x,top:o.y}:$telerik.getDocumentRelativeCursorPosition(g);
var m=Math.round(i.left-k.x-f.left);
var n=Math.round(i.top-k.y-f.top);
m=(m<0)?0:(m>l.x?l.x:m);
n=(n<0)?0:(n>l.y?l.y:n);
this._updateMillionColorsHandleUI(m,n,h);
this._millionColorsAvoidRecursion=true;
this._updateMillionColorsInputsUI(m,n,h);
this._millionColorsAvoidRecursion=false;
},getPaletteElement:function(f){return this[f?"_millionCustomColorsPalette":"_millionColorsPalette"];
},getPaletteRange:function(f){var g=$telerik.getContentSize(f);
return{x:g.width-1,y:g.height-1};
},_onMillionCustomColorsPaletteMouseDown:function(f){this._onMillionColorsPaletteMouseDown(f,true);
},onDragStart:function(f){if(!this._enabled){return false;
}var i=f.element;
var j=this._cachedMillionColorsHandleSize=$telerik.getSize(i);
var h=Math.floor(j.width/2);
var g=Math.floor(j.height/2);
var k=this._cachedIsCustomColor=(i===this._millionCustomColorsHandle);
var l=k?this._millionCustomColorsPalette:this._millionColorsPalette;
var m=$telerik.getContentSize(l);
this._cachedMillionColorsPaletteBounds=new Telerik.Web.UI.Bounds(-h,-g,(m.width+j.width)-1,(m.height+j.height)-1);
this._eventStartedInControl=true;
return true;
},onDragEnd:function(f){var g=f.element;
this._calculateMillionColorsByHandle({x:parseInt(g.style.left,10),y:parseInt(g.style.top,10)});
this._cachedMillionColorsHandleSize=null;
this._cachedMillionColorsPaletteBounds=null;
this._cachedIsCustomColor=null;
},onDrag:function(f){var g=this._cachedMillionColorsHandleSize;
var h=this._cachedMillionColorsPaletteBounds;
if(h.width<1||h.height<1){return false;
}var i=b.ResizeExtender.containsBounds(h,f);
if(!i){if(f.x<=h.x){f.x=h.x;
}else{if(h.x+h.width<=f.x+g.width){f.x=h.x+h.width-g.width;
}}if(f.y<=h.y){f.y=h.y;
}else{if(h.y+h.height<=f.y+g.height){f.y=h.y+h.height-g.height;
}}i=true;
}if(i){this._calculateMillionColorsByHandle(f);
}return i;
},_calculateMillionColorsByHandle:function(f){var g=this._cachedMillionColorsHandleSize;
this._updateMillionColorsInputsUI(f.x+(Math.floor(g.width/2)),f.y+(Math.floor(g.height/2)),this._cachedIsCustomColor);
},_updateRgbSlidersUI:function(f){if(!f){return;
}this._updateRgbSliderUI(this.get_redSlider(),f.r);
this._updateRgbSliderUI(this.get_greenSlider(),f.g);
this._updateRgbSliderUI(this.get_blueSlider(),f.b);
},_updateRgbSliderUI:function(i,j,f){var g=i;
var h=j;
if(!g){if(!f){return;
}g=this._getSliderFromInput(f);
h=parseInt(f.value,10);
}g.set_value(h);
},_updateRgbInputUI:function(f){if(!f){return;
}this._getInputFromSlider(f).value=f.get_value();
},_updateMillionColorsHandleUI:function(i,j,h){var f=this[h?"_millionCustomColorsHandle":"_millionColorsHandle"];
var g=$telerik.getSize(f);
$telerik.setLocation(f,{x:i-Math.floor(g.width/2),y:j-Math.floor(g.height/2)});
},_updateMillionColorsInputsUI:function(j,k,h){if(this._inputAvoidRecursion){return;
}var i=this._isMillionColorsTabSelected();
var g=h||i.HSB;
if(!g&&!i.HSV){return;
}var f=this[g?"_getHslFromCoordinates":"_getHsvFromCoordinates"](j,k,h);
var l=this[g?"_hslToRgb":"_hsvToRgb"](f.h,f.s,f[g?"l":"v"]);
this[g?"_updateHslSliderBackground":"_updateHsvPaletteBackground"](f,h);
this._updateMillionColorsInputsValues(l,f,h);
this._updateHexPreview(l.r,l.g,l.b,h);
},_updateMillionColorsInputsValues:function(i,h,g){var f=this[g?"_millionCustomColorsInputs":"_millionColorsInputs"];
if(i){f.r.value=i.r;
f.g.value=i.g;
f.b.value=i.b;
}f.h.value=Math.round(h.hueValue);
f.s.value=Math.round(h.s*100);
if(h.l!=null){f.l.value=Math.round(h.l*100);
}if(h.v!=null){f.v.value=Math.round(h.v*100);
}},_updateHslPaletteElementsUI:function(k,g,i){if(!k&&!g){return;
}var l=(k)?k:this._hslToRgb(g.h,g.s,g.l);
var h=(g)?g:this._rgbToHsl(k);
this._updateHexPreview(l.r,l.g,l.b,i);
this._updateMillionColorsInputsValues(l,h,i);
this._updateHslSliderBackground(h,i);
var j=this.getPaletteElement(i);
var f=this.getPaletteRange(j);
this._updateMillionColorsHandleUI(Math.round(h.h*f.x/360),f.y-Math.round(h.s*f.y),i);
var m=i?this.get_millionCustomColorsSlider():this.get_millionColorsSlider();
m.set_value(100-Math.round(h.l*100));
},_updateHslSliderBackground:function(g,h){var f=this._hslToRgb(g.h,g.s,0.5);
var i=h?this.get_millionCustomColorsSlider():this.get_millionColorsSlider();
if(i._trackElement){i._trackElement.style.backgroundColor=this._rgbValuesToHex(f.r,f.g,f.b);
}},_updateHsvPaletteElementsUI:function(j,f){if(!j&&!f){return;
}var k=(j)?j:this._hsvToRgb(f.h,f.s,f.v);
var g=(f)?f:this._rgbToHsv(j);
this._updateHexPreview(k.r,k.g,k.b);
this._updateMillionColorsInputsValues(k,g);
this._updateHsvPaletteBackground(g);
var i=this.getPaletteElement(false);
var h=this.getPaletteRange(i);
this._updateMillionColorsHandleUI(Math.round(g.s*h.x),h.y-Math.round(g.v*h.y));
this.get_millionColorsSlider().set_value(100-Math.round(g.h*100/360));
},_updateHsvPaletteBackground:function(g){var f=this._hsvToRgb(g.h,1,1);
this._millionColorsPalette.style.backgroundColor=this._rgbValuesToHex(f.r,f.g,f.b);
},_updateHexPreview:function(j,g,f,h){var i=this._rgbValuesToHex(j,g,f);
this._previewCurrentColor(i,true,null,h);
},_getRgbFromHex:function(f){var g=f;
if(!g){var h=this._selectedColor;
g=(h)?h:"#FFFFFF";
}return this._hexToRgb(g);
},_resetRgbInputValue:function(j,k){var m;
var g=this[k?"_hexCustomColorInput":"_hexColorInput"];
if(g){m=this._getRgbFromHex(g.value);
}else{var f=this._getMillionColorsCoordinates(k);
if(k||this._isModeSelected(b.PaletteModes.HSB)){var h=this._getHslFromCoordinates(f.x,f.y,k);
m=this._hslToRgb(h.h,h.s,h.l);
}else{if(this._isModeSelected(b.PaletteModes.HSV)){var i=this._getHsvFromCoordinates(f.x,f.y);
m=this._hsvToRgb(i.h,i.s,i.v);
}}}var l=this[k?"_millionCustomColorsInputs":"_millionColorsInputs"];
j.value=(j===l.r)?m.r:(j===l.g?m.g:m.b);
},_resetHslInputValue:function(h,i){var f=this._getMillionColorsCoordinates(i);
var g=this._getHslFromCoordinates(f.x,f.y,i);
this._updateMillionColorsInputsValues(null,g,i);
},_resetHsvInputValue:function(h){var f=this._getMillionColorsCoordinates();
var g=this._getHsvFromCoordinates(f.x,f.y);
this._updateMillionColorsInputsValues(null,g);
},_validateDecInput:function(g,j,i){var f=parseInt(g.value,10);
var h=(!isNaN(f));
if(h){h=(f>=j&&f<=i);
}return h;
},_validateHexValue:function(f){var g=/^#?(([0-9a-f]{3})|([0-9a-f]{6}))$/i;
return g.test(f);
},_getSliderFromInput:function(f){var g=this._getColorElementPrefix(f.id.toLowerCase());
return this[g+"Slider"];
},_getInputFromSlider:function(g){var f=this._getColorElementPrefix(g.get_id().toLowerCase());
return this[f+"Input"];
},_getColorElementPrefix:function(f){var g="";
if(!f){return g;
}if(f.indexOf("red")>-1){g="_red";
}else{if(f.indexOf("green")>-1){g="_green";
}else{if(f.indexOf("blue")>-1){g="_blue";
}}}return g;
},_getMillionColorsCoordinates:function(h){var f=this[h?"_millionCustomColorsHandle":"_millionColorsHandle"];
if(!f){return{x:0,y:0};
}var g=$telerik.getSize(f);
var i=parseInt(f.style.left,10)+Math.floor(g.width/2);
var j=parseInt(f.style.top,10)+Math.floor(g.height/2);
return{x:i,y:j};
},_getHslFromCoordinates:function(l,m,i){var k=this.getPaletteElement(i);
var f=this.getPaletteRange(k);
var h=(l/f.x*360);
var g=(l==f.x)?0:h;
var n=1-m/f.y;
var o=i?this.get_millionCustomColorsSlider():this.get_millionColorsSlider();
var j=1-(o.get_value()/100);
return{h:g,s:n,l:j,hueValue:h};
},_getHsvFromCoordinates:function(j,k){var m=this.get_millionColorsSlider().get_value();
var h=360*(1-m/100);
var g=(m==0)?0:h;
var i=this.getPaletteElement(false);
var f=this.getPaletteRange(i);
var l=j/f.x;
var n=1-k/f.y;
return{h:g,s:l,v:n,hueValue:h};
},_hexToRgb:function(f){if(!f){return null;
}var h={r:0,g:0,b:0};
if(f.indexOf("#")!=-1){f=f.substring(1,f.length);
}if(f.length==3){var g=function(i){return(i+i);
};
f=f.replace(/([0-9a-f])/gi,g);
}h.r=parseInt(f.substring(0,2),16);
h.g=parseInt(f.substring(2,4),16);
h.b=parseInt(f.substring(4,6),16);
return h;
},_hslToRgb:function(g,k,h){var f=this._hueToRgb(g);
f=this._addRgbVectors(this._multiplyRgbVectorByNum(k,f),this._multiplyRgbVectorByNum((1-k),{r:128,g:128,b:128}));
if(h!=0.5){var i=(h<0.5)?{r:0,g:0,b:0}:{r:255,g:255,b:255};
var j=2*Math.abs(0.5-h);
f=this._addRgbVectors(this._multiplyRgbVectorByNum(j,i),this._multiplyRgbVectorByNum((1-j),f));
}return f;
},_hsvToRgb:function(f,h,k){var g={r:0,g:0,b:0};
if(h==0){g={r:k,g:k,b:k};
}else{var i=(1-h)*k;
var j=k*h*(f%60)/60;
if(f<60){g={r:k,g:(i+j),b:i};
}else{if(f<120){g={r:k-j,g:k,b:i};
}else{if(f<180){g={r:i,g:k,b:i+j};
}else{if(f<240){g={r:i,g:k-j,b:k};
}else{if(f<300){g={r:i+j,g:i,b:k};
}else{if(f<360){g={r:k,g:i,b:k-j};
}}}}}}}return this._multiplyRgbVectorByNum(255,g);
},_hueToRgb:function(f){var i={};
var h=f/60;
var g=h-Math.floor(h);
if(h<1){i={r:1,g:g,b:0};
}else{if(h<2){i={r:(1-g),g:1,b:0};
}else{if(h<3){i={r:0,g:1,b:g};
}else{if(h<4){i={r:0,g:(1-g),b:1};
}else{if(h<5){i={r:g,g:0,b:1};
}else{i={r:1,g:0,b:(1-g)};
}}}}}return this._multiplyRgbVectorByNum(255,i);
},_rgbToHsl:function(j){var g={};
var i=Math.min(Math.min(j.r,j.g),j.b);
var h=Math.max(Math.max(j.r,j.g),j.b);
var k=(h+i);
var f=h-i;
g.l=k/(2*255);
if(f==0){g.h=0;
g.s=0;
}else{g.s=f/((g.l<=0.5)?k:(2*255-k));
g.h=this._rgbToHue(j,f);
}g.hueValue=g.h;
return g;
},_rgbToHsv:function(j){var g={};
var h=Math.max(Math.max(j.r,j.g),j.b);
var i=Math.min(Math.min(j.r,j.g),j.b);
var f=h-i;
g.v=(h/255);
if(f==0){g.h=0;
g.s=0;
}else{g.s=(f/h);
g.h=this._rgbToHue(j,f);
}g.hueValue=g.h;
return g;
},_rgbToHue:function(h,f){var g=0;
if(h.r>=h.g&&h.g>=h.b){g=60*(h.g-h.b)/f;
}else{if(h.g>=h.r&&h.r>=h.b){g=60+60*(h.g-h.r)/f;
}else{if(h.g>=h.b&&h.b>=h.r){g=120+60*(h.b-h.r)/f;
}else{if(h.b>=h.g&&h.g>=h.r){g=180+60*(h.b-h.g)/f;
}else{if(h.b>=h.r&&h.r>=h.g){g=240+60*(h.r-h.g)/f;
}else{if(h.r>=h.b&&h.b>=h.g){g=300+60*(h.r-h.b)/f;
}}}}}}return Math.round(g);
},_isModeSelected:function(i,f,l){var h=false;
var j=f?f:this._selectedContainer;
if(j){if(i==b.PaletteModes.WebPalette){h=(this._webPalettePageView===j);
}else{if(i==b.PaletteModes.RGBSliders){h=(this._rgbPageView===j);
}else{var k=l?l:this._selectedTab;
var g=this._isMillionColorsTabSelected(k);
h=(i==b.PaletteModes.HSB)?g.HSB:g.HSV;
}}}return h;
},_isMillionColorsTabSelected:function(g){var f=g;
if(!f){f=this._selectedTab;
}if(f){var h=this._getTextFromTab(f);
return{HSB:(h==this._localization[5]),HSV:(h==this._localization[6])};
}else{return{HSB:this.isModeEnabled(b.PaletteModes.HSB),HSV:this.isModeEnabled(b.PaletteModes.HSV)};
}},_getTextFromTab:function(g){var f=this._renderer.getTabTextParentTagName();
return g.getElementsByTagName(f)[0].innerHTML;
},_fixInRgbRange:function(f,g){if(g){f=Math.round(f);
}if(f<0){f=0;
}else{if(f>255){f=255;
}}return f;
},_addRgbVectors:function(f,g){return{r:this._fixInRgbRange(f.r+g.r),g:this._fixInRgbRange(f.g+g.g),b:this._fixInRgbRange(f.b+g.b)};
},_multiplyRgbVectorByNum:function(f,g){return{r:this._fixInRgbRange(g.r*f,true),g:this._fixInRgbRange(g.g*f,true),b:this._fixInRgbRange(g.b*f,true)};
},isModeEnabled:function(f){return f&this._paletteModes?true:false;
},isPaletteMode:function(g,f){return g&b.PaletteModes[f];
},_createTabStrip:function(){if(this._multiPage){return;
}var g=this.get_element();
var f=this.get_id();
var q=this._showIcon;
var n=this._paletteWrapperElement=this._createDiv("rcpPalette",(f+"_palette"));
if(q){if(!$telerik.isIE6){n.style.position="absolute";
}n.style.visibility="hidden";
}g.appendChild(n);
this._createRoundedCornersAndShadow(n);
if(q){var v=$telerik.getCurrentStyle(g,"zIndex",4000);
v=isNaN(v)?parseInt(g.style.zIndex,10):v;
v=isNaN(v)?4000:v;
n.style.zIndex=v+1;
}var u=this.isModeEnabled(b.PaletteModes.WebPalette);
var p=this.isModeEnabled(b.PaletteModes.RGBSliders);
var j=this.isModeEnabled(b.PaletteModes.HSB);
var k=this.isModeEnabled(b.PaletteModes.HSV);
var o=this.get_id();
var s=null;
if((u+p+j+k)>1){var t=this._tabStrip=this._createDiv("rcpTabs");
n.appendChild(t);
s=this._createElement("ul");
t.appendChild(s);
}this._createHeader(n);
var l=this._multiPage=this._createElement("div",null,{className:"rcpViews"});
n.appendChild(l);
var i=o+"_webPalette";
var h="rcpPageView";
var r=true;
if(u){this._createTabWithContainer(r,h,l,"_webPalettePageView","_createPalette",this._localization[3],s,i);
r=false;
}if(p){i=o+"_rgbSliders";
this._createTabWithContainer(r,(h+" rcpRGBPageView"),l,"_rgbPageView","_createRgbSliders",this._localization[4],s,i);
r=false;
}var m;
if(j){i=o+"_millionColors";
m=h+" rcpMillionColorsPageView rcpHsbPageView";
this._createTabWithContainer(r,m,l,"_millionColorsPageView","_createMillionColors",this._localization[5],s,i);
r=false;
}if(k){i=o+"_millionColors";
m=h+" rcpMillionColorsPageView rcpHsvPageView";
this._createTabWithContainer(r,m,l,"_millionColorsPageView","_createMillionColors",this._localization[6],s,i);
}this._setElementsSize();
this._initializeColorElementsArray();
this._initializePalleteEventHandlers();
if(this._recentColors&&this._recentColors.length>0){this._updateRecentColors();
}if(!this._popupBehavior){this._popupBehavior=$create(Telerik.Web.PopupBehavior,{id:f+"PopupBehavior",parentElement:this._iconWrapperElement,overlay:this._overlay,keepInScreenBounds:this._keepInScreenBounds,manageVisibility:false},null,null,n);
}this._setRightRoundedCornerAndShadowHeight(n);
},_createRecentColors:function(f){if(!this._showRecentColors||!f||this._recentColorsWrapper){return;
}var g=document.createElement("div");
f.appendChild(g);
var l=this.get_id()+"_recentColors";
var j=this._localization[15];
if(j){var i=this._createElement("span",j,{className:"rcpRecentColorsLabel"});
g.appendChild(i);
}var k=this._recentColorsWrapper=this._createElement("ul",null,{className:"rcpRecentColors",id:l});
g.appendChild(k);
this._setRecentColorsSize();
this._setRightRoundedCornerAndShadowHeight(this._paletteWrapperElement);
if($telerik.isIE6){var h=this.get_element();
h.style.cssText=h.style.cssText;
}$addHandlers(k,{mouseover:this._onBoxMouseOver,mouseup:this._onRecentBoxClick,mouseout:this._onBoxMouseOut,click:$telerik.cancelRawEvent,selectstart:$telerik.cancelRawEvent,keydown:this._recentColorsKeyDown},this);
},_createTabWithContainer:function(k,g,j,l,i,o,n,h){var m;
if(n){m=this._createTab(o,h);
n.appendChild(m);
}var f=this[l];
if(!f){f=this[l]=this._createDiv(g,h,null,(k?null:"none"));
j.appendChild(f);
}if(k){this._updateTabSelection(m,f);
this[i](f);
}},_createTab:function(i,h){var g=this._createElement("li");
var f=this._createA(i,null,h);
if(this._tabIndex){f.setAttribute("tabindex",this._tabIndex);
}this._initializeTabHandler(f);
g.appendChild(f);
this._renderer.setLinkContent(f,i);
return g;
},_createEmptyColorElement:function(h){if(!this._showEmptyColor||this._emptyColorElement){return;
}var g=this._localization[2];
var f=this._emptyColorElement=this._createA(g,"rcpImageButton rcpEmptyColor");
f.id=this.get_id()+"_emptycolor";
if(this._tabIndex){f.setAttribute("tabindex",this._tabIndex);
}h.appendChild(f);
var i=this._createElement("span",g);
f.appendChild(i);
},_createPreviewElement:function(g,f){if(!f&&!this._previewColor){return;
}var h=f?"#fff":this._selectedColor;
if(!h){h="#fff";
}var k=f?"_customColorPreviewElement":"_previewElement";
if(this[k]){return;
}var j=this.get_id()+(f?"_customColorPreview":"_preview");
var i=this[k]=this._createDiv("rcpColorPreview",j,h,null,"<!-- / -->");
g.appendChild(i);
this._createHexColorInput(g,f);
},_tabClicked:function(i){if(this._enabled){var r=(i.target||i.srcElement);
var s=this._getParentByTagName(r,"li");
var f=this._getParentByTagName(r,"a");
if(!f){return;
}var g=f.getAttribute("rel");
var h=$get(g);
if(!s||!h){return;
}var q=this._isModeSelected(b.PaletteModes.RGBSliders,h);
var k=this._isModeSelected(b.PaletteModes.HSB,h,s);
var p=k||this._isModeSelected(b.PaletteModes.HSV,h,s);
var o="webPalette";
this._updateHeader(q||p);
this._updateTabSelection(s,h);
if(this._isModeSelected(b.PaletteModes.WebPalette,h)){this._createPalette(h);
}else{if(q){this._createRgbSliders(h);
o="rgbSliders";
}else{if(p){this._createMillionColors(h);
o=k?"hsb":"hsv";
var l=this.get_millionColorsSlider();
k?l.set_dragText(this._localization[11]):l.set_dragText(this._localization[12]);
}}}this._setElementsSize();
var n=this._paletteSizes[o];
var m=this._paletteWrapperElement;
var t=this._showIcon?m:this._wrapperElement;
this._renderer.setElementInlineWidthStyle(t,n);
this._setRightRoundedCornerAndShadowHeight(m);
this.set_selectedColor(this._selectedColor,false,true);
this._updateOverlaySize();
if($telerik.isIE){var j=this.get_element();
j.style.cssText=j.style.cssText;
}}return $telerik.cancelRawEvent(i);
},_updateTabSelection:function(j,f){if(j&&f){var g=this._isMillionColorsTabSelected(j);
if(g.HSB){Sys.UI.DomElement.removeCssClass(f,"rcpHsvPageView");
Sys.UI.DomElement.addCssClass(f,"rcpHsbPageView");
}else{if(g.HSV){Sys.UI.DomElement.removeCssClass(f,"rcpHsbPageView");
Sys.UI.DomElement.addCssClass(f,"rcpHsvPageView");
}}var i=this._selectedTab;
var h=this._selectedContainer;
if(i&&h){Sys.UI.DomElement.removeCssClass(i,"rcpSelectedTab");
h.style.display="none";
}Sys.UI.DomElement.addCssClass(j,"rcpSelectedTab");
f.style.display="";
}this._selectedTab=j;
this._selectedContainer=f;
},_updateHeader:function(h){if(h&&!this._applyButton){this._createApplyButton(h);
}var f=this._applyButton;
if(f){f.style.display=h?"":"none";
}var g=this._customColorButton;
if(g){g.style.display=h?"none":"";
}var j=this._hexColorInput;
if(j){j.readOnly=h?"":"readonly";
}var i=this._header;
if(i){Sys.UI.DomElement.removeCssClass(i,"rcpEmptyHeader");
if(!h&&!g&&!j&&!this._emptyColorElement){Sys.UI.DomElement.addCssClass(i,"rcpEmptyHeader");
}}},_updateOverlaySize:function(){var g=this._paletteWrapperElement;
var f=g._hideWindowedElementsIFrame;
if(!f){return;
}$telerik.setSize(f,$telerik.getOuterSize(g));
},_initializeTabHandler:function(f){$addHandler(f,"click",Function.createDelegate(this,this._tabClicked));
},_initializeApplyHandler:function(f){$addHandler(f,"click",Function.createDelegate(this,this._applyClick));
},_initializeCustomColorHandler:function(f){$addHandler(f,"click",Function.createDelegate(this,this._customColorClick));
},_initializeHexHandler:function(g,h){if(!h){if(!this.isModeEnabled(b.PaletteModes.RGBSliders)&&!this.isModeEnabled(b.PaletteModes.HSB)&&!this.isModeEnabled(b.PaletteModes.HSV)){return;
}}var f=h?"_hexCustomColorChange":"_hexColorChange";
var i=h?"_hexCustomKeyDown":"_hexKeyDown";
$addHandlers(g,{blur:this[f],keydown:this[i]},this);
},_initializeRgbInputHandler:function(f){$addHandlers(f,{blur:this._rgbInputValueChange,keydown:this._rgbInputKeyDown},this);
},_initializeRgbSliderHandler:function(g){var f=this;
var i=function(k,j){f._rgbSliderValueChanged(k,j);
};
var h=function(){f._eventStartedInControl=true;
};
g.add_valueChanged(i);
if(this._showIcon){g.add_slideStart(h);
}},_initializeMillionColorsRgbInputHandler:function(g,h){if(!g){return;
}var f=h?"_millionCustomColorsRgbInputValueChange":"_millionColorsRgbInputValueChange";
var i=h?"_millionCustomColorsRgbInputKeyDown":"_millionColorsRgbInputKeyDown";
$addHandlers(g,{blur:this[f],keydown:this[i]},this);
},_initializeMillionColorsInputHandler:function(g,h){if(!g){return;
}var f=h?"_millionCustomColorsInputValueChange":"_millionColorsInputValueChange";
var i=h?"_millionCustomColorsInputKeyDown":"_millionColorsInputKeyDown";
$addHandlers(g,{blur:this[f],keydown:this[i]},this);
},_initializeMillionColorsSliderHandler:function(f){var h=f?this.get_millionCustomColorsSlider():this.get_millionColorsSlider();
if(!h){return;
}var g=this;
var j=function(l,k){g._millionColorsSliderValueChanged(l,k);
};
var i=function(){g._eventStartedInControl=true;
};
h.add_valueChanged(j);
if(this._showIcon){h.add_slideStart(i);
}},_initializeMillionColorsPaletteHandler:function(f){if(f){this._initializeCustomMillionColorsPaletteHandler();
}else{this._initializeRegularMillionColorsPaletteHandler();
}},_initializeRegularMillionColorsPaletteHandler:function(){var f=this._millionColorsPalette;
if(f){this._millionColorsDownDelegate=c(this,this._onMillionColorsPaletteMouseDown);
$telerik.onEvent(f,d,this._millionColorsDownDelegate);
}},_initializeCustomMillionColorsPaletteHandler:function(){var f=this._millionCustomColorsPalette;
if(f){this._millionCustomColorsDownDelegate=c(this,this._onMillionCustomColorsPaletteMouseDown);
$telerik.onEvent(f,d,this._millionCustomColorsDownDelegate);
}},_createElement:function(n,j,g,l){var i=document.createElement(n);
for(var f in g){var h=g[f];
if(h!=null&&h.toString()!=""){i[f]=h;
}}for(var k in l){var m=l[k];
if(m!=null&&m.toString()!=""){i.style[k]=m;
}}if(j){i.innerHTML=j;
}return i;
},_createA:function(i,g,h,f){return this._createElement("a",null,{className:g,href:"#",title:i,rel:h},{backgroundColor:f});
},_createDiv:function(g,i,f,h,j){return this._createElement("div",j,{className:g,id:i},{background:f,display:h});
},_createInput:function(f,h,g){return this._createElement("input",null,{className:f,id:g,type:"text",value:h});
},getElementBox:function(g){var f=this._renderer.getElementBox(g);
return f;
},getElementContentBox:function(g){var f=this.getElementBox(g);
if(g){var h=$telerik.getMarginBox(g);
f.horizontal=f.horizontal+h.horizontal;
f.vertical=f.vertical+h.vertical;
}return f;
},showPalette:function(){if(this._paletteDisplayed){return;
}this._createTabStrip();
var l=this._popupBehavior;
var h=l._firstPopup;
var n=$telerik.isOpera?$telerik.originalGetLocation(this._iconWrapperElement).y-$telerik.getLocation(this._iconWrapperElement).y:0;
if(this.get_keepInScreenBounds()){this._paletteWrapperElement._originalHeight=this._paletteWrapperElement.style.height;
this._paletteWrapperElement.style.height=this.getPaletteHeight()+"px";
}l.set_x(0);
l.set_y($telerik.getSize(this._iconWrapperElement).height+n);
l.show();
if(this.get_keepInScreenBounds()){this._paletteWrapperElement.style.height=this._paletteWrapperElement._originalHeight;
this._paletteWrapperElement._originalHeight=null;
}var k=this._paletteWrapperElement;
k.style.visibility="";
if(h&&this._selectedContainer){var i=this._paletteSizes;
var j=this._isModeSelected(b.PaletteModes.WebPalette)?i.webPalette:(this._isModeSelected(b.PaletteModes.RGBSliders)?i.rgbSliders:(this._isModeSelected(b.PaletteModes.HSB)?i.hsb:i.hsv));
var m=this._showIcon?k:this._wrapperElement;
this._renderer.setElementInlineWidthStyle(m,j);
}var f=this._applyButton;
var g=this._customColorButton;
if($telerik.isIE6&&(f||g)){if(f){f.style.visibility="visible";
}if(g){g.style.visibility="visible";
}setTimeout(Function.createDelegate(this,function(){if(f){f.style.visibility="";
}if(g){g.style.visibility="";
}}),0);
}this.set_selectedColor(this._selectedColor,false,true);
this._paletteDisplayed=true;
this.raiseEvent("popUpShow",Sys.EventArgs.Empty);
},hidePalette:function(){var g=this._popupBehavior;
if(g){var f=this._paletteWrapperElement;
f.style.top="-9999px";
f.style.left="-9999px";
g.hide();
}this._paletteDisplayed=false;
},getIconContainer:function(){return this._iconWrapperElement;
},getPaletteContainer:function(){return this._paletteWrapperElement;
},getPaletteHeight:function(){var f=a(this._paletteWrapperElement);
var g=this._renderer.getPaletteHeight(f);
return g;
},get_selectedColor:function(){return this._selectedColor;
},set_selectedColor:function(r,p,o){if(!r||(r.toString().toLowerCase()=="null")){r=null;
}else{if(!this._validateHexValue(r)){return;
}if(r.indexOf("#")!=-1){r=r.substring(1,r.length);
}if(r.length==3){var i=function(s){return(s+s);
};
r=r.replace(/([0-9a-f])/gi,i);
}r="#"+r;
}var n=this._selectedColor;
if(!n){n=null;
}if(r!=null){r=r.toUpperCase();
}if(r!=n){var f=a.raiseCancellableControlEvent(this,"colorChanging",{oldColor:n,newColor:r});
if(f){var m=this._getBoxElementByColor(n);
if(m!=null){m.focus();
}var l=this._getBoxElementByColor(r);
if(l!=null){l.blur();
}return;
}}this._selectedColor=r;
this._previewCurrentColor(r);
if(this._showIcon){this._setIconColor(r);
}if(!p&&this._selectedContainer){if(this._isModeSelected(b.PaletteModes.WebPalette)){var j=this._emptyColorElement;
var h=this._getMarkedElement();
if(h!=null){if(h!=j){h.className="rcpColorBox";
}}h=this._getBoxElementByColor(r);
if(h!=null){this._setMarkedElement(h);
if(h!=j){h.className="rcpSelectedColor";
}}}else{var q=this._isModeSelected(b.PaletteModes.RGBSliders)?"_updateRgbSlidersUI":(this._isModeSelected(b.PaletteModes.HSB)?"_updateHslPaletteElementsUI":"_updateHsvPaletteElementsUI");
var g=(r===null||r===undefined)&&this._isModeSelected(b.PaletteModes.HSB)?{r:128,g:128,b:128}:this._getRgbFromHex(r);
this._millionColorsSliderAvoidRecursion=true;
this[q](g);
this._millionColorsSliderAvoidRecursion=false;
}}if(!o){this._updateRecentColors(r);
}this.updateClientState();
if(this._selectedColor!=n){var k=new b.ColorPickerColorChangeEventArgs(n);
this.raiseEvent("colorChange",k);
if(this._autoPostBack){this._raiseColorChangedServerEvent();
}}},get_selectedColorTitle:function(){var f=this._getBoxElementByColor(this._selectedColor);
if(f!=null){return f.getAttribute("title");
}return this._selectedColor;
},get_enabled:function(){return this._enabled;
},set_enabled:function(o){if(this._enabled==o){return;
}this._enabled=o;
if(!this._wrapperElement){return;
}var g=[this.get_redSlider(),this.get_greenSlider(),this.get_blueSlider(),this.get_millionColorsSlider()];
var j,l;
for(j=0,l=g.length;
j<l;
j++){var n=g[j];
if(n&&n.set_enabled){n.set_enabled(o);
}}var f=[this._hexColorInput,this._redInput,this._greenInput,this._blueInput,this._accessKeyTextbox];
var m=this._millionColorsInputs;
if(m){f=f.concat([m.r,m.g,m.b,m.h,m.s,m.l,m.v]);
}var h=this.get_element(),k;
if(o){Sys.UI.DomElement.removeCssClass(h,"rcpDisabled");
h.removeAttribute("disabled");
for(j=0,l=f.length;
j<l;
j++){k=f[j];
if(k){k.removeAttribute("disabled");
}}}else{Sys.UI.DomElement.addCssClass(h,"rcpDisabled");
h.setAttribute("disabled","disabled");
for(j=0,l=f.length;
j<l;
j++){k=f[j];
if(k){k.setAttribute("disabled","disabled");
}}}},get_overlay:function(){return this._overlay;
},set_overlay:function(h){this._overlay=h;
var f=this._customColorPopupBehavior;
if(f){f.set_overlay(h);
}var g=this._popupBehavior;
if(g){g.set_overlay(h);
if(this._showIcon&&this._paletteDisplayed){g.show();
}}},get_keepInScreenBounds:function(){return this._keepInScreenBounds;
},set_keepInScreenBounds:function(h){this._keepInScreenBounds=h;
var f=this._customColorPopupBehavior;
if(f){f.set_keepInScreenBounds(h);
}var g=this._popupBehavior;
if(g){g.set_keepInScreenBounds(h);
if(this._showIcon&&this._paletteDisplayed){g.show();
}}},_initializeEventHandlers:function(){this._initializePalleteEventHandlers();
if(this._showIcon){$addHandlers(this._iconLink,{click:this._onIconMouseUp,keydown:this._iconKeyDown},this);
$addHandlers(this.get_element(),{mousedown:this._onWrapperMouseDown},this);
this._mouseUpHandler=Function.createDelegate(this,this._onMouseUp);
$telerik.addExternalHandler(document,"mouseup",this._mouseUpHandler);
}},_applyAccessKey:function(){if(!this._accessKey){return;
}if($telerik.isChrome||$telerik.isSafari){var g=document.createElement("div");
g.style.width="0px";
g.style.height="0px";
g.style.overflow="hidden";
this.get_element().appendChild(g);
var f=this._accessKeyTextbox=document.createElement("input");
f.setAttribute("type","text");
var h=this.get_id()+"ColorPickerAccessKey";
f.setAttribute("name",h);
f.setAttribute("id",h);
f.setAttribute("accessKey",this._accessKey);
g.appendChild(f);
$addHandlers(f,{focus:this._accessKeyPressed},this);
}},_accessKeyPressed:function(f){var g=this._iconLink;
if(!g){g=this._getFirstChildByTagName(this._tabStrip,"a");
if(!g){g=this._getFirstChildByTagName(this._webPaletteWrapper,"a");
if(!g){g=this._redInput;
if(!g&&this._millionColorsInputs){g=this._millionColorsInputs.r;
}}}}if(g){g.focus();
}},_getFirstChildByTagName:function(g,h){if(g){var f=g.getElementsByTagName(h);
if(f&&f.length>0){return f[0];
}}return null;
},_iconKeyDown:function(f){f=f.rawEvent||f;
var g=f.keyCode||f.which;
var h=(g==Sys.UI.Key.esc)||(f.altKey&&g==Sys.UI.Key.up);
var i=f.altKey&&(g==Sys.UI.Key.down);
if(!i&&!h){return;
}$telerik.cancelRawEvent(f);
if(h){this.hidePalette();
}else{this.showPalette();
}return false;
},_hexCustomKeyDown:function(f){this._hexKeyDown(f,true);
},_hexKeyDown:function(f,g){f=f.rawEvent||f;
var h=f.keyCode||f.which;
if(h!=Sys.UI.Key.enter){return;
}$telerik.cancelRawEvent(f);
this._hexColorChange(f,g);
if(g){this._okClick();
}else{this._applyClick(f);
}return false;
},_rgbInputKeyDown:function(f){f=f.rawEvent||f;
var g=f.keyCode||f.which;
if(g!=Sys.UI.Key.enter){return;
}$telerik.cancelRawEvent(f);
this._rgbInputValueChange(f);
this._applyClick(f);
return false;
},_millionCustomColorsRgbInputKeyDown:function(f){this._millionColorsRgbInputKeyDown(f,true);
},_millionColorsRgbInputKeyDown:function(f,g){f=f.rawEvent||f;
var h=f.keyCode||f.which;
if(h!=Sys.UI.Key.enter){return;
}$telerik.cancelRawEvent(f);
this._millionColorsRgbInputValueChange(f,g);
if(g){this._okClick();
}else{this._applyClick(f);
}return false;
},_millionCustomColorsInputKeyDown:function(f){this._millionColorsInputKeyDown(f,true);
},_millionColorsInputKeyDown:function(f,g){f=f.rawEvent||f;
var h=f.keyCode||f.which;
if(h!=Sys.UI.Key.enter){return;
}$telerik.cancelRawEvent(f);
this._millionColorsInputValueChange(f,g);
if(g){this._okClick();
}else{this._applyClick(f);
}return false;
},_webPaletteKeyDown:function(i){i=i.rawEvent||i;
var k=i.keyCode||i.which;
if(k==Sys.UI.Key.enter){$telerik.cancelRawEvent(i);
this._onBoxClick(i);
}else{var h=this._getColorBoxElement(i.target||i.srcElement);
if(!h){return;
}var g=this._indexByColor[this._getElementColor(h)];
var f=this._columns;
var j=this._webPaletteWrapper.getElementsByTagName("a");
var l=g;
switch(k){case Sys.UI.Key.up:l-=f;
break;
case Sys.UI.Key.down:l+=f;
break;
case Sys.UI.Key.left:l-=1;
break;
case Sys.UI.Key.right:l+=1;
break;
case Sys.UI.Key.home:l=0;
break;
case Sys.UI.Key.end:l=j.length-1;
break;
default:return;
}l=Math.max(0,Math.min(j.length-1,l));
var m=j[l];
m.focus();
this._previewCurrentColor(this._getElementColor(m),true,m.title);
}$telerik.cancelRawEvent(i);
return false;
},_recentColorsKeyDown:function(h){h=h.rawEvent||h;
var j=h.keyCode||h.which;
if(j==Sys.UI.Key.enter){this._onRecentBoxClick(h);
}else{var m=this._recentColors;
if(!m){return;
}var g=this._getColorBoxElement(h.target||h.srcElement);
if(!g){return;
}var f=Array.indexOf(m,this._getElementColor(g));
var i=this._recentColorsWrapper.getElementsByTagName("a");
var k=f;
switch(j){case Sys.UI.Key.up:k-=1;
break;
case Sys.UI.Key.down:k+=1;
break;
case Sys.UI.Key.left:k-=1;
break;
case Sys.UI.Key.right:k+=1;
break;
case Sys.UI.Key.home:k=0;
break;
case Sys.UI.Key.end:k=i.length-1;
break;
default:return;
}k=Math.max(0,Math.min(i.length-1,k));
var l=i[k];
l.focus();
this._previewCurrentColor(this._getElementColor(l),true,l.title);
}$telerik.cancelRawEvent(h);
return false;
},_initializePalleteEventHandlers:function(){var g=this._webPaletteWrapper;
if(g){$addHandlers(g,{mouseover:this._onBoxMouseOver,mouseup:this._onBoxClick,mouseout:this._onBoxMouseOut,click:$telerik.cancelRawEvent,selectstart:$telerik.cancelRawEvent,keydown:this._webPaletteKeyDown},this);
}var f=this._emptyColorElement;
if(f&&this._showEmptyColor){$addHandlers(f,{click:this._onEmptyColorClick},this);
}},_disposeHandlers:function(){var g=this._webPaletteWrapper;
if(g){$clearHandlers(g);
}var f=this._emptyColorElement;
if(f&&this._showEmptyColor){$clearHandlers(f);
}if(this._showIcon){$clearHandlers(this._iconLink);
$clearHandlers(this.get_element());
$telerik.removeExternalHandler(document,"mouseup",this._mouseUpHandler);
this._iconWrapperElement=null;
this._iconLink=null;
}this._mouseUpHandler=null;
},_raiseColorChangedServerEvent:function(){setTimeout(Function.createDelegate(this,function(){__doPostBack(this._uniqueID);
}),0);
},_onMouseUp:function(f){if(!this._enabled){return;
}if(this._eventStartedInControl){this._eventStartedInControl=false;
return;
}var g=f.target||f.srcElement;
if($telerik.isDescendantOrSelf(this._paletteWrapperElement,g)){return;
}this.hidePalette();
},_onBoxMouseOver:function(g){if(!this._enabled){return;
}var h=this._getColorBoxElement(g.target||g.srcElement);
if(h==null){return;
}var f=this._getElementColor(h);
this._previewCurrentColor(f,true,h.title);
},_onBoxMouseOut:function(g){if($telerik.isMouseOverElementEx(this._webPaletteWrapper,g)){return;
}var h=this._recentColorsWrapper;
var f=this.get_selectedColor();
if(h){if($telerik.isMouseOverElementEx(h,g)){return;
}if(this._selectedContainer&&!this._isModeSelected(b.PaletteModes.WebPalette)){f=this._getColorFromRGBControls();
}}this._previewCurrentColor(f);
},_applyClick:function(f){if(this._enabled){var h=this._hexColorInput;
var g=h?h.value:this._getColorFromRGBControls();
this._applyColorAndClose(g,true);
}return $telerik.cancelRawEvent(f);
},_cancelClick:function(f){return this._closeCustomColorPalette(f);
},_okClick:function(f){if(this._enabled){var h=this._hexCustomColorInput;
var g=h?h.value:this._getColorFromRGBControls(true);
this.set_selectedColor(g);
return this._closeCustomColorPalette(f);
}return $telerik.cancelRawEvent(f);
},_customColorClick:function(i){var j=this._customColorModalExtender;
var l=this._customColorPopupBehavior;
if(!l){var h=this._customColorPalette;
if(!h){h=this._createCustomColorPalette();
}j=this._customColorModalExtender=new b.ModalExtender(h);
l=this._customColorPopupBehavior=$create(Telerik.Web.PopupBehavior,{id:this.get_id()+"CustomColorPopupBehavior",overlay:this._overlay,parentElement:document.documentElement,keepInScreenBounds:this._keepInScreenBounds},null,null,h);
}var f=this._getCentralBounds();
l.set_x(f.x);
l.set_y(f.y);
l.show();
this._renderer.adjustCustomColorPopupWidth(l.get_elementToShow());
j.show();
this._millionColorsSliderAvoidRecursion=true;
this._updateHslPaletteElementsUI(this._getRgbFromHex("#808080"),null,true);
this._millionColorsSliderAvoidRecursion=false;
var k=this._customColorOkButton;
var g=this._customColorCancelButton;
if($telerik.isIE6&&(k||g)){if(k){k.style.visibility="visible";
}if(g){g.style.visibility="visible";
}setTimeout(Function.createDelegate(this,function(){if(k){k.style.visibility="";
}if(g){g.style.visibility="";
}}),0);
}this._millionCustomColorsInputs.r.focus();
if(this._showIcon){this.hidePalette();
}return $telerik.cancelRawEvent(i);
},_getCentralBounds:function(){var g=this._customColorPalette;
var f={width:parseInt($telerik.getCurrentStyle(g,"width","350px"),10),height:parseInt($telerik.getCurrentStyle(g,"height","325px"),10)||325};
var h=this._getViewportBounds();
var i=parseInt((h.width-f.width)/2,10);
var j=parseInt((h.height-f.height)/2,10);
f.x=i+h.scrollLeft;
f.y=j+h.scrollTop;
return f;
},_getViewportBounds:function(){var f=$telerik.getClientBounds();
var g=$telerik.getCorrectScrollLeft(document.documentElement)||$telerik.getCorrectScrollLeft(document.body);
var h=document.documentElement.scrollTop||document.body.scrollTop;
f.scrollLeft=g;
f.scrollTop=h;
if(this.isIE){if(f.width==0){f.width=document.body.clientWidth;
}if(f.height==0){f.height=document.body.clientHeight;
}}return f;
},_getColorFromRGBControls:function(g){var h;
if(!g&&this._isModeSelected(b.PaletteModes.RGBSliders)){h={r:this.get_redSlider().get_value(),g:this.get_greenSlider().get_value(),b:this.get_blueSlider().get_value()};
}else{var f=this[g?"_millionCustomColorsInputs":"_millionColorsInputs"];
h={r:parseInt(f.r.value,10),g:parseInt(f.g.value,10),b:parseInt(f.b.value,10)};
}return this._rgbValuesToHex(h.r,h.g,h.b);
},_onEmptyColorClick:function(f){if(this._enabled){this._applyColorAndClose(null);
}return $telerik.cancelRawEvent(f);
},_applyColorAndClose:function(f,i,h){var g=this._showIcon;
this.set_selectedColor(f,(g||i),h);
if(g){this.hidePalette();
}},_closeCustomColorPalette:function(f){var g=this._customColorModalExtender;
if(g){g.hide();
}var h=this._customColorPopupBehavior;
if(h){h.hide();
}return $telerik.cancelRawEvent(f);
},_onWrapperMouseDown:function(f){if(!this._enabled){return;
}this._eventStartedInControl=true;
},_onIconMouseUp:function(f){if(this._enabled){if(this._paletteDisplayed){this.hidePalette();
}else{this.showPalette();
}}return $telerik.cancelRawEvent(f);
},_getElementColor:function(f){if(f==this._emptyColorElement){return null;
}return f.firstChild.innerHTML;
},_setIconColor:function(f){var h=(f)?f:this._localization[13];
var g=a.trim(this._localization[0]+" "+this._localization[1].toString().replace("{0}",h));
if(g!=""){this._iconWrapperElement.title=g;
}this._iconElement.style.backgroundColor=(f)?f:"#FFFFFF";
},_onBoxClick:function(f,g){if(this._enabled){this._eventStartedInControl=false;
if(f.button){return;
}var h=this._getColorBoxElement(f.target||f.srcElement);
if(!h){return;
}this._applyColorAndClose(this._getElementColor(h),false,g);
}return $telerik.preventDefault(f);
},_onRecentBoxClick:function(f){return this._onBoxClick(f,true);
},_getMarkedElement:function(){var k=this._markedElement;
if(k){return k;
}var l=this._webPaletteWrapper;
if(!l){return null;
}var f=l.getElementsByTagName("A");
for(var h=0,j=f.length;
h<j;
h++){var g=f[h];
if(g.className=="rcpSelectedColor"){return g;
}}return null;
},_setMarkedElement:function(f){this._markedElement=f;
},_getColorBoxElement:function(f){var h=3;
var g=0;
while(g<h){if(f.className=="rcpColorBox"||f.className=="rcpSelectedColor"||f.className.indexOf("rcpEmptyColor")>-1){return f;
}g++;
f=f.parentNode;
}return null;
},_getParentByTagName:function(f,j){var h=3;
var g=0;
while(g<h){if(f.tagName.toLowerCase()==j){return f;
}g++;
f=f.parentNode;
}return null;
},_getBoxElementByColor:function(f){if(!f){return this._emptyColorElement;
}f=f.toUpperCase();
return this._elementsByColor[f];
},_previewCurrentColor:function(f,l,k,i){if(!this.get_isInitialized()){return;
}if(l&&(f!=this._lastPreviewColor)){var g=new b.ColorPickerColorPreviewEventArgs(f);
this.raiseEvent("colorPreview",g);
}this._lastPreviewColor=f;
if(!this._previewColor&&!i){return;
}if(f==null){f="#FFFFFF";
k=this._localization[2];
}f=f.toUpperCase();
if(!k){k=f;
}var j=this[i?"_customColorPreviewElement":"_previewElement"];
if(j){j.style.backgroundColor=f;
}var h=this[i?"_hexCustomColorInput":"_hexColorInput"];
if(h){h.value=f;
}},_updateRecentColors:function(l){var p=this._recentColors;
if(l){var j=Array.indexOf(p,l);
if(j>-1){p.splice(j,1);
}if(p.unshift(l)>this._columns){p.pop();
}}if(this._showRecentColors&&p.length>0){if(!this._recentColorsWrapper){this._createRecentColors(this._multiPage);
}var q=this._recentColorsWrapper;
if(q){var r=this._recentElementsByColor;
for(var h=0,k=p.length;
h<k;
h++){var o=p[h];
var n=this._getBoxElementByColor(o);
var g={value:o,title:(n?n.title:o)};
var f=r[h];
if(!f){var m=this._createColorElement(g,true);
q.appendChild(m);
r[r.length]=f=$telerik.getFirstChildByTagName(m,"a");
}else{f.title=g.title;
f.style.backgroundColor=g.value;
var s=$telerik.getFirstChildByTagName(f,"span");
if(s){s.innerHTML=g.value;
}}f.removeAttribute("tabIndex");
if(h>0){f.setAttribute("tabIndex","-1");
}else{if(this._tabIndex){f.setAttribute("tabIndex",this._tabIndex);
}}}if(r.length>0){q.style.height="";
}}}},saveClientState:function(){var g=["selectedColor"];
var h={};
for(var f=0;
f<g.length;
f++){h[g[f]]=this["get_"+g[f]]();
}return Sys.Serialization.JavaScriptSerializer.serialize(h);
}};
a.registerControlProperties(b.RadColorPicker,{paletteModes:b.PaletteModes.WebPalette,hiddenSlider:null,redSlider:null,greenSlider:null,blueSlider:null,millionColorsSlider:null,millionCustomColorsSlider:null});
a.registerControlEvents(b.RadColorPicker,["load","colorPreview","colorChanging","colorChange","popUpShow"]);
b.RadColorPicker.registerClass("Telerik.Web.UI.RadColorPicker",b.RadWebControl);
})();
(function(b){Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.ColorPicker");
var a=Telerik.Web.UI.ColorPicker;
a.BaseRenderer=function(){};
a.BaseRenderer.prototype={setElementInlineWidthStyle:Function.emptyFunction,setColorRectangleDimensions:Function.emptyFunction,setMillionColorsSliderHeight:Function.emptyFunction,getRgbPaletteWidth:Function.emptyFunction,getInitialHsbPaletteWidth:Function.emptyFunction,getElementContentBox:Function.emptyFunction,getElementBox:Function.emptyFunction,getHsbSliderHeight:Function.emptyFunction,getHsvSliderHeight:Function.emptyFunction,createRoundedCornersAndShadow:Function.emptyFunction,setRightRoundedCornerAndShadowHeight:Function.emptyFunction,getTabTextParentTagName:Function.emptyFunction,setLinkContent:Function.emptyFunction,getPaletteHeight:Function.emptyFunction,adjustCustomColorPopupWidth:Function.emptyFunction,getOuterWidth:Function.emptyFunction};
a.BaseRenderer.registerInterface("Telerik.Web.UI.ColorPicker.BaseRenderer");
})();
(function(a,c){Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.ColorPicker");
var b=Telerik.Web.UI.ColorPicker;
b.ClassicRenderer=function(d){this._defaultHSBWidth=d.isTouchSkin?380:345;
this._defaultHSVWidth=d.isTouchSkin?380:d.isSilkOrGlowSkin?345:249;
};
b.ClassicRenderer.prototype={setElementInlineWidthStyle:function(d,e){if(d&&parseInt(d.style.width,10)!=e){d.style.width=e+"px";
}},setColorRectangleDimensions:function(d,e){if(parseInt(d.style.width,10)!=e){d.style.width=e+"px";
d.style.height=e+"px";
}},setMillionColorsSliderHeight:function(){},getRgbPaletteWidth:function(e,d){return e;
},getInitialHsbPaletteWidth:function(){return this._defaultHSBWidth;
},getInitialHsvPaletteWidth:function(){return this._defaultHSVWidth;
},getOuterWidth:function(d){return $telerik.getOuterSize(d).width;
},getElementContentBox:function(e){var d=this.getElementBox(e);
if(e){var f=$telerik.getMarginBox(e);
d.horizontal=d.horizontal+f.horizontal;
d.vertical=d.vertical+f.vertical;
}return d;
},getElementBox:function(f){var e={horizontal:0,vertical:0};
if(f){var d=$telerik.getBorderBox(f);
var g=$telerik.getPaddingBox(f);
e.horizontal=d.horizontal+g.horizontal;
e.vertical=d.vertical+g.vertical;
}return e;
},getHsbSliderHeight:function(){},createRoundedCornersAndShadow:function(h,f,g,d){var e=d("rcpRoundedRight");
h.appendChild(e);
e=d("rcpRoundedBottomRight");
h.appendChild(e);
e=d("rcpRoundedBottomLeft");
h.appendChild(e);
if($telerik.isIE6){return;
}if(f||g){e=d("rcpRightShadow");
h.appendChild(e);
e=d("rcpCornerShadow");
h.appendChild(e);
e=d("rcpBottomShadow");
h.appendChild(e);
}},setRightRoundedCornerAndShadowHeight:function(e){var d=$telerik.getContentSize(e).height+"px";
a(e).children(".rcpRoundedRight").css("height",d);
a(e).children(".rcpRightShadow").css("height",d);
},getTabTextParentTagName:function(){return"span";
},setLinkContent:function(d,f){var e=document.createElement("span");
e.innerHTML=f;
d.appendChild(e);
},getPaletteHeight:function(d){var e=d.find(".rcpRoundedRight").height()+d.find(".rcpRoundedBottomRight").height()+d.find(".rcpTabs").height();
return e;
},adjustCustomColorPopupWidth:function(){}};
b.ClassicRenderer.registerClass("Telerik.Web.UI.ColorPicker.ClassicRenderer",null,b.BaseRenderer);
})($telerik.$);
(function(b){Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.ColorPicker");
var a=Telerik.Web.UI.ColorPicker;
a.LightweightRenderer=function(){};
a.LightweightRenderer.prototype={getFontSize:function(c){return parseInt($telerik.getComputedStyle(c,"fontSize"),10);
},setElementInlineWidthStyle:function(c,e){var d=Math.ceil(e)/this.getFontSize(c);
c.style.width=d+"em";
},setColorRectangleDimensions:function(c,d){c.style.width=d/this.getFontSize(c)+"em";
c.style.height=d/this.getFontSize(c)+"em";
},setMillionColorsSliderHeight:function(c,d){c.set_height(d);
},getRgbPaletteWidth:function(d,c){return c;
},getInitialHsbPaletteWidth:function(c){return this.getInitialPaletteWidth(c);
},getInitialPaletteWidth:function(c){var i=this.getElementContentBox(c.paletteWrapperElement).horizontal;
var j=$telerik.getElementByClassName(c.multiPage,"rcpMillionColorsPageView","div");
var k=i+this.getElementContentBox(j).horizontal;
var g=this.getOuterWidth(c.millionColorsPalette);
var h=this.getOuterWidth(c.millionColorsSlider.get_element());
var e=$telerik.getElementByClassName(c.colorPicker,"rcpInputsWrapper","div");
var f=this.getOuterWidth(e);
var d=g+h+f+k;
return d;
},getInitialHsvPaletteWidth:function(c){return this.getInitialPaletteWidth(c);
},getElementContentBox:function(d){var c=this.getElementBox(d);
if(d){var e=this.getMarginBox(d);
c.horizontal=c.horizontal+e.horizontal;
c.vertical=c.vertical+e.vertical;
}return c;
},getElementBox:function(e){var d={horizontal:0,vertical:0};
if(e){var c=$telerik.getBorderBox(e);
var f=$telerik.getPaddingBox(e);
f.horizontal=this.getDistanceStyleValue(e,"paddingLeft")+this.getDistanceStyleValue(e,"paddingRight");
f.vertical=this.getDistanceStyleValue(e,"paddingTop")+this.getDistanceStyleValue(e,"paddingBottom");
d.horizontal=c.horizontal+f.horizontal;
d.vertical=c.vertical+f.vertical;
}return d;
},getDistanceStyleValue:function(c,d){return parseFloat(parseFloat($telerik.getComputedStyle(c,d)).toFixed(2));
},getMarginBox:function(d){var c={top:this.getDistanceStyleValue(d,"marginTop"),right:this.getDistanceStyleValue(d,"marginRight"),bottom:this.getDistanceStyleValue(d,"marginBottom"),left:this.getDistanceStyleValue(d,"marginLeft")};
c.horizontal=c.left+c.right;
c.vertical=c.top+c.bottom;
return c;
},getOuterWidth:function(c){return this.getElementContentBox(c).horizontal+this.getElementSize(c).width;
},getElementSize:function(c){var e=this.getDistanceStyleValue(c,"width");
var d=this.getDistanceStyleValue(c,"height");
return{width:e,height:d};
},getHsbSliderHeight:function(c){return $telerik.getOuterSize(c).height;
},createRoundedCornersAndShadow:function(){},setRightRoundedCornerAndShadowHeight:function(){},getTabTextParentTagName:function(){return"a";
},setLinkContent:function(c,d){c.innerHTML=d;
},getPaletteHeight:function(c){var d=c.find(".rcpHeader").height()+c.find(".rcpViews").height()+c.find(".rcpTabs").height();
return d;
},adjustCustomColorPopupWidth:function(c){var e=c.style.width;
if(e.indexOf("em")!==-1){return;
}var d=parseInt(e,10)/this.getFontSize(c)+"em";
c.style.width=d;
}};
a.LightweightRenderer.registerClass("Telerik.Web.UI.ColorPicker.LightweightRenderer",null,a.BaseRenderer);
})();
