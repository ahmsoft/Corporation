Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(c,b,a){var d=["body","p","div","ul","ol","li","table","thead","tbody","tr","th","td","h[1-6]","form","fieldset","dl","dd","blockquote","address","hr"];
var e=["article","aside","audio","canvas","details","figcaption","figure","footer","header","hgroup","nav","output","section","video"];
var f=new RegExp("^(?:"+d.concat(e).join("|")+")$","i");
var h={euro:"\u20ac",cent:"\u00a2",pound:"\u00a3",yen:"\u00a5",sect:"\u00a7",copy:"\u00a9",reg:"\u00ae",plusmn:"\u00b1",ne:"\u2260",asymp:"\u2248",le:"\u2264",ge:"\u2265",divide:"\u00f7",times:"\u00d7",iexcl:"\u00a1",curren:"\u00a4",brvbar:"\u00a6",uml:"\u00a8",ordf:"\u00aa",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lArr:"\u21d0",uArr:"\u21d1",rArr:"\u21d2",dArr:"\u21d3",hArr:"\u21d4",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a","int":"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",equiv:"\u2261",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",laquo:"\u00ab",not:"\u00ac",macr:"\u00af",deg:"\u00b0",sup2:"\u00b2",sup3:"\u00b3",acute:"\u00b4",micro:"\u00b5",para:"\u00b6",middot:"\u00b7",cedil:"\u00b8",sup1:"\u00b9",ordm:"\u00ba",raquo:"\u00bb",frac14:"\u00bc",frac12:"\u00bd",frac34:"\u00be",iquest:"\u00bf",Agrave:"\u00c0",Aacute:"\u00c1",Acirc:"\u00c2",Atilde:"\u00c3",Auml:"\u00c4",Aring:"\u00c5",AElig:"\u00c6",Ccedil:"\u00c7",Egrave:"\u00c8",Eacute:"\u00c9",Ecirc:"\u00ca",Euml:"\u00cb",Igrave:"\u00cc",Iacute:"\u00cd",Icirc:"\u00ce",Iuml:"\u00cf",ETH:"\u00d0",Ntilde:"\u00d1",Ograve:"\u00d2",Oacute:"\u00d3",Ocirc:"\u00d4",Otilde:"\u00d5",Ouml:"\u00d6",Oslash:"\u00d8",Ugrave:"\u00d9",Uacute:"\u00da",Ucirc:"\u00db",Uuml:"\u00dc",Yacute:"\u00dd",THORN:"\u00de",szlig:"\u00df",agrave:"\u00e0",aacute:"\u00e1",acirc:"\u00e2",atilde:"\u00e3",auml:"\u00e4",aring:"\u00e5",aelig:"\u00e6",ccedil:"\u00e7",egrave:"\u00e8",eacute:"\u00e9",ecirc:"\u00ea",euml:"\u00eb",igrave:"\u00ec",iacute:"\u00ed",icirc:"\u00ee",iuml:"\u00ef",eth:"\u00f0",ntilde:"\u00f1",ograve:"\u00f2",oacute:"\u00f3",ocirc:"\u00f4",otilde:"\u00f5",ouml:"\u00f6",oslash:"\u00f8",ugrave:"\u00f9",uacute:"\u00fa",ucirc:"\u00fb",uuml:"\u00fc",yacute:"\u00fd",thorn:"\u00fe",yuml:"\u00ff",fnof:"\u0192",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",bull:"\u2022",hellip:"\u2026",prime:"\u2032",Prime:"\u2033",oline:"\u203e",frasl:"\u2044",weierp:"\u2118",image:"\u2111",real:"\u211c",alefsym:"\u2135",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",lang:"\u2329",rang:"\u232a",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",permil:"\u2030",lsaquo:"\u2039",rsaquo:"\u203a",nbsp:"\u00a0",lt:"\u003c",gt:"\u003e"};
var g=Telerik.Web.Browser;
var i=/^[\u200b]+$/;
var j=b.Utils={setElementClassName:function(k,m){if(!k){return"";
}if(!m){k.className="";
k.removeAttribute("class",0);
k.removeAttribute("classname",0);
}else{var l=k.className;
k.className=m;
return l;
}},addElementsToSelection:function(l,k){if($telerik.isIE){b.Utils.selectElement(l,k[0]);
return 1;
}var n=l.getSelection();
var m=new b.Selection(l);
var o=m.getRange();
if(!o||!o.selectNodeContents){return -1;
}if(n.removeAllRanges){n.removeAllRanges();
}if(k.length>0){o.setStart(k[0],0);
o.setEnd(k[k.length-1],1);
}n.addRange(o);
return k.length;
},getFullySelectedElement:function(k){return $telerik.isIE&&!$telerik.isIE9Mode?b.Utils._getFullySelectedElementIE(k):b.Utils._getFullySelectedElementMoz(k);
},_isListFullySelected:function(k,m){if(k.tagName=="UL"||k.tagName=="OL"){var l=m.match(/<LI\/?>/gi);
if(l.length==k.getElementsByTagName("LI").length){return true;
}}return false;
},_getFullySelectedElementIE:function(k){var n=new b.Selection(k);
var t=n.getRange();
var s=(t.length>0?t.item(0):t.parentElement());
if(t.length>0){return s;
}else{if(s.tagName=="A"){var m=t.duplicate();
m.moveToElementText(s);
if(t.inRange(m)){return s;
}}else{if(b.Utils._isListFullySelected(s,n.getHtml())){return s;
}else{if(!t.htmlText){return null;
}}}}var v=t.duplicate();
var p=t.duplicate();
v.collapse(true);
p.collapse(false);
var u=v.parentElement();
if(u.parentNode==s){u=s;
}var o=p.parentElement();
if(u==o){var l=k.document;
var x=l.body.createTextRange();
x.moveToElementText(u);
var w=t.htmlText;
var y=false;
var r=u.outerHTML.replace(/[\r\n\t]/ig,"");
var q=u.innerHTML.replace(/[\r\n\t]/ig,"");
w=w.replace(/[\r\n\t]/ig,"");
if(r==w||q==w){y=true;
}if(y||(0==x.compareEndPoints("StartToStart",t)&&0==x.compareEndPoints("EndToEnd",t))){if("BODY"!=s.tagName){return s;
}}}},_getFullySelectedElementMoz:function(l){var n=l.document;
var p=l.getSelection();
if(p.rangeCount<1){return null;
}var r=p.getRangeAt(0);
var m=r.commonAncestorContainer;
var k=m.parentNode;
var o=new b.Selection(l);
if($telerik.isFirefox){var s=this._tryGetFullySelectedElementInFF(o);
if(s){return s;
}}if(m.tagName=="BODY"){var q=o.getParentElement();
if(q&&q.tagName!="BODY"){return q;
}}else{var t=n.createElement("span");
t.appendChild(r.cloneContents());
if(t.innerHTML==k.innerHTML&&k.tagName!="BODY"){return k;
}}if(b.Utils._isListFullySelected(m,o.getHtml())){return m;
}},_tryGetFullySelectedElementInFF:function(k){var l=a("<div>").html(k.getHtml()).contents();
if(l.length==1&&l.is(function(){return this.nodeType==1;
})){return k.getParentElement();
}else{return null;
}},_getCharactersCount:function(k){return k.length;
},_setCursor:function(k,m){var p=m.nodesTracker;
var o=p.isTracked(k.firstChild)?k.firstChild:p.createTrackedNode();
var n=b.DomRange.rangeFromWindow(m.get_contentWindow());
var l=k.parentNode;
l.insertBefore(o,k);
l.removeChild(k);
p.selectTrackedNode(n,o);
},_setCursorInTextNode:function(n,o,m,l){var k=b.DomRange.toDomRange(n);
k.setStart(o,m);
k.setEnd(o,l);
k.setStart(o,m);
if(m==l){k.collapse(!$telerik.isIE||$telerik.isIE9Mode);
}k.select();
},_setCursorAroundList:function(m,l,o,q){var n=o.get_document();
var k,r;
if($telerik.isFirefox){if(m.nextSibling&&m.nextSibling.nodeName=="BR"){a(m.nextSibling).remove();
}this._setCursor(m,o);
}else{if($telerik.isSafari||$telerik.isOpera){r=m.firstChild;
if($telerik.isSafari){k=n.createElement("br");
a(k).insertAfter(m);
a(m).remove();
var p=k.parentNode;
if(k.nextSibling&&k.nextSibling.nodeName=="BR"){a(k).remove();
}o.getSelection().moveToElementText(p);
}else{this.removeNode(m);
o.getSelection().moveToElementText(r);
r.nodeValue="";
}}else{k=n.createElement("br");
a(k).insertAfter(m);
r=n.createTextNode(" ");
a(r).insertBefore(k);
this._setCursorInTextNode(q,r,0,0);
a(k).remove();
}}a(m).remove();
},deleteContents:function(l,k){if(l.collapsed===false||!!l.text||(k.selection&&k.selection.type=="Control")){k.execCommand("delete",false,null);
return true;
}return false;
},scrollTo:function(p,o){if(o._shouldAutoResizeHeight()){return o._resizeContentArea();
}var k=o.get_contentArea(),l=j._getScrollElement(k),n=l.scrollTop,m=o.get_contentAreaElement().offsetHeight;
var s;
if(!j.canHaveChildren(p)){s=o.get_document().createElement("span");
s.innerHTML="&#8203;";
a(s).insertAfter(p);
p=s;
}var q=p.offsetHeight;
var r=j.getOffset(p,k).top;
var t=q+r;
if(t>=n+m){l.scrollTop=t-m+2;
}else{if(r<l.scrollTop){l.scrollTop=r-q;
}}if(s){s.parentNode.removeChild(s);
}},_getScrollElement:function(k){return(g.ie&&g.version<=9&&j.isTag(k,"body"))?k.ownerDocument.documentElement||k:k;
},getOffset:function(k,l){var n={top:k.offsetTop,left:k.offsetLeft};
var m=k.offsetParent;
while(m&&(!l||j.isAncestorOf(l,m))){n.top+=m.offsetTop;
n.left+=m.offsetLeft;
m=m.offsetParent;
}return n;
},cleanPastedContent:function(m,q,p,k,n){var l=m;
if(q==c.StripFormattingOptions.None){if(this.isPastedFromWord(m)){if(window.confirm(p)){m=b.Utils.convertWordLists(m);
l=b.Utils.stripFormatting(m,"WORD_NO_MARGINS");
}else{l=b.Utils.clearMSWordJunkContent(m);
}}}else{if(q&c.StripFormattingOptions.All){l=b.Utils.stripFormatting(m,"ALL");
}else{if(q&c.StripFormattingOptions.AllExceptNewLines){l=b.Utils.stripFormatting(m,"ALL_NO_BRAKES",n);
}else{if(q&c.StripFormattingOptions.ConvertWordLists){m=b.Utils.convertWordLists(m);
}var o=[];
if(q&c.StripFormattingOptions.MSWordRemoveAll){o.push("WORD_ALL");
}if(q&c.StripFormattingOptions.MSWordNoFonts){o.push("WORD_NO_FONTS");
}if(q&c.StripFormattingOptions.MSWordNoMargins){o.push("WORD_NO_MARGINS");
}if(q&c.StripFormattingOptions.MSWord){o.push("WORD");
}if(o.length>0){m=b.Utils.stripWordFormatting(m,o);
}if(q&c.StripFormattingOptions.Css){m=b.Utils.stripFormatting(m,"CSS");
}if(q&c.StripFormattingOptions.Font){m=b.Utils.stripFormatting(m,"FONT");
}if(q&c.StripFormattingOptions.Span){m=b.Utils.stripFormatting(m,"SPAN");
}l=m;
}}}if(null!=k&&false==k){l=b.Utils.stripFormatting(l,"SCRIPT");
}return l;
},isPastedFromWord:function(n){if(/<o:p><\/o:p>/i.test(n)||($telerik.isFirefox&&/<!--\[if gte mso /i.test(n)&&/<w:LsdException/i.test(n)&&/mso-[a-z]/i.test(n))){return true;
}var l=document.createElement("DIV");
l.innerHTML=n;
var k=l.getElementsByTagName?l.getElementsByTagName("*"):l.all;
for(var o=k.length-1;
o>=0;
o--){var m=k[o];
if(m.href||m.src||(m.nodeType==1&&!this.canHaveChildren(m))){continue;
}this.removeChildren(m);
if(/mso/i.test(this.getOuterHtml(m))){return true;
}}return false;
},isCursorMovingKey:function(k){if(k>=33&&k<=40){return true;
}return false;
},isSystemKey:function(k){return(k>=112&&k<=123)||(k>=8&&k<=27)||(k>=32&&k<=46)||(k==12)||(k==91)||(k==93)||(k==144)||(k==145)||(k==224);
},isTypingKey:function(k){if(k.ctrlKey||k.altKey||k.metaKey){return false;
}var l=k.keyCode;
if(l==27||(l>=112&&l<=123)||l==44||l==144||l==145||l==19||l==45||l==46||l==8||(l>=33&&l<=40)||l==20||l==13||(l>=16&&l<=18)||l==12||l==91||l==93||l==224){return false;
}return true;
},storeBrowserPosition:function(){var k=document.body;
var l=document.documentElement;
this._browserTop=k.scrollTop>l.scrollTop?k.scrollTop:l.scrollTop;
this._browserLeft=k.scrollLeft>l.scrollLeft?k.scrollTop:l.scrollLeft;
return{x:this._browserLeft,y:this._browserTop};
},restoreBrowserPosition:function(l,o){try{if(null==l){l=this._browserLeft;
}if(null==o){o=this._browserTop;
}var m=document.body;
var n=document.documentElement;
m.scrollTop=o;
m.scrollLeft=l;
n.scrollTop=o;
n.scrollLeft=l;
}catch(k){}},containsHtmlAtClipboard:function(k){var l=k&&k.clipboardData&&k.clipboardData.getData&&k.clipboardData.types&&k.clipboardData.types.length&&Telerik.Web.UI.Editor.Utils.containsElement(/text\/html/i,k.clipboardData.types);
return l;
},getPasteContainer:function(k){var l=k.ownerDocument||document,m=l.createElement("div");
k.appendChild(m);
m.className="telerik_paste_container";
this._setPasteContainerStyles(m);
if($telerik.isFirefox){m.appendChild(l.createTextNode("\u00a0"));
}else{if($telerik.isSafari){m.appendChild(l.createElement("br"));
}}return m;
},_setPasteContainerStyles:function(q){var r=q.style,l=q.ownerDocument||document;
r.borderWidth="0px";
r.position="absolute";
r.overflow="hidden";
r.margin="0";
r.padding="0";
var p=j.getCursorOffset(l);
r.left=$telerik.isFirefox?"-10000px":p.left+"px";
r.top=p.top+"px";
r.width=$telerik.isIE?"0px":"1px";
r.height=$telerik.isIE?"0px":"1px";
if($telerik.isIE){var m=l.documentElement,k=$telerik.getComputedStyle(m,"color"),n=$telerik.getComputedStyle(m,"fontFamily"),o=$telerik.getComputedStyle(m,"fontSize");
if(k){r.color=k;
}if(n){r.fontFamily=n;
}if(o){r.fontSize=o;
}r.fontVariant="normal";
r.fontWeight="normal";
r.lineSpacing="normal";
r.lineHeight="normal";
r.textDecoration="none";
}},getCursorOffset:function(l){var q=b.DomRange.rangeFromWindow(l.defaultView||l.parentWindow);
var r=l.createElement("span");
var s=q.startContainer;
r.appendChild(l.createTextNode("\u200b"));
if(q.collapsed){if(j.isZwspTextNode(s)){s.parentNode.insertBefore(r,s);
}else{q.insertNode(r);
}}else{s=j.isEditorContentArea(s)?s.childNodes[q.startOffset]:s;
s.parentNode.insertBefore(r,s);
}var k=$telerik.getBounds(r);
var p=r.previousSibling;
var m=r.nextSibling;
var o=r.parentNode;
o.removeChild(r);
if(j.isTextNode(p)&&j.isTextNode(m)&&!j.isZwspTextNode(p)&&!j.isZwspTextNode(m)){var n=p.length;
p.data+=m.data;
o.removeChild(m);
q.setStart(p,n);
q.collapse(true);
q.select();
}return{left:k.x,top:k.y};
},clearPasteContainer:function(k){a(k).remove();
},getClipboardAsHtml:function(n){var m=n.get_document();
var l=n.get_contentArea();
var q=n.getDomRange();
var k=this.getPasteContainer(l);
if(k.setActive){k.setActive();
}$telerik.removeExternalHandler(l,"paste",n._onPasteDelegate);
try{m.execCommand("Paste",null);
}catch(o){}$telerik.addExternalHandler(l,"paste",n._onPasteDelegate);
var p=k.innerHTML;
this.clearPasteContainer(k);
q.select();
return p;
},convertWordLists:function(k){return new b.WordListConverter().convert(k);
},stripElementFormatting:function(l,k){switch(k){case"ALL":case"ALL_NO_BRAKES":case"CSS":a(l).removeClass().removeAttr("style");
break;
}},stripFormatting:function(m,k,l){switch(k){case"ALL":m=m.replace(new RegExp("<(SCRIPT|STYLE)([^>]*)>[\\s\\S]*?</(\\1)([^>]*)>","ig"),"");
m=m.replace(new RegExp("<!--[\\s\\S]*?-->","ig"),"");
m=m.replace(/<\/?[^>]*>/ig,"");
break;
case"ALL_NO_BRAKES":m=j.convertWordLists(m);
m=j._stripAllExceptNewLines(l,m);
break;
case"WORD":case"WORD_ALL":case"WORD_NO_FONTS":case"WORD_NO_MARGINS":m=this.stripWordFormatting(m,[k]);
break;
case"CSS":m=m.replace(new RegExp("(<[^>]+) class=[^ |^>]*([^>]*>)","ig"),"$1 $2");
m=m.replace(/(<[^>]+) style="[^"]*"([^>]*>)/ig,"$1 $2");
break;
case"FONT":m=m.replace(/<\/?font[^>]*>/ig,"");
break;
case"SPAN":m=m.replace(/<\/?span[^>]*>/ig,"");
break;
case"SCRIPT":m=m.replace(new RegExp("<(SCRIPT)([^>]*)/>","ig"),"");
m=m.replace(new RegExp("<(SCRIPT)([^>]*)>[\\s\\S]*?</(SCRIPT)([^>]*)>","ig"),"");
break;
default:break;
}return m;
},_stripAllExceptNewLines:function(k,l){var m=k.get_document().createElement("div");
m.innerHTML=l;
var n={selectAll:true,contentElement:m,isNotGreedy:true,clearValue:"ALL_NO_BRAKES",deleteWhitespaceNodes:true};
var o=new b.StripWordFormattingCommand(k,n);
o.onExecute();
return m.innerHTML;
},replaceNewLineWithBr:function(l){try{l=l.replace(/\n/g,"<br>");
return l;
}catch(k){}},convertText2Html:function(l){try{l=l.replace(/</g,"&lt;");
l=l.replace(/>/g,"&gt;");
l=l.replace(/\n/g,"<br>");
return l;
}catch(k){}},cssPropertiesToKeep:["color","background","backgroundColor","background-color","opacity","height","width","margin","margin-top","margin-right","margin-bottom","margin-left","marginTop","marginRight","marginBottom","marginLeft","padding","padding-top","padding-right","padding-bottom","padding-left","paddingTop","paddingRight","paddingBottom","paddingLeft","font-size","fontSize","font-family","fontFamily","font-weight","fontWeight","fontStretch","fontStyle","fontVariant","border","borderSpacing","border-top","borderTop","border-right","borderRight","border-bottom","borderBottom","border-left","borderLeft","borderColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderStyle","borderTopStyle","borderRightStyle","borderLeftStyle","borderBottomStyle","borderWidth","listStyleType","listStyleImage","text-align","textAlign","text-decoration","textDecoration","letterSpacing"],getCssPropertiesWordAll:function(m){var k=[];
for(var l=0;
l<m.length;
l++){if(!/^font/.test(m[l])){k.push(m[l]);
}}return k;
},getCssPropertiesWordNoFonts:function(m){var k=[];
for(var l=0;
l<m.length;
l++){if(!/^font/.test(m[l])||(/^font/.test(m[l])&&/size$/i.test(m[l]))){k.push(m[l]);
}}return k;
},getCssPropertiesWordNoMargins:function(m){var k=[];
for(var l=0;
l<m.length;
l++){if(!/margin/i.test(m[l])){k.push(m[l]);
}}return k;
},getTagByStyleRule:function(m){var n=m&&m.selectorText?m.selectorText:"";
var l=n.lastIndexOf(".");
if(l==0){return"";
}var k=n.lastIndexOf(" ",l);
return n.substring((k+1),l);
},getCssPropertiesToKeep:function(k){var l=this.cssPropertiesToKeep;
if($telerik.$.inArray("WORD_NO_FONTS",k)!=-1){l=this.getCssPropertiesWordNoFonts(l);
}if($telerik.$.inArray("WORD_ALL",k)!=-1){l=this.getCssPropertiesWordAll(l);
}if($telerik.$.inArray("WORD_NO_MARGINS",k)!=-1){l=this.getCssPropertiesWordNoMargins(l);
}return l;
},clearWordAttributesAndStyles:function(m,p){var k=$telerik.isIE&&m.all?m.all:m.getElementsByTagName("*");
for(var n=0;
n<k.length;
n++){var l=k[n];
if(l.nodeType==1){var o=l.nodeName;
if(o!="TABLE"&&o!="TH"&&o!="TR"&&o!="TD"){this.clearElement(l,p);
}}}},msWordClassesRegExp:/^mso|wordsection|bullets/i,clearWordClasses:function(l){if(l.className&&this.msWordClassesRegExp.test(l.className)){var k="";
l.className=k;
this.setElementClassName(l,k);
}},msWordAttrRegExp:/mso/i,clearElement:function(o,t){var u=this;
u.clearWordClasses(o);
o.removeAttribute("lang","",0);
u.clearUnnecessaryStyles(o,t);
var p=o.style;
if(p&&p.fontFamily){if($telerik.isIE){p.fontFamily=p.fontFamily.replace(/\\"/g,"'");
}else{p.fontFamily=p.fontFamily.replace(/('|"|&quot;)/g,"");
}}if(o.nodeName=="DIV"||o.nodeName=="P"){u.removeInvalidBorderColors(o);
}var s=u.msWordAttrRegExp;
var r=/[^:]+:[^:]/;
var l=o.attributes;
var k,m,n;
for(var q=l.length-1;
q>=0;
q--){k=l[q];
m=k.name.toLowerCase();
n=k.value||null;
n=n==="null"?null:n;
if(n&&m!="src"&&m!="href"){if(s.test(m)||s.test(n)||r.test(m)){o.removeAttribute(k.name);
}}}},clearLists:function(k,m){var l=a(k).find("OL");
a(l).removeAttr("type");
a(l).removeAttr("start");
},removeInvalidBorderColors:function(k){if(!k.style){return;
}var m=/windowtext|-moz-use-text-color|currentColor/i;
var o=k.style;
var l="";
if(o.borderTopColor&&m.test(o.borderTopColor)){o.borderTopColor=l;
}if(o.borderRightColor&&m.test(o.borderRightColor)){o.borderRightColor=l;
}if(o.borderBottomColor&&m.test(o.borderBottomColor)){o.borderBottomColor=l;
}if(o.borderLeftColor&&m.test(o.borderLeftColor)){o.borderLeftColor=l;
}if($telerik.isFirefox){var n=/\s?-moz-[a-z\-]+colors?:\s?[a-z]+;/ig;
var p=k.getAttribute("style");
if(p&&n.test(p)){p=p.replace(n,l);
k.setAttribute("style",p);
}}},setNbspInEmptyParagraphs:function(k){var m=/(<p[^>]*?>)(<\/p>)/gmi;
var l=k.innerHTML;
l=l.replace(m,"$1&nbsp;$2");
k.innerHTML=l;
},removeEmptyElements:function(k){var o="(?:b|font|i|s|span|u)";
var m="<"+o+"(?:\\s[^>]*)?></"+o+">";
var l=k.innerHTML;
var n=new RegExp(m,"gmi");
while(new RegExp(m,"mi").test(l)){l=l.replace(n,"");
}k.innerHTML=l;
},clearWordAttributesInElement:function(p,n){var k=$telerik.isIE&&p.all?p.all:p.getElementsByTagName("*");
for(var q=0;
q<k.length;
q++){var o=k[q];
var s=/\bmso.*/gi;
if(o.nodeType==1){if(s.exec(o.className)){o.className="";
}o.removeAttribute("lang","",0);
o.removeAttribute("style","",0);
o.style.cssText=o.style.cssText.replace(/(([\w-]*?mso[\w-]*?):(.+?)([;^$]|$))/gi,"");
if($telerik.isIE){o.style.removeAttribute("tab-stops",0);
o.style.removeAttribute("textIndent",0);
}if($telerik.isIE&&(n=="WORD_NO_FONTS"||n=="WORD_ALL")){o.style.removeAttribute("fontFamily",0);
o.removeAttribute("face",0);
}if(o.style&&o.style.fontFamily){o.style.fontFamily=o.style.fontFamily.replace(/('|"|&quot;)/g,"");
}for(var r=o.attributes.length-1;
r>=0;
r--){var l=o.attributes[r];
var m=l.name.toLowerCase();
if(m!="src"&&m!="href"&&"null"!=l.value&&""!=l.value){if(s.exec(l.name)||s.exec(l.value)){o.removeAttribute(l.name);
}}}}}},clearUnnecessaryStyles:function(l,s){var k=[];
var r=l.style;
for(var n=0;
n<s.length;
n++){var q=s[n];
if(r[q]&&r[q]!=""){k.push({propertyName:q,value:r[q]});
}if(q=="text-align"&&l.tagName=="TD"&&r.textAlign==""){k.push({propertyName:q,value:"left"});
}}l.removeAttribute("style","",0);
r=l.style;
for(var m=0;
m<k.length;
m++){var o=k[m];
r[o.propertyName]=o.value;
}},_replaceWhitespaceBetweenTags:function(k,l){if(/<[a-z]+[^>]*?>/mi.test(k)){l=l?l:" ";
k=k.replace(/^[\r\n\s]+(<)/m,"$1");
k=k.replace(/(>)[\r\n\s]+$/m,"$1");
k=k.replace(/(<\/[a-z]+[^>]*?>)([\r\n\s])+(<[a-z]+[^>]*?>)/gmi,function(q,n,o,p,r,m){var s=n+l+p;
return s;
});
}return k;
},clearComments:function(k){k=k.replace(/<!--[\s\S]+?-->/g,"");
return k;
},clearInvalidHtml:function(k){k=k.replace(/<\/?[ovw]:[^>]*?>/gi,"");
k=k.replace(/<\\?\??xml[^>]*>/gi,"");
k=k.replace(/<(?:link|meta) [^>]+?>/ig,"");
k=k.replace(/<style[^>]*?>\s*<\/style>/ig,"");
k=k.replace(/<\/?st1:.*?>/gi,"");
k=k.replace(/<a name="[a-zA-Z0-9_]+">/gmi,"");
k=k.replace(/v:shapes?="[^"]+"/ig,"");
k=k.replace(/(<\/html>)[\s\S]+$/im,"$1");
return k;
},clearWordTables:function(l,n){var s=l.getElementsByTagName("TABLE");
for(var o=0;
o<s.length;
o++){var p=s[o];
this.clearWordClasses(p);
this.clearUnnecessaryStyles(p,n);
var q=p.getElementsByTagName("TR");
for(var m=0;
m<q.length;
m++){var w=q[m];
this.clearWordClasses(w);
this.clearUnnecessaryStyles(w,n);
for(var k=0;
k<w.cells.length;
k++){var u=w.cells[k];
this.clearWordClasses(u);
this.removeInvalidBorderColors(u);
this.clearUnnecessaryStyles(u,n);
var v=u.innerHTML;
v=v.replace(/(\s*&nbsp;)+/gi,"");
v=v.replace(/(\s*&nbsp;)+$/gi,"");
u.innerHTML=v;
}}}},addCssProperies:function(l){l=typeof(l)==="string"?[].push(l):l;
for(var k=0;
k<l.length;
k++){if($telerik.$.inArray(l[k],Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep)==-1){Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep.push(l[k]);
}}},removeCssProperiesByPattern:function(l){var m=new RegExp(l,"i");
for(var k=Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep.length-1;
k>=0;
k--){if(m.test(Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep[k])){Telerik.Web.UI.Editor.Utils.cssPropertiesToKeep.splice(k,1);
}}},containsElement:function(m,k){for(var l=0;
l<k.length;
l++){if(!k[l]){continue;
}var n=k[l].toString();
if(m.test(n)){return true;
}}return false;
},stripWordFormatting:function(m,k){var r=this;
var o=m;
var q=r.getCssPropertiesToKeep(k);
o=r.clearComments(o);
o=r.clearInvalidHtml(o);
var n=document.createElement("div");
b.Utils.setElementInnerHtml(n,o);
if(!$telerik.isIE){r.validateStylesOnStripWordFormatting(n);
}var p=$telerik.$(n).find("FONT");
var l=p.length>0;
if(l&&$telerik.$.inArray("WORD_ALL",k)!=-1){p.each(function(s,t){r.removeNode(t);
});
l=false;
}if(l&&$telerik.$.inArray("WORD_NO_FONTS",k)!=-1){p.removeAttr("face");
p.removeAttr("color");
}if(l&&!r.containsElement(/font\-?size/i,q)){p.removeAttr("size");
}r.clearWordTables(n,q);
r.clearLists(n,q);
r.clearWordAttributesAndStyles(n,q);
r.removeEmptyElements(n);
r.setNbspInEmptyParagraphs(n);
o=n.innerHTML;
o=o.replace(/\s+/ig," ");
return o;
},clearMSWordJunkContent:function(k){k=this.clearComments(k);
k=this.clearInvalidHtml(k);
return k;
},validateStylesOnStripWordFormatting:function(m){var k=$telerik.isIE&&m.all?m.all:m.getElementsByTagName("*");
var y=/^(\r?\n?<[a-z]+[^>]*?>)(<\/[a-z]+[^>]*?>)$/i;
var q=/^(I|A|B)[A-Z]*$/i;
var s=/(background|-webkit-background)-?[a-z]*: initial;/gi;
var v=/none\srepeat\sscroll\s0%\s0%\s/gi;
var u=/mso-bidi-font-size/gi;
var t=/mso-bidi-font-family/gi;
for(var p=0;
p<k.length;
p++){var n=k[p];
if(n.nodeType==1&&!q.test(n.nodeName)){var r=n.innerHTML;
var o=Telerik.Web.UI.Editor.Utils.getOuterHtml(n).replace(r,"");
var w=o.match(y);
if(w){var x=w[1];
var l=w[2];
if(x&&l){x=x.replace(s,"");
x=x.replace(v,"");
if($telerik.isFirefox||$telerik.isChrome){x=x.replace(u,"font-size");
x=x.replace(t,"font-family");
}if(x!=w[1]){$telerik.$(n).replaceWith(x+r+l);
}}}}}},cleanStylesOnStripWordFormatting:function(k){var l=k+"";
l=l.replace(/(<[^>]*style=["'])([^"']*)(["'][^>]*>)/gi,function(q,n,o,p,r,m){var s=n;
o=o.replace(/(background|-webkit-background)-?[a-z]*: initial;/gi,"");
if($telerik.isFirefox){o=o.replace(/none\srepeat\sscroll\s0%\s0%\s/gi,"");
}o=o.replace(/line-height: normal;?/gi,"");
o=o.replace(/margin: 0[a-z]{2} 0[a-z]{2} 0[a-z]{2};?/gi,"");
if(!$telerik.isIe){o=o.replace(/margin-?[a-z]*: 0.0001[a-z]{2};?/gi,"");
}s+=o;
s+=p;
return s;
});
return l;
},createTable:function(s,l,p){if(!p){p=document;
}var o=p.createElement("table");
var n,m;
for(var q=0;
q<s;
q++){n=o.insertRow(-1);
for(var k=0;
k<l;
k++){m=n.insertCell(-1);
m.innerHTML="&nbsp;";
}}return o;
},getElementParentByTag:function(l,m){if(null==l){return null;
}if(null==m){return l;
}try{while(l&&null!=l.tagName&&l.tagName!=m){if(b.Utils.isEditorContentArea(l)){break;
}l=l.parentNode;
}return((l.tagName==m)?l:null);
}catch(k){return null;
}},getElementParentByRegExpTagName:function(l,m){if(null==l){return null;
}if(null==m){return l;
}try{while(l&&null!=l.tagName&&!m.test(l.tagName)){if(b.Utils.isEditorContentArea(l)){break;
}l=l.parentNode;
}return((m.test(l.tagName))?l:null);
}catch(k){return null;
}},getElementParentByTagWithConstraint:function(m,n,k){if(null==k){k="";
}if(null==m){return null;
}if(null==n){return m;
}try{while(m&&null!=m.tagName&&m.tagName!=n){if(k.indexOf(m.tagName)!=-1){return null;
}if(b.Utils.isEditorContentArea(m)){break;
}m=m.parentNode;
}return((m.tagName==n)?m:null);
}catch(l){return null;
}},getElementParentByCondition:function(m,k){if(!m||!k){return null;
}try{while(m&&!k(m)){if(j.isEditorContentArea(m)){break;
}m=m.parentNode;
}return k(m)?m:null;
}catch(l){return null;
}},immutableElementMarkerAttrName:"immutablemarker",immutableElementId:"data-reimmutableid",isImmutableContainer:function(k){if(($telerik.isIE6||$telerik.isIE7)&&k.attributes&&k.attributes.contenteditable){return k.attributes.contenteditable.nodeValue=="false";
}else{if(k.getAttribute){return k.getAttribute("contenteditable")=="false";
}}return false;
},isImmutableNode:function(k){return !!b.Utils.getElementParentByCondition(k,b.Utils.isImmutableContainer);
},getImmutableElements:function(k){if(!k.get_enableImmutableElements()){return a([]);
}return a(k.get_contentArea()).find("[contenteditable='false']").filter(function(m,l){return !b.Utils.isImmutableNode(l.parentNode);
});
},replaceImmutableElements:function(k){b.Utils.getImmutableElements(k).each(function(n,l){var m=l.getAttribute(b.Utils.immutableElementId);
var o=k.get_document().createElement("div");
o.setAttribute(b.Utils.immutableElementMarkerAttrName,m);
l.parentNode.insertBefore(o,l);
l.parentNode.removeChild(l);
});
},restoreImmutableElements:function(k){a(k.get_contentArea()).find("["+b.Utils.immutableElementMarkerAttrName+"]").each(function(n,o){var m=o.getAttribute(b.Utils.immutableElementMarkerAttrName);
var l=k._immutableElements[m];
if(l){o.parentNode.insertBefore(l,o);
}o.parentNode.removeChild(o);
});
},revertOriginalImmutables:function(k){b.Utils.getImmutableElements(k).each(function(p,m){var q=m.parentNode;
var o=m.getAttribute(b.Utils.immutableElementId);
var l;
if(o){var n=k._immutableElements[o];
l=m==n;
if(n&&!l){q.insertBefore(n,m);
}}if(!l){q.removeChild(m);
}});
},setImmutablesHtml:function(l,k){var p=b.Utils,o=p.immutableElementMarkerAttrName,n=k._immutableElements,m=new RegExp("<div "+o+"=['\"]?([0-9]{13})['\"]?>(?:&nbsp;)?</div>","gmi");
l=l.replace(m,function(u,s,v,r){var t=n[s];
if(t){var q=p.cloneNodeWithChildren(t);
k._cleanUnselectableAttributes(q);
return p.getOuterHtml(q);
}return u;
});
return l;
},isEditorContentArea:function(k){var l=(k&&(k.tagName=="BODY"||(k.tagName=="DIV"&&Sys.UI.DomElement.containsCssClass(k,"reContentArea"))))?true:false;
return l;
},isEditorEmptyMessage:function(k){return Sys.UI.DomElement.containsCssClass(k,"reEmptyMessage");
},selectElement:function(o,n){if(!n){return;
}var m=o.document;
var q=null;
if($telerik.isIE&&m.selection){switch(n.tagName){case"TABLE":case"IMG":case"HR":case"INPUT":q=m.body.createControlRange();
q.add(n);
break;
case"UL":case"OL":q=m.body.createTextRange();
q.moveToElementText(n);
var p=q.parentElement();
if(p.tagName!="UL"||p.tagName!="OL"){q.moveEnd("character",-1);
}break;
default:q=m.body.createTextRange();
q.moveToElementText(n);
break;
}if(q){try{q.select();
return true;
}catch(l){return false;
}}}else{if(o.getSelection){q=m.createRange();
q.selectNode(n);
if(window.opera){q.selectNodeContents(n);
}var r=o.getSelection();
if($telerik.isSafari){if(n.nodeName=="TR"){var k=b.DomRange.toDomRange(q);
k.setStartBefore(n.firstChild);
k.setEndAfter(n.lastChild);
k.select();
}else{if(n.tagName!="TD"&&n.tagName!="TH"){r.setBaseAndExtent(q.startContainer,q.startOffset,q.endContainer,q.endOffset);
}}}else{r.removeAllRanges();
r.addRange(q);
}return true;
}}return false;
},getOuterHtml:function(k){return $telerik.getOuterHtml(k);
},setElementInnerHtml:function(l,m){var k=$telerik.isIE?this.getStoredOriginalPathsAndAttributes(m):m;
this.removeChildren(l);
l.innerHTML="<span>&nbsp;</span>"+k;
l.removeChild(l.firstChild);
if($telerik.isIE){this.restoreOriginalPathsAndAttributes(l);
}},removeNode:function(k){var l=k.parentNode;
if(l!=null){while(k.firstChild){l.insertBefore(k.firstChild,k);
}l.removeChild(k);
return l;
}return true;
},removeChildren:function(k){while(k.firstChild){k.removeChild(k.firstChild);
}},replaceNode:function(l,n,m){if(l&&n){var k=a(l).wrap("<"+n+"></"+n+">").parent()[0];
$telerik.mergeElementAttributes(l,k,m);
b.Utils.removeNode(l);
return k;
}else{return null;
}},normalize:function(k){if($telerik.isIE||!k.normalize){this._normalizeTextNodes(k);
}else{k.normalize();
}},_normalizeTextNodes:function(m){var k=m.firstChild,l;
while(k){if(k.nodeType==3){l=k.nextSibling;
while(l&&l.nodeType==3){k.appendData(l.data);
m.removeChild(l);
l=k.nextSibling;
}}else{this._normalizeTextNodes(k);
}k=k.nextSibling;
}},isSingleChild:function(k){return j.every(k.parentNode.childNodes,function(l){return l==k||(j.isTextNode(l)&&j.isTextNodeEmpty(l));
});
},MoveToNextCell:function(k,l){var o=b.Utils.getElementParentByTag(k,"TR");
var m=o.cells[k.cellIndex+1];
if(typeof(m)=="undefined"){var q=b.Utils.getElementParentByTag(k,"TABLE");
var p=o.rowIndex+1;
var n=q.rows[p];
if(typeof(n)!="undefined"){m=n.cells[0];
}else{if(q.rows.length>0&&q.rows[0].cells.length>0){l.fire("InsertRowBelow",{});
m=q.rows[p].cells[0];
}}}if(typeof(m)!="undefined"){b.Utils.selectCell(m,l);
}},MoveToPreviousCell:function(k,n){var q=b.Utils.getElementParentByTag(k,"TR");
var o=null;
var l=k.cellIndex;
if(l>0){o=q.cells[l-1];
}else{var s=b.Utils.getElementParentByTag(q,"TABLE");
var r=q.rowIndex;
if(r>0){var p=s.rows[r-1];
var m=p.cells;
o=m[m.length-1];
}}b.Utils.selectCell(o,n);
},selectCell:function(k,m){if(!k||!m){return;
}var l=m.get_document();
if(l.createRange){var n=l.createRange();
n.selectNodeContents(k);
var o=m.get_contentWindow().getSelection();
o.removeAllRanges();
o.addRange(n);
}else{var p=m.getSelection();
p.selectElement(k);
}},getStoredOriginalPathsAndAttributes:function(k){var l=function(u,n,o,p,q,r,s,v,w){if(!p){p="";
q=q+s;
var t=q.search(/(\s|>)/gi);
if(t>0){s=q.substring(t,q.length);
q=q.substring(0,t);
if(q=='""'){q="";
p='"';
}}else{return u;
}}return n+" "+o+"="+p+q+p+' originalAttribute="'+o+'" originalPath="'+q+'"'+s;
};
var m=new RegExp("(<[^>]*?)\\s(href|src)\\s*=\\s*('|\")?([^>]+?)(\\3)([^>]*?>)","ig");
k=k.replace(m,l);
k=this._revertOriginalPathsInHtmlComments(k);
return k;
},commentsWithContentRegExp:/<!--([\s\S]*?)-->/ig,originalAttributesRegExp:/ originalAttribute="(?:href|src)" originalPath="[^"]+"/ig,_revertOriginalPathsInHtmlComments:function(k){var l=this.originalAttributesRegExp;
k=k.replace(this.commentsWithContentRegExp,function(n,m){var o=m.replace(l,"");
return String.format("<!--{0}-->",o);
});
return k;
},storeOriginalPathsAndAttributes:function(l){var k=["src","href"];
var n=a(l).find("[src],[href]").andSelf().toArray();
for(var m=0;
m<n.length;
m++){for(var o=0;
o<k.length;
o++){this.storeOriginalAttribute(n[m],k[o]);
}}},storeOriginalAttribute:function(l,k){if(l.getAttribute(k)){l.setAttribute("originalAttribute",k);
l.setAttribute("originalPath",l.getAttribute(k));
}},restoreOriginalPathsAndAttributes:function(l){var k=l.getElementsByTagName("*");
for(var o=0;
o<k.length;
o++){var m=k[o];
var r=m.getAttribute("originalPath");
var q=m.getAttribute("originalAttribute");
if(r!=null&&q!=null){m.removeAttribute("originalPath");
m.removeAttribute("originalAttribute");
if(r.toLowerCase().indexOf("mailto:")==0){continue;
}r=r.replace(window.location.href+"#","#");
var p=m.innerHTML;
try{m.setAttribute(q,r,0);
}catch(n){}if(p!=m.innerHTML){m.innerHTML=p;
}}}},_encodeHtmlContent:function(l,o){var k=new Array("%","<",">","!",'"',"#","$","&","'","(",")",",",":",";","=","?","[","]","\\","^","`","{","|","}","~","+");
var n=l;
var m;
if(o){for(m=0;
m<k.length;
m++){n=n.replace(new RegExp("\\x"+k[m].charCodeAt(0).toString(16),"ig"),"%"+k[m].charCodeAt(0).toString(16));
}}else{for(m=k.length-1;
m>=0;
m--){n=n.replace(new RegExp("%"+k[m].charCodeAt(0).toString(16),"ig"),k[m]);
}}return n;
},encodePostbackContent:function(k){return b.Utils._encodeHtmlContent(k,true);
},decodePostbackContent:function(k){return b.Utils._encodeHtmlContent(k,false);
},makeUrlAbsolute:function(l){l=l.split("&").join("&amp;").split('"').join("&quot;").split("<").join("&lt;");
var k=document.createElement("div");
k.innerHTML='<a href="'+l+'">a</a>';
return k.childNodes[0].href;
},addStyleSheet:function(p,l,n){if(!p){return;
}l=l||document;
var o=l.createElement("link");
o.setAttribute("href",p,0);
if($telerik.isIE&&o.href.indexOf("https://")==0&&p.indexOf("https://")!=0){o.setAttribute("href",o.href);
}else{if($telerik.isIE7&&p.indexOf("https://")!=0&&o.href.indexOf("https://")!=0&&window.location.protocol=="https:"){o.setAttribute("href",b.Utils.makeUrlAbsolute(p),0);
}}o.setAttribute("type","text/css");
if(n){o.setAttribute("id",n);
}else{n="";
}o.setAttribute("rel","stylesheet",0);
var m=l.getElementsByTagName("head")[0];
if($telerik.isSafari||$telerik.isFirefox){var k=function(){m.appendChild(o);
};
window.setTimeout(k,200);
}else{m.appendChild(o);
}},_copyElementsBetweenNodes:function(r,p,k){var q=r.getElementsByTagName(k);
var o=p.getElementsByTagName(k);
for(var m=0;
m<q.length;
m++){switch(k){case"script":case"title":o[m].text=q[m].text;
break;
case"style":if(o[m].innerHTML!=q[m].innerHTML){o[m].styleSheet.cssText=q[m].styleSheet.cssText;
}break;
case"select":o[m].selectedIndex=q[m].selectedIndex;
break;
case"input":if((q[m].type=="radio"||q[m].type=="checkbox")&&$telerik.$(q[m]).attr("checked")){$telerik.$(o[m]).attr("checked","checked");
if($telerik.isIE9Mode&&q[m].type=="checkbox"&&q[m].checked){o[m].checked=true;
o[m].setAttribute("checked","checked");
}}break;
case"iframe":var n=q[m].innerHTML;
if(n){var s=o[m].outerHTML;
if(s){var l=s.indexOf(">");
if(l>0){s=s.substr(0,l)+">"+n+s.substr(l+1);
o[m].outerHTML=s;
}}}break;
default:if(o[m].innerHTML!=q[m].innerHTML){b.Utils.setElementInnerHtml(o[m],q[m].innerHTML);
}break;
}}},cloneNodeWithChildren:function(l){if(!l){return null;
}if($telerik.isIE&&l.getElementsByTagName){var k=l.cloneNode(true);
if(typeof(k.innerHTML)!="string"){this.setElementInnerHtml(k,l.innerHTML);
}this._copyElementsBetweenNodes(l,k,"script");
this._copyElementsBetweenNodes(l,k,"map");
this._copyElementsBetweenNodes(l,k,"style");
this._copyElementsBetweenNodes(l,k,"title");
this._copyElementsBetweenNodes(l,k,"select");
this._copyElementsBetweenNodes(l,k,"input");
this._copyElementsBetweenNodes(l,k,"iframe");
return k;
}else{return l.cloneNode(true);
}},cloneNodeClean:function(l){var k=l.cloneNode(false);
this.removeChildren(k);
if($telerik.isIE10Mode&&!$telerik.isIE10&&l.style&&l.style.backgroundColor){k.style.backgroundColor=l.style.backgroundColor;
}return k;
},escapeRegExSpecialChars:function(k){var l=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");
return k.replace(l,"\\$&");
},getUniqueID:function(){if(!window.RadEditor_uniqueSeed){window.RadEditor_uniqueSeed=new Date()-101;
}if(!window.RadEditor_uniqueIdCounter){window.RadEditor_uniqueIdCounter=1;
}else{window.RadEditor_uniqueIdCounter++;
}var k=window.RadEditor_uniqueSeed-window.RadEditor_uniqueIdCounter;
return"UniqueID"+k;
},hasAnyContent:function(k){return !!(k&&k.innerHTML);
},getTextContent:function(k){if(!k){return null;
}if(k.innerText!=null){return k.innerText;
}if(k.textContent!=null){var l=k.textContent;
l=l.replace(/<!--(.|\s)*?-->/gi,"");
return l;
}return null;
},removeInvalidElementsInLists:function(k){var n=this;
var m=n.getSelectedParentElement(k);
var l=$telerik.$(m).find("ol,ul");
if(n.isList(m)){l=l.add(m);
}l.each(function(q,s){var p=s.children;
for(var r=p.length-1;
r>=0;
r--){var o=p[r];
if(!n.isTag(o,"li")){s.removeChild(o);
}}});
},execDocumentCommand:function(l,k,q){var p;
if(!l||!k){return false;
}try{return l.execCommand(k,false,q);
}catch(m){var o=this.getSelectedParentElement(l);
p=document.createElement("br");
o.insertBefore(p,o.firstChild);
var n=l.execCommand(k,false,q);
return n;
}finally{if(p){p.parentNode.removeChild(p);
}}},isContentOneBlockElementOnly:function(k){return k.childNodes.length==1&&this.isBlockElement(k.childNodes[0]);
},getSelectedParentElement:function(k){var l=new b.Selection(k.defaultView||window);
return l.getParentElement();
},getSelectedElement:function(k){return k.getSelectedElement();
},getFirstBlockElementUp:function(k){return this.isBlockElement(k)?k:this.getBlockParent(k);
},getBlockParentUntil:function(k,l){return this.getConditionalParentUntil(k,j.isBlockElement,l);
},getConditionalParentUntil:function(l,k,n){var m=l;
while(m&&!n(m.parentNode,m)&&!k(m)){m=m.parentNode;
}return m;
},getBlockParent:function(k){var l=k.parentNode;
while(l&&!this.isBlockElement(l)){l=l.parentNode;
}return l;
},getPreviousElement:function(k){if(k.previousElementSibling){return k.previousElementSibling;
}var l=a(k).prev();
if(l.length>0&&!this.isTextNode(l[0])){return l[0];
}return null;
},traversePreviousNode:function(l){var k=l,m;
while(k&&!(m=k.previousSibling)){k=k.parentNode;
}return m;
},getNextElement:function(l){if(l.nextElementSibling){return l.nextElementSibling;
}var k=a(l).next();
if(k.length>0&&!this.isTextNode(k[0])){return k[0];
}return null;
},isTextNodeEmpty:function(k){return !/[^\s\xA0\u200b]+/.test(k.nodeValue);
},isTextNodeCompletelyEmpty:function(k){return !/[^\n\r\t\u200b]+/.test(k.nodeValue);
},canHaveChildren:function(k){if(!k||j.isTextNode(k)){return false;
}switch((k.tagName||k.nodeName).toUpperCase()){case"AREA":case"BASE":case"BASEFONT":case"COL":case"FRAME":case"HR":case"IMG":case"BR":case"INPUT":case"ISINDEX":case"LINK":case"META":case"PARAM":return false;
}return true;
},isBlockElement:function(k){return j.checkForElement(k,f);
},isBlockTag:function(k){return !!k&&f.test(k);
},isBlockElementOrNewLine:function(k){return this.isBlockElement(k)||this.checkForElement(k,/^br$/i);
},isTextNode:function(k){return k&&k.nodeType&&(k.nodeType==3||k.nodeType==4||k.nodeType==8);
},isZwspTextNode:function(k){return j.isTextNode(k)&&i.test(k.nodeValue);
},firstTextChild:function(l){var k=l.firstChild;
while(k&&k.firstChild&&!j.isTextNode(k)){k=k.firstChild;
}return j.isTextNode(k)?k:l;
},checkForElement:function(k,l){var m=k&&k.nodeName;
return !!m&&l.test(m);
},isAlignCommand:function(k){return/^Justify(?:None|Left|Center|Right|Full)$/.test(k);
},findNodeIndex:function(l){var k=0;
while(l.previousSibling){l=l.previousSibling;
k++;
}return k;
},isAncestorOf:function(m,l){try{return !this.isTextNode(m)&&(l.parentNode===m||a.contains(m,this.isTextNode(l)?l.parentNode:l));
}catch(k){return false;
}},isAncestorOrSelf:function(l,k){return this.isAncestorOf(l,k)||(l===k);
},findAncestorUntil:function(l,k){if(this.isAncestorOf(l,k)){while(k&&k.parentNode!=l){k=k.parentNode;
}}return k;
},findAncestorByTag:function(m,l,n){var k=this.isTag;
return this.findAncestorBy(m,l,function(o){return k(o,n);
});
},findAncestorBy:function(m,l,k){if(this.isAncestorOf(m,l)){do{l=l.parentNode;
}while(l&&!k(l)&&l!=m);
}return l;
},findCommonAncestor:function(k,l){while(k&&k!=l&&!this.isAncestorOf(k,l)){k=k.parentNode;
}return k;
},getContentAreaFirstChild:function(l){var k=l.get_contentArea();
return k.children?k.children[0]:k.firstChild;
},getAllChildNodesBy:function(m,l){var k=[];
j._getChildNodes(m,k,l);
return k;
},_getChildNodes:function(n,l,m){var k=n.firstChild;
while(k){if(k.nodeType==1&&j.canHaveChildren(k)){j._getChildNodes(k,l,m);
}if(m(k)){l.push(k);
}k=k.nextSibling;
}},trimWhitespaceTextNodes:function(l){var k=["firstChild","lastChild"];
Array.forEach(k,a.proxy(function(n){var m=l[n];
if(m&&this.isTextNode(m)){this.trimWhitespace(m);
}},this));
},trimWhitespaceLeft:function(k){var l=this.isTextNodeEmpty(k)?this.spacesRegExp.test(k.nodeValue):false;
while(/^[\s\xA0]/.test(k.nodeValue)){var m=k.nodeValue.substring(0,1);
if(!l){l=this.spacesRegExp.test(m);
}k.nodeValue=k.nodeValue.substring(1);
}if(l){k.nodeValue=" "+k.nodeValue;
}},trimWhitespaceRight:function(k){var l=this.isTextNodeEmpty(k)?this.spacesRegExp.test(k.nodeValue):false;
while(/[\s\xA0]$/.test(k.nodeValue)){var m=k.nodeValue.length;
var n=k.nodeValue.substring(m-2,m-1);
if(!l){l=this.spacesRegExp.test(n);
}k.nodeValue=k.nodeValue.substring(0,m-1);
}if(l){k.nodeValue=k.nodeValue+" ";
}},trimWhitespace:function(k){this.trimWhitespaceLeft(k);
this.trimWhitespaceRight(k);
},spacesRegExp:/[ \xA0]/,trimExtraWhitespace:function(k){var l=this.isTextNode(k)&&/\S[ \xA0]$/.test(k.nodeValue);
this.trimWhitespace(k);
if(l){k.nodeValue+=" ";
}},trimElementNeighbours:function(k){var m=k.previousSibling,l=k.nextSibling;
if($telerik.isIE&&!$telerik.isIE9Mode){var n=/^[\s\t\r\n\u200b\u00a0]+$/;
if(m&&this.isTextNode(m)&&n.test(m.nodeValue)){m.nodeValue="";
}if(l&&this.isTextNode(l)&&n.test(l.nodeValue)){l.nodeValue="";
}}if(m){this.trimWhitespace(m);
}if(l){this.trimWhitespace(l);
}},_toggleElementZoom:function(k){if(!k||k.style.zoom==1){return;
}var l=k.style.zoom;
k.style.zoom=1;
setTimeout(function(){k.style.zoom=l;
},0);
},_rgbToHex:function(k){if(k.toLowerCase().indexOf("rgb")!=-1){var m="#";
var l=function(o){var n=parseInt(o,10).toString(16);
m+=(n.length==1?"0"+n:n);
return o;
};
k=k.replace(/(\d+)/gi,l);
l=null;
return m;
}else{return k;
}},_pointsToPixels:function(m){var l=72,k=96;
return Math.round(parseFloat(m)*k/l)+"px";
},_fontSizesPx:["10px","13px","16px","18px","24px","32px","48px"],_fontSizesToPixels:function(k){return this._fontSizesPx[parseInt(k,10)-1];
},removeNonXhtmlCompliantParents:function(p){if(!p){return;
}p=p.parentNode;
var n=b.Utils.isEditorContentArea;
var k=[];
while(p&&p.tagName!="TD"&&!n(p)){var q=p.tagName;
switch(q){case"P":case"SPAN":case"FONT":case"STRONG":case"EM":case"U":k.push(p);
break;
}p=p.parentNode;
}for(var m=0,o=k.length;
m<o;
m++){b.Utils.removeNode(k[m]);
}},setTargetsForPreview:function(m){var k=m.get_contentArea();
var q=k.getElementsByTagName("A");
for(var n=0,o=q.length;
n<o;
n++){var p=q[n];
var s=p.getAttribute("target");
p.setAttribute("re_target",s||"");
if(s!="_blank"){p.setAttribute("target","blank");
}var r=p.getAttribute("onclick");
p.setAttribute("re_onclick",r||"");
p.setAttribute("onclick","return false;");
}},restoreTargetsAfterPreview:function(m){var k=m.get_contentArea();
var q=k.getElementsByTagName("A");
for(var n=0,o=q.length;
n<o;
n++){var p=q[n];
if(typeof(p.attributes.re_target)!="undefined"){var s=p.getAttribute("re_target");
if(s&&s!="null"){p.setAttribute("target",s);
}else{p.removeAttribute("target");
}}if(typeof(p.attributes.re_onclick)!="undefined"){var r=p.getAttribute("re_onclick");
if(r&&r!="null"){p.setAttribute("onclick",r);
}else{p.removeAttribute("onclick");
}}p.removeAttribute("re_onclick");
p.removeAttribute("re_target");
}},checkForNonEmptyTextNodes:function(m){var k=m.childNodes;
for(var n=0,o=k.length;
n<o;
n++){return(k[n].nodeType==3&&k[n].nodeValue!="")?true:b.Utils.checkForNonEmptyTextNodes(k[n]);
}return false;
},emptyNodeRegExp:/^&nbsp;?$/,isNodeEmpty:function(k){return j.isNodeCompletelyEmpty(k)||j.emptyNodeRegExp.test(k.innerHTML);
},isNodeCompletelyEmpty:function(k){return !k.innerHTML||k.childNodes.length==0;
},isEmptyDom:function(k){return j.isTextNode(k)?j.isTextNodeEmpty(k):j.isNodeEmpty(k);
},isCompletelyEmptyDom:function(k){return j.isTextNode(k)?j.isTextNodeCompletelyEmpty(k):j.isNodeCompletelyEmpty(k);
},isNodeEmptyRecursive:function(m,k){if(m.nodeType==1&&!j.canHaveChildren(m)){return false;
}else{if(m.childNodes.length==0){return k?j.isCompletelyEmptyDom(m):j.isEmptyDom(m);
}else{if(j.isList(m)&&m.children.length===0){return true;
}}}var l=m.firstChild;
while(l&&j.isNodeEmptyRecursive(l,k)){l=l.nextSibling;
}return !l;
},whitespaceRegExp:/^\s*$/,isWhitespaceNode:function(k){return this.isTextNode(k)?this.isTextNodeEmpty(k):this.whitespaceRegExp.test(k.innerHTML);
},isTag:function(l,k){return !!(l&&l.tagName&&k)&&l.tagName.toLowerCase()==k.toLowerCase();
},isList:function(k){return j.isTag(k,"ul")||j.isTag(k,"ol");
},isHeading:function(k){return k&&/^H[1-6]$/i.test(k.nodeName);
},isTextElement:function(k){return j.isTag(k,"textarea")||(j.isTag(k,"input")&&a(k).is("[type=text],[type=password]"));
},isTableCell:function(k){return j.isTag(k,"td")||j.isTag(k,"th");
},isBlockComponent:function(k){return j.isTag(k,"li")||j.isTableCell(k);
},isNodeAtStart:function(m,k){var l=true;
var n=this;
while(l&&n.isAncestorOf(k,m)){while(l&&m.previousSibling){m=m.previousSibling;
l=n.isEmptyDom(m);
}m=m.parentNode;
}return l;
},hasAttributes:function(k){var l=this.getOuterHtml(k).replace(k.innerHTML,"");
return/=["][^"]/.test(l)||/=['][^']/.test(l)||/=[^'"]/.test(l);
},getDefinedAttributes:function(n){var l={length:0};
for(var m=0;
m<n.attributes.length;
m++){var k=n.attributes[m];
if(k.specified&&k.nodeName!="style"&&!/^sizzle-/.test(k.nodeName)){l[k.nodeName]=k.nodeValue;
l.length++;
}}return l;
},getAttributes:function(o,n){var k={length:1};
for(var l=0;
l<n.length;
l++,k.length++){var m=n[l];
k[m]=o.getAttribute(m);
}return k;
},every:function(l,k){var n=l.length;
for(var m=0;
m<n;
m++){if(!k(l[m])){return false;
}}return true;
},some:function(l,k){var n=l.length;
for(var m=0;
m<n;
m++){if(k(l[m])){return true;
}}return false;
},first:function(l,o){var n=l.length;
for(var m=0;
m<n;
m++){var k=l[m];
if(o(k)){return k;
}}},someInRange:function(m,k){var l=new b.RangeIterator(m);
var n=false;
l.iterate(function(o){n=n||k(o);
});
return n;
},getEntitiesCollection:function(){return h;
},_convertEntitiesToCharacters:function(m){var l=/&([a-z]+);/g;
var k=j.getEntitiesCollection();
m=m.replace(l,function(o,n){return k[n]||o;
});
m=m.replace(/&amp;/g,"&");
return m;
},_isContentAreaLastBr:function(k){return j.isTag(k,"br")&&!k.nextSibling&&j.isEditorContentArea(k.parentNode);
},isWhitespaceBetweenTableCells:function(k){return j.isTextNode(k)&&j.isTextNodeEmpty(k)&&a(k.parentNode).is("tr,tbody,thead,tfoot,table");
},convertAttribute:function(m,p,l){var k=m.getAttribute(p);
var r=k;
if(p=="background"){k=m.getAttribute(p,2);
if(k){r="url("+k+")";
}}else{if(p=="width"||p=="height"||p=="vspace"||p=="hspace"){if(!(typeof(r)=="string"&&r.match("%"))){r=parseInt(r,10)+"px";
}}else{if(p=="noWrap"){k=m.noWrap;
r="nowrap";
}}}if(k){var q=null;
if(typeof(l)=="object"){var o=l.length;
for(var n=0;
n<o;
n++){q=m.style[l[n]];
if(!q){m.style[l[n]]=r;
}}}else{q=m.style[l];
if(!q){m.style[l]=r;
}}}},convertImgAlignAttribute:function(l){var k=l.getAttribute("align");
var m=($telerik.isIE)?"styleFloat":"cssFloat";
if(k){k=k.toLowerCase();
l.style.verticalAlign="";
l.style[m]="";
switch(k){case"left":l.style[m]="left";
break;
case"right":l.style[m]="right";
break;
case"bottom":case"baseline":case"absbottom":l.style[m]="";
l.style.verticalAlign="text-bottom";
break;
case"middle":case"absmiddle":l.style[m]="";
l.style.verticalAlign="middle";
break;
case"top":case"texttop":l.style[m]="";
l.style.verticalAlign="top";
break;
}}},convertTypeAttribute:function(k){var l=k.getAttribute("type");
if(l){if(!k.style.listStyleType){switch(l){case"1":k.style.listStyleType="decimal";
break;
case"a":k.style.listStyleType="lower-alpha";
break;
case"A":k.style.listStyleType="upper-alpha";
break;
case"i":k.style.listStyleType="lower-roman";
break;
case"I":k.style.listStyleType="upper-roman";
break;
case"disc":k.style.listStyleType="disc";
break;
case"circle":k.style.listStyleType="circle";
break;
case"square":k.style.listStyleType="square";
break;
}}}},convertBorderAttribute:function(l){var k=l.getAttribute("border");
if(k){if(!l.style.borderWidth){l.style.borderWidth=k+"px";
}if(!l.style.borderStyle){l.style.borderStyle="solid";
}}},convertCSSProperty:function(l,o,k){var p=l.style[k];
var q=p||l.getAttribute(o)||"";
if(k=="backgroundImage"){q=p.replace(/["']/g,"").slice(4,-1)||q;
}else{if(k=="width"||k=="height"){if(p&&!p.match("%")){q=parseInt(p,10);
}}else{if(k=="whiteSpace"){q="nowrap";
}else{if(o=="vspace"||o=="hspace"){var n=k.length;
for(var m=0;
m<n;
m++){if(m==0){p=l.style[k[m]];
q=parseInt(p,10);
}else{if(p!=l.style[k[m]]){p=false;
break;
}}}}}}}if(o.toLowerCase()=="bgcolor"){q=b.Utils._rgbToHex(q);
}if(q){l.setAttribute(o,q);
}else{l.removeAttribute(o);
}b.Utils.cleanStylePorperty(l,k);
},cleanStylePorperty:function(m,k){if(Object.prototype.toString.call(k)==="[object Array]"){for(var n=0,o=k.length;
n<o;
n++){m.style[k[n]]="";
}}else{m.style[k]="";
}if(!m.style.cssText){m.removeAttribute("style");
}},convertImgCssAlignProperty:function(k){var l=($telerik.isIE)?k.style.styleFloat:k.style.cssFloat;
if(l){k.setAttribute("align",l);
}else{var m=k.style.verticalAlign;
if(m){m=m.replace(/text-/i,"");
k.setAttribute("align",m);
}}},convertListStyleTypeStyle:function(k){var l=k.style.listStyleType;
var m=k.getAttribute("type");
if(l&&!m){switch(l){case"decimal":k.type="1";
break;
case"lower-alpha":k.type="a";
break;
case"upper-alpha":k.type="A";
break;
case"lower-roman":k.type="i";
break;
case"upper-roman":k.type="I";
break;
case"disc":k.type="disc";
break;
case"circle":k.type="circle";
break;
case"square":k.type="square";
break;
default:k.type=l;
break;
}k.style.listStyleType="";
}},stripHtmlHeadBodyTags:function(k){return k.replace(/^[\s\S]*<html[\s\S]+?<body[^>]*>([\s\S]*?)<\/body>[\s\S]*$/gi,"$1");
},removeNearBrElements:function(k){if(k){if(!b.Utils.isBlockElement(k)){return;
}var o;
if(k.previousSibling){o=k.previousSibling;
var n=o.nodeValue;
while(o&&(o.nodeValue=="\n"||$telerik.$.trim(n)==""||o.nodeName=="BR")){if(o.nodeName=="BR"){$telerik.$(o).remove();
break;
}o=o.previousSibling;
}}var l;
if(k.nextSibling){l=k.nextSibling;
var m=l.nodeValue;
while(l&&(l.nodeValue=="\n"||$telerik.$.trim(m)==""||l.nodeName=="BR")){if(l.nodeName=="BR"){$telerik.$(l).remove();
break;
}l=l.nextSibling;
}}}},splitElementsByCondition:function(m,k){var o=[];
for(var n=0;
n<m.length;
n++){var l=m[n];
if(k(l)){if(o.length&&!o[o.length-1].length){continue;
}o.push([]);
}else{if(o.length){o[o.length-1].push(l);
}else{o[0]=[l];
}}}if(o.length&&!o[o.length-1].length){o.splice(o.length-1,1);
}return o;
},ensureSingleEncodingUrl:function(o){var l=o;
var m=o.substring(0,o.indexOf("?"));
var n=o.substring(o.indexOf("?")+1);
try{m=decodeURI(m);
n=this.decodeQueryString(n);
}catch(k){}l=encodeURI(m)+"?"+this.encodeQueryString(n);
return l;
},encodeQueryString:function(k){return this.manipulateQueryString(k,encodeURIComponent);
},decodeQueryString:function(k){return this.manipulateQueryString(k,decodeURIComponent);
},manipulateQueryString:function(m,k){var l=this.splitQueryString(m);
a(l).each(function(n,o){a(o).each(function(p,q){o[p]=k.call(this,q);
});
});
return this.joinQueryArr(l);
},splitQueryString:function(k){var l=[];
l=k.split("&");
a(l).each(function(m,n){l[m]=n.split("=");
});
return l;
},joinQueryArr:function(k){var l=[];
a(k).each(function(m,n){l[m]=n.join("=");
});
return l.join("&");
},toUnit:function(l,k){if(!k){k="px";
}return l?l+k:"";
},getUnitName:function(k){return k.replace(/^[0-9]*/,"");
}};
})(Telerik.Web.UI,Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b){Telerik.Web.UI.Editor.CommandBase=function(g,f,c,e){var d=this;
d.isSafari=$telerik.isSafari;
d.isIE=$telerik.isIE;
d.isOpera=$telerik.isOpera;
d.isFirefox=$telerik.isFirefox;
d._title=g;
d._window=f;
d._isExecuted=false;
d._canUnexecute=(c!=false);
d._editor=e;
a.observable(d);
};
Telerik.Web.UI.Editor.CommandBase.prototype={get_argument:function(){return null;
},getState:function(c){return Telerik.Web.UI.Editor.CommandStates.Off;
},getValue:function(c){return null;
},set_window:function(c){this._window=c;
},get_window:function(){return this._window;
},get_title:function(){return this._title;
},set_title:function(c){this._title=c;
},set_canUnexecute:function(c){this._canUnexecute=c;
},get_canUnexecute:function(){return this._canUnexecute;
},get_editor:function(){return this._editor;
},set_editor:function(c){this._editor=c;
},get_editorContentArea:function(){var d=this.get_editor();
var c=(d)?d.get_contentArea():null;
return c;
},get_enableUndoRedo:function(){var c=this.get_editor();
if(c){return c.get_enableUndoRedo();
}else{return true;
}},execute:function(){this._isExecuted=false;
if(null==this.onExecute||null==this.get_window()){return false;
}try{if(this.get_enableUndoRedo()){if(!this.RestorePoint1){this.RestorePoint1=this.get_editor().createRestorePoint();
}else{this.RestorePoint1.select();
}}return(this._isExecuted=this.onExecute());
}catch(c){}return false;
},onExecute:function(){if(this.isIE&&null!=this.OnExecuteIE){return this.OnExecuteIE();
}else{if(null!=window.getSelection&&null!=this.OnExecuteMoz){return this.OnExecuteMoz();
}}return false;
},unexecute:function(){try{if(this._canUnexecute&&this._isExecuted){this.RestorePoint1.restore();
}}catch(c){}},trackChangedNode:function(c){var d=this;
if(d._changeFormatTracking!==false){if(!d.elements){d.elements=[];
}d.elements.push(c);
}},collectTrackData:function(d){var c=a(d);
return{node:d,parentNode:d.parentNode,previousSibling:c.prev()[0],nextSibling:c.next()[0]};
},clearTrackedNodes:function(){if(this.elements&&this.elements.length){this.elements=[];
}},fireFormattingChanged:function(){var d=this,c=a.extendEventArgs(new Sys.EventArgs(),{elements:d.elements,applyFormat:!d.removeFormatting,command:d});
d.trigger("formattingChanged",c);
},_setEnabledChangeFormatTracking:function(c){this._changeFormatTracking=c;
}};
Telerik.Web.UI.Editor.CommandBase.registerClass("Telerik.Web.UI.Editor.CommandBase");
})($telerik.$);
Telerik.Web.UI.Editor.PasteHtmlCommand=function(e,d,c,a,b){Telerik.Web.UI.Editor.PasteHtmlCommand.initializeBase(this,[(e||"Insert Html"),d,true,b]);
this.HtmlText=c;
this.SelectText=(true==a);
this.editor=b;
};
Telerik.Web.UI.Editor.PasteHtmlCommand.prototype={clone:function(){return new Telerik.Web.UI.Editor.PasteHtmlCommand(this.get_title(),this.get_window(),this.HtmlText,null,this.get_editor());
},onExecute:function(){var a=this;
var b=new Telerik.Web.UI.Editor.Selection(a.get_window());
if($telerik.isIE){a.fixBrElementSelectionIE();
}$telerik.$.observable(b);
b.on({pasteDom:a._raiseEvent,pasteBlockElement:a._raiseEvent},a);
b.pasteHtml(a.HtmlText,a.SelectText);
b.disposeObservable();
return true;
},_raiseEvent:function(a){this.get_editor().raiseEvent(a.get_eventName(),a);
},fixBrElementSelectionIE:function(){var c=this.editor,b=Telerik.Web.UI.Editor.DomRange.toDomRange(c.getSelection().getRange());
if(!b.startContainer||b.startContainer.nodeType==3||!b.endContainer.nodeType||b.endContainer.nodeType==3){return;
}var e=function(){if($telerik.isIE9Mode){return b.endContainer.childNodes[b.endOffset-1];
}else{if($telerik.isIE7||$telerik.isIE8){return b.endContainer.childNodes[b.endOffset];
}}};
var d=function(){return b.startContainer.childNodes[b.startOffset];
};
var f=$telerik.isIE9Mode&&b.collapsed&&b.startOffset!=b.endOffset&&e()&&e().nodeName=="BR";
f|=($telerik.isIE7||$telerik.isIE8)&&b.collapsed&&b.startOffset==b.endOffset&&b.startContainer.childNodes.length-1==b.startOffset&&d()&&d().nodeName=="BR"&&e()&&$telerik.$(d()).is(e());
if(f){var a=e();
if(a.nodeName!="BR"){return;
}var g=c.get_document().createElement("span");
g.innerHTML="&nbsp;";
$telerik.$(g).insertAfter(a);
c.selectElement(g);
g.parentElement.removeChild(g);
}}};
Telerik.Web.UI.Editor.PasteHtmlCommand.registerClass("Telerik.Web.UI.Editor.PasteHtmlCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.GenericCommand=function(c,b,a){Telerik.Web.UI.Editor.GenericCommand.initializeBase(this,[c,b,true,a]);
if(this.get_enableUndoRedo()){this.RestorePoint1=a.createRestorePoint();
}};
Telerik.Web.UI.Editor.GenericCommand.prototype={execute:function(){if(this.get_enableUndoRedo()){if(null==this.RestorePoint2){this.RestorePoint2=this.get_editor().createRestorePoint();
}else{this.RestorePoint2.restore();
}}return true;
},unexecute:function(){if(this.get_enableUndoRedo()){this.RestorePoint1.restore(true);
}}};
Telerik.Web.UI.Editor.GenericCommand.registerClass("Telerik.Web.UI.Editor.GenericCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.TextTypeCommand=function(c,b,a){Telerik.Web.UI.Editor.TextTypeCommand.initializeBase(this,[(c||"Typing"),b,a]);
};
Telerik.Web.UI.Editor.TextTypeCommand.prototype={update:function(){if(this.RestorePoint2){this.RestorePoint2.update();
}}};
Telerik.Web.UI.Editor.TextTypeCommand.registerClass("Telerik.Web.UI.Editor.TextTypeCommand",Telerik.Web.UI.Editor.GenericCommand);
Telerik.Web.UI.Editor.BrowserCommand=function(e,c,d,f,b){var a=true;
switch(this.CommandID){case"Copy":case"SelectAll":case"Print":a=false;
break;
}Telerik.Web.UI.Editor.BrowserCommand.initializeBase(this,[(e||d),c,a,b]);
this.CommandID=d;
this.Value=f;
};
Telerik.Web.UI.Editor.BrowserCommand.prototype={get_argument:function(){return this.Value;
},clone:function(){return new Telerik.Web.UI.Editor.BrowserCommand(this._title,this.get_window(),this.CommandID,this.Value);
},getState:function(g,c,h){try{var i=this;
g=g||i.get_window();
var f=g.document;
var a=Telerik.Web.UI.Editor.CommandStates;
var b=i.CommandID;
if(!f){return a.Disabled;
}if("Paste"==b){return a.Off;
}if("Cut"==b||"Copy"==b){return(h&&!h.collapsed)?a.Off:a.Disabled;
}var d=f.queryCommandEnabled(b);
if(!i.isOpera&&!d){if(!i.isSafari||b!="RealFontSize"){return a.Disabled;
}}return f.queryCommandState(b)?a.On:a.Off;
}catch(e){return a.Off;
}},getValue:function(b){try{b=b||this.get_window();
return b.document.queryCommandValue(this.CommandID);
}catch(a){}return null;
},onExecute:function(){var g=this.get_window();
if(!g){return false;
}var c=g.document;
if("AbsolutePosition"==this.CommandID){c.execCommand("2D-Position",false,true);
}var h=true;
if(this.CommandID=="BackColor"&&(this.isOpera||this.isFirefox)){this.CommandID="HiliteColor";
h=false;
}var a=Telerik.Web.Browser;
if(this.CommandID=="FontSize"&&a.safari&&a.version<3){var f=parseInt(this.Value,10);
switch(f){case 1:this.Value="8pt";
break;
case 2:this.Value="10pt";
break;
case 3:this.Value="12pt";
break;
case 4:this.Value="14pt";
break;
case 5:this.Value="18pt";
break;
case 6:this.Value="24pt";
break;
case 7:this.Value="36pt";
break;
}}try{c.execCommand("UseCSS",false,(false!=h));
c.execCommand("styleWithCSS",false,(false==h));
}catch(b){}if(!this.isIE&&!this.Value&&(this.CommandID=="ForeColor"||this.CommandID=="BackColor"||this.CommandID=="HiliteColor")){this.removeColorMozilla(this.CommandID);
}var d=Telerik.Web.UI.Editor.Utils.execDocumentCommand(c,this.CommandID,this.Value);
if(this.CommandID!="Outdent"&&this.CommandID!="Indent"&&this.CommandID!="SelectAll"){Telerik.Web.UI.Editor.Utils.removeInvalidElementsInLists(c);
}if($telerik.isIE&&!$telerik.isIE9Mode){switch(this.CommandID){case"JustifyLeft":case"JustifyRight":case"JustifyNone":case"JustifyCenter":case"JustifyFull":this.ieFixAlignCommandsParagraphBraking();
break;
}}if($telerik.isFirefox&&(this.CommandID=="BackColor"||this.CommandID=="HiliteColor")&&this._editor.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){this.mozFixContentAreaBackColor();
}try{c.execCommand("UseCSS",false,true);
c.execCommand("styleWithCSS",false,false);
}catch(b){}return d;
},ieFixAlignCommandsParagraphBraking:function(){var a=this.get_editor();
var d=Telerik.Web.UI.Editor.Utils.getElementParentByTag(a.getSelectedElement(),"P");
if(d&&d.firstChild){var b=d.firstChild;
var c=b.innerHTML;
if(c.indexOf("</P>")!=-1&&c.indexOf("<P>")==-1){Telerik.Web.UI.Editor.Utils.setElementInnerHtml(b,c.replace("</P>",""));
Telerik.Web.UI.Editor.Utils.setElementInnerHtml(d,d.innerHTML+"</P>");
}}},mozFixContentAreaBackColor:function(){var b=this._editor.get_contentArea();
var a=b.style.backgroundColor;
if(a!=""){b.style.backgroundColor="";
var h=document.evaluate('.//text()[normalize-space(.) != ""]',b,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);
for(var c=0,d=h.snapshotLength;
c<d;
c++){var g=h.snapshotItem(c);
var f=document.createElement("span");
f.innerHTML=g.nodeValue;
f.style.backgroundColor=a;
var e=g.parentNode;
e.insertBefore(f,g);
e.removeChild(g);
}}},removeColorMozilla:function(a){var b=new Telerik.Web.UI.Editor.Selection();
b._window=this._window;
var c=b.getHtml();
if(c!=""){var g=b.GetParentElement();
if(g.innerHTML.trim()==c.trim()){this.removeNodeColor(g,a);
}var h=window.document.createElement("div");
h.innerHTML=c;
for(var d=0,e=h.childNodes.length;
d<e;
d++){var f=h.childNodes[d];
this.removeNodeColor(f,a);
}b.PasteHtml(h.innerHTML);
}},removeNodeColor:function(b,a){switch(a){case"ForeColor":if(b.style){b.style.color="";
}if(b.removeAttribute){b.removeAttribute("color");
}break;
case"BackColor":case"HiliteColor":if(b.style){b.style.backgroundColor="";
}if(b.removeAttribute){b.removeAttribute("bgColor");
}break;
}}};
Telerik.Web.UI.Editor.BrowserCommand.registerClass("Telerik.Web.UI.Editor.BrowserCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.StyleRuleCommand=function(f,d,c,g,b,a){Telerik.Web.UI.Editor.StyleRuleCommand.initializeBase(this,[f,d,true,a]);
if(!c){var e=new Telerik.Web.UI.Editor.Selection(this._window);
c=e.getParentElement();
}this._nodeBookmark=new Telerik.Web.UI.Editor.SelectionBookmark(this._window,c);
this._styleAttributeName=g;
this._newValue=b;
};
Telerik.Web.UI.Editor.StyleRuleCommand.prototype={get_argument:function(){return this._newValue;
},clone:function(){return new Telerik.Web.UI.Editor.StyleRuleCommand(this._title,this._window,null,this._styleAttributeName,this._newValue);
},execute:function(){var a=this._nodeBookmark.select();
if(!a){return false;
}if(!this._isExecuted){this._oldValue=a.style[this._styleAttributeName];
}a.style[this._styleAttributeName]=this._newValue;
this._isExecuted=true;
return true;
},unexecute:function(){var a=this._nodeBookmark.select();
a.style[this._styleAttributeName]=this._oldValue;
}};
Telerik.Web.UI.Editor.StyleRuleCommand.registerClass("Telerik.Web.UI.Editor.StyleRuleCommand",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.AttributeCommand=function(g,e,d,a,c,b){Telerik.Web.UI.Editor.AttributeCommand.initializeBase(this,[g,e,true,b]);
if(!d){var f=new Telerik.Web.UI.Editor.Selection(this._window);
d=f.getParentElement();
}this._nodeBookmark=new Telerik.Web.UI.Editor.SelectionBookmark(this._window,d);
this._attribName=a;
this._newValue=c;
this._classAttr=(this._attribName==="className")?"class":null;
};
Telerik.Web.UI.Editor.AttributeCommand.prototype={get_argument:function(){return this._newValue;
},clone:function(){return new Telerik.Web.UI.Editor.AttributeCommand(this._title,this._window,null,this._attribName,this._newValue);
},execute:function(){var a=this._nodeBookmark.select();
if(!a){return false;
}if(!this._isExecuted){if(this._attribName=="style"){this._oldValue=a.style.cssText;
}else{this._oldValue=a.getAttribute(this._classAttr||this._attribName);
}}if(this._attribName&&this._attribName.toLowerCase()=="name"&&this.isIE){a.name=this._newValue;
a.removeAttribute("name");
a.removeAttribute("NAME");
if($telerik.isIE9Mode){var c=a.nodeName;
if(c=="INPUT"||c=="TEXTAREA"||c=="BUTTON"){a.removeAttribute("submitName");
a.setAttribute("name",this._newValue);
}}}var b=this._newValue.trim();
if(""==b){a.removeAttribute(this._attribName,0);
}else{if(this._attribName=="style"){a.style.cssText=this._newValue;
}else{a[this._attribName]=this._newValue;
if(this._attribName.toLowerCase()=="nowrap"||this._attribName=="borderColor"){a.setAttribute(this._attribName,this._newValue);
}}}this._isExecuted=true;
return true;
},unexecute:function(){var a=this._nodeBookmark.select();
if(this._attribName=="style"){a.style.cssText=this._oldValue;
}else{if(this._oldValue){a[this._attribName]=this._oldValue;
}else{if(a[this._attribName]&&!this._oldValue){a.removeAttribute(this._classAttr||this._attribName,0);
}}}}};
Telerik.Web.UI.Editor.AttributeCommand.registerClass("Telerik.Web.UI.Editor.AttributeCommand",Telerik.Web.UI.Editor.CommandBase);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(){var a=$telerik.$;
var b=Telerik.Web.UI;
var c=b.Editor.Utils;
b.Editor.ClassNameCommand=function(g,e,f,d){b.Editor.ClassNameCommand.initializeBase(this,[(g||"Classname"),e,true,d]);
};
b.Editor.ClassNameCommand.prototype={getValue:function(d,e){var f=this.get_editor().getSelectedElement(e);
return(f&&!c.isEditorContentArea(f))?f.className:"";
}};
b.Editor.ClassNameCommand.registerClass("Telerik.Web.UI.Editor.ClassNameCommand",b.Editor.CommandBase);
b.Editor.FormatBlockCommand=function(g,e,f,d){b.Editor.FormatBlockCommand.initializeBase(this,[(g||"Format Block"),e,true,d]);
this.FormatValue=(f)?f:"<p>";
this._editor=d;
};
b.Editor.FormatBlockCommand.prototype={get_argument:function(){try{return this.FormatValue.substring(1,this.FormatValue.length-1).toUpperCase();
}catch(d){}},clone:function(){return new b.Editor.FormatBlockCommand(this.Title,this._window,this.FormatValue,this._editor);
},getValue:function(e){try{e=e||this._window;
var f=e.document.queryCommandValue("FormatBlock");
if(!document.all){switch(f){case"x":case"":f="Normal";
break;
}}return f;
}catch(d){}return null;
},onExecute:function(){var n=this._window.document;
var x=this.FormatValue;
var e=this._editor;
var k=null;
if("<p>"==x.toLowerCase()&&!$telerik.isOpera){n.execCommand("FormatBlock",false,"Normal");
}var q=true;
var u=this._getTagName();
var t=new b.Editor.Selection(this._window);
var g=t.getHtml();
if(g){var r=b.Editor.CommandList._markEditorSelection(e);
var m=r.newElements;
var o=r.oldElements;
var p=Function.createDelegate(this,function(i,l){var C=i.parentNode;
var y;
if(!$telerik.isFireFox&&l&&C.tagName=="A"&&C.childNodes.length==1){y=n.createElement(i.tagName);
b.Editor.Utils.removeNode(i);
C.parentNode.insertBefore(y,C);
y.appendChild(C);
i=y;
C=i.parentNode;
}y=n.createElement(u);
var z=(l)?i.innerHTML:$telerik.getOuterHtml(i);
b.Editor.Utils.setElementInnerHtml(y,z);
C.replaceChild(y,i);
if(/^(P|DIV|H[1-6]|ADDRESS|BLOCKQUOTE|PRE)$/.test(C.tagName)&&true!=b.Editor.Utils.isEditorContentArea(C)){$telerik.mergeElementAttributes(C,y,false);
if(C.childNodes.length==1){b.Editor.Utils.removeNode(C);
}else{var B=C.parentNode;
var A;
if(!y.previousSibling){B.insertBefore(y,C);
}else{if(!y.nextSibling){A=C.nextSibling;
if(A){B.insertBefore(y,A);
}else{B.appendChild(y);
}}else{var D=C.cloneNode(false);
while(y.nextSibling){D.appendChild(y.nextSibling);
}A=C.nextSibling;
if(A){C.parentNode.insertBefore(y,A);
C.parentNode.insertBefore(D,A);
}else{C.parentNode.appendChild(y);
C.parentNode.appendChild(D);
}}}}}b.Editor.Utils.removeNonXhtmlCompliantParents(y);
k=y;
this._applyAttributes(y);
});
var h,j;
for(h=0,j=m.length;
h<j;
h++){p(m[h],true);
}for(h=0,j=o.length;
h<j;
h++){p(o[h],false);
}}else{q=n.execCommand("FormatBlock",false,"<"+u+">");
var v=n.createElement("DIV");
v.innerHTML=x+"</"+u+">";
var w=v.getElementsByTagName(u)[0];
var s=e.getSelectedElement();
if(s.tagName==w.tagName){$telerik.mergeElementAttributes(w,s);
}}Telerik.Web.UI.Editor.Utils.removeInvalidElementsInLists(n);
t=new b.Editor.Selection(this._window);
var f=t.getParentElement();
b.Editor.Utils.removeNearBrElements(f);
if(f&&f.tagName!=u){t.collapse(true);
t=new b.Editor.Selection(this._window);
f=t.getParentElement();
}if(g&&k){if($telerik.isIE8||$telerik.isIE7){e.selectElement(k);
e.getSelection().collapse();
}else{var d=b.Editor.DomRange.createRange(e.get_document());
d.selectNodeContents(k);
d.collapse();
d.select();
}}return q;
},_getTagName:function(){var d=this.FormatValue.replace(/.*?<([^\s]+)(\s|\/|>).*/i,"$1");
return d.toUpperCase();
},_applyAttributes:function(f){if(!f){return;
}var g=this.FormatValue;
var e=document.createElement("div");
e.innerHTML=g+"</"+this._getTagName()+">";
if(e.firstChild){var d=e.firstChild;
if(d.className){f.className=d.className;
}if(d.style.cssText){f.style.cssText=d.style.cssText;
}}}};
b.Editor.FormatBlockCommand.registerClass("Telerik.Web.UI.Editor.FormatBlockCommand",b.Editor.CommandBase);
b.Editor.ieFontCommandFix=function(d){this.editor=d;
this.fixCellText=$telerik.$();
};
b.Editor.ieFontCommandFix.prototype={applyFix:function(){if(this.shouldApplyFix()){this._fix();
}},_fix:function(){$telerik.$(this.editor.getSelectedElement()).find("td").each($telerik.$.proxy(function(d,e){if(b.Editor.Utils.isNodeEmpty(e)){var f=$telerik.$(document.createTextNode("_"));
$telerik.$(e).prepend(f);
this.fixCellText=this.fixCellText.add(f);
}},this));
},shouldApplyFix:function(){var d=this.editor.getSelectedElement();
return $telerik.isIE&&d&&d.tagName&&/^(?:tbody|tr)$/i.test(d.tagName);
},cleanUp:function(){if(!this.fixCellText){return;
}var d=this.fixCellText.parent();
this.fixCellText.remove();
d.filter(":empty").html("&nbsp;").parent().contents().slice(1).remove();
delete this.fixCellText;
}};
b.Editor.FormatSetsCommand=function(g,f,e,d){b.Editor.FormatSetsCommand.initializeBase(this,[(g||"Format Sets"),f,true,d]);
this._formatSets;
this._selectedElement;
this._formatSet=e;
};
b.Editor.FormatSetsCommand.prototype={onExecute:function(){var d=this.get_formatSet();
if(d){if(this._isInlineFormatSet(d)){return this._onExecuteInlineFormatSet();
}else{if(this._isBlockFormatSet(d)){return this._onExecuteBlockFormatSet();
}else{return this._onExecuteElementFormatSet();
}}}return false;
},_isInlineFormatSet:function(d){return !d[0];
},_isBlockFormatSet:function(d){return d[0]&&a.inArray(d[0].toLowerCase(),b.Editor.formatSetBlockElements)!=-1;
},_onExecuteInlineFormatSet:function(){var d=new Telerik.Web.UI.EditorCommandEventArgs("",null,"_RE_TELERIK_FORMATSETS"),e=this.get_editor(),g=this,f=this.get_formatSet();
d.addToUndoRedo=false;
e.fire("ApplyClass",d);
a("._RE_TELERIK_FORMATSETS",e.get_document()).each(function(i,h){h.className="";
g._applyAttributes(h,f[3]);
});
return true;
},_onExecuteBlockFormatSet:function(){var d=this.get_formatBlockCommand();
this.get_editor().executeCommand(d);
return true;
},get_formatBlockCommand:function(){var e=this.get_editor();
var d=new b.Editor.FormatBlockCommand("",e.get_contentWindow(),this.get_formatSetElementString(),e);
d.set_canUnexecute(false);
return d;
},get_formatSetElementString:function(){var d=this.get_formatSet(),e="";
if(d&&d[0]){e+="<"+d[0]+" "+this.get_formatSetAttributesString()+">";
}return e;
},get_formatSetAttributesString:function(){var f="",e=this.get_formatSet()[3];
if(e){for(var g=0,h=e.length;
g<h;
g++){var d=e[g];
f+=d.Name+'="'+d.Value+'" ';
}}return f;
},_onExecuteElementFormatSet:function(){var e=this._getElementToModify();
if(e){var d=this.get_formatSet()[3];
if(d){this._applyAttributes(e,d);
}}},_getElementToModify:function(){var e=this.get_selectedElement(),d=null,f=this.get_formatSet()[0];
if(f){while(e&&!b.Editor.Utils.isEditorContentArea(e)){if(f.toUpperCase()==e.tagName){d=e;
break;
}e=e.parentNode;
}}return d;
},_applyAttributes:function(e,d){for(var f=0,g=d.length;
f<g;
f++){this._applyAttribute(e,d[f]);
}},_applyAttribute:function(f,d){if(d&&d.Name){var e=d.Name.toLowerCase();
if(e=="class"){f.className=d.Value;
}else{if(e=="style"){f.style.cssText=d.Value;
}else{f.setAttribute(d.Name,d.Value,2);
}}}},getValue:function(e){var d=this.get_editor(),f=(d)?d.getSelectedElement():null,g={commandText:"",selectedElement:null};
if(f&&f.nodeType==3){f=f.parentNode;
}if(!(f&&b.Editor.Utils.isEditorContentArea(f))){g={commandText:this._getFormatSetTextByElement(f),selectedElement:f};
}return g;
},_getFormatSetTextByElement:function(d){var f=this.get_formatSets();
for(var g=0,h=f.length;
g<h;
g++){var e=f[g];
if(this._formatSetMatchesElement(e,d)){return e[1];
}}return"";
},_formatSetMatchesElement:function(f,d){var g=f[0],e=d&&d.tagName||"";
if(!g||e.toLowerCase()==g.toLowerCase()){return this._attributesMatch(f[3],d);
}return false;
},_attributesMatch:function(g,f){if(f&&f.getAttribute&&g.length){for(var h=0,j=g.length;
h<j;
h++){var d=g[h],e=d.Name;
if(e&&e.toLowerCase()=="style"){if(!this._ElementCssTextIsEqualToString(f,d.Value)){return false;
}}else{if(!e||f.getAttribute(e)!=d.Value){return false;
}}}return true;
}else{return false;
}},_ElementCssTextIsEqualToString:function(e,d){var f=false;
if(e&&e.style&&d){var g=e.ownerDocument.createElement("div");
g.style.cssText=d;
f=e.style.cssText==g.style.cssText;
}return f;
},get_formatSets:function(){if(!this._formatSets){var d=this.get_editor();
return(d)?d.get_formatSets():[];
}return this._formatSets;
},set_formatSets:function(d){this._formatSets=d;
},get_selectedElement:function(){if(!this._selectedElement){var d=this.get_editor();
this._selectedElement=(d)?d.getSelectedElement():null;
}return this._selectedElement;
},set_selectedElement:function(d){this._selectedElement=d;
},get_formatSet:function(){return this._formatSet;
},set_formatSet:function(d){this._formatSet=d;
}};
b.Editor.FormatSetsCommand.registerClass("Telerik.Web.UI.Editor.FormatSetsCommand",b.Editor.CommandBase);
})();
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,d){var b=c.Editor;
var e=b.Utils;
b.EnterNewLineCommand=function(k,j,f,h,i){var g=this;
b.EnterNewLineCommand.initializeBase(g,[(k||"Enter pressed"),j,true,h]);
g._newLineMode=i||h.get_newLineMode();
g.tag=g._newLineMode==c.EditorNewLineModes.Div?"div":"p";
g._canUnexecute=(f!=false);
g.doc=h.get_document();
};
b.EnterNewLineCommand.prototype={execute:function(){var g=this,h=g.get_editor();
if(h.get_mode()==c.EditModes.Preview){return false;
}var m=h.getSelection();
var f=m.getRange(true);
if(!f||(f.parentElement&&f.parentElement().nodeName=="TEXTAREA")||(f.commonAncestorContainer&&e.isTag(f.commonAncestorContainer.childNodes[f.startOffset],"textarea"))){h.bubbleKeyEventToBrowser();
return false;
}var j=new b.GenericCommand("Enter",h.get_contentWindow(),h);
h._fireDeleteSelectionCmd(false);
var l=(g._newLineMode==c.EditorNewLineModes.Br)?g.enterBr():g.enterBlockElement();
h.executeCommand(j);
if($telerik.isIE7&&h.get_contentAreaMode()==c.EditorContentAreaMode.Div){var i=m.getRange(true).parentElement();
var k=e.getElementParentByTag(i,"LI");
i=k?k.parentNode:i;
e._toggleElementZoom(i);
}return l;
},enterBr:function(){var g=this,h=g.get_editor(),n=h.getSelection(),m=n.getParentElement();
var j=e.getElementParentByTag(m,"LI");
if(j){return g.enterNewLineInList(j,m);
}var i=e.getElementParentByRegExpTagName(m,g.regExpHeader);
if(i){return g.insertBrInHeading(i);
}var k=e.getElementParentByTag(m,"A");
if(k){return g.insertBrInLink(k);
}var l=b.DomRange.toDomRange(n.getRange(true));
var f=g._insertBr(l);
g.setCursorAfterBr(f,l);
e.scrollTo(f,h);
return true;
},enterNewLineInList:function(h,i){var f=this,g=f.get_editor();
if(f.shouldOutdentListItem_OnEnter(h)){return f.outdentListItem_OnEnter(h);
}else{if(a(h).find("ol,ul").length>0){return f.executeInsertParagraphCommand(g,null);
}else{if(f._newLineMode!=c.EditorNewLineModes.Br){return f.executeInsertParagraphCommand(g,h,false);
}else{return f.executeInsertParagraphCommand(g,h);
}}}},_insertBr:function(j){var g=this,i=g.get_editor(),h=j.commonAncestorContainer,f=g.doc.createElement("br");
if(!e.isTextNode(h)&&h.childNodes[j.endOffset]){h=h.childNodes[j.endOffset];
}if(i.nodesTracker.isTracked(h)){h.parentNode.insertBefore(f,h);
}else{j.insertNode(f);
g._removeEmptyTextNode(f.previousSibling);
g._removeEmptyTextNode(f.nextSibling);
}return f;
},_removeEmptyTextNode:function(f){if(e.isTextNode(f)&&f.length==0){f.parentNode.removeChild(f);
}},executeInsertParagraphCommand:function(g,f,i){var h=new b.InsertParagraphCommand(g);
if(f){h.container=f;
}if(i===true||i===false){h.options.retainOriginalNodeName=i;
}if(i===false){h.options.tag=this.tag;
}return h.onExecute();
},insertBrInLink:function(i){var g=this,h=g.get_editor(),j=b.DomRange.toDomRange(h.getSelection().getRange(true)),f=g._insertBr(j);
if(g.isFirstElement(f,i)){a(f).insertBefore(i);
}else{if(g.isLastElement(f,i)){a(f).insertAfter(i);
}}g.setCursorAfterBr(f,j);
e.scrollTo(f,h);
return true;
},insertBrInHeading:function(j){var g=this,i=g.get_editor(),l=b.DomRange.toDomRange(i.getSelection().getRange(true)),f=g._insertBr(l);
if(g.isLastElement(f,j)){a(f).remove();
var k=g.doc.createElement("p");
a(k).insertAfter(j);
var h=g.doc.createElement("span");
h.innerHTML="&nbsp;";
k.appendChild(h);
e._setCursor(h,i);
e.scrollTo(k,i);
}else{g.setCursorAfterBr(f,l);
e.scrollTo(f,i);
}return true;
},isFirstElement:function(g,f){return this._isFirstOrLastElement(g,f,true);
},isLastElement:function(g,f){return this._isFirstOrLastElement(g,f,false);
},_isFirstOrLastElement:function(i,g,j){var f=this;
var l=i;
var h=f.get_editor().get_contentArea();
var k=a(g);
var m=j?"previousSibling":"nextSibling";
while(!k.is(l)&&a.contains(h,l)){while(l[m]){l=l[m];
if(!f.isEmptyTextNode(l)){return false;
}}l=l.parentNode;
}return true;
},setCursorAfterBr:function(f,j){var g=this,h=g.get_editor(),l=h.nodesTracker,i=f.nextSibling;
if(i&&e.isTextNode(i)&&(!e.isTextNodeEmpty(i)||l.isTracked(i))){return e._setCursorInTextNode(j,i,0,0);
}var k=l.createTrackedNode();
a(k).insertAfter(f);
l.selectTrackedNode(j,k);
},shouldOutdentListItem_OnEnter:function(f){return e.isNodeEmptyRecursive(f)||this.isEmptyListItem(f);
},isEmptyListItem:function(g){var f=this;
if(!e.isTag(g,"li")||a(g).find("br").length>1){return false;
}return e.isNodeEmptyRecursive(g)||e.every(g.childNodes,function(h){return f.isEmptyTextNode(h)||e.isTag(h,"br");
});
},isEmptyTextNode:function(f){return e.isTextNode(f)&&e.isTextNodeEmpty(f);
},isList:function(f){return e.isList(f);
},outdentListItem_OnEnter:function(i){var f=this;
var g=f.insertCursor();
var h=f.get_editor();
var j=new b.OutdentCommand(h);
j.executeDomCommand([i]);
if(f._newLineMode==c.EditorNewLineModes.Br){var k=e.getElementParentByTag(g,"P");
if(k){e.removeNode(k);
}}e._setCursor(g,h);
return true;
},insertCursor:function(){var f=this;
var j=f.get_editor();
var k=b.DomRange.toDomRange(j.getSelection().getRange(true));
var h=f.doc.createElement("span");
var g=k.commonAncestorContainer;
var l=j.nodesTracker;
if(l.isZeroWidthNode(g)){var i=g.parentNode;
i.insertBefore(h,g);
i.removeChild(g);
h.appendChild(l.createTrackedNode());
}else{k.insertNode(h);
}if(e.isBlockElement(g)&&!a.contains(g,h)){g.appendChild(h);
}return h;
},enterBlockElement:function(){var f=this,g=f.get_editor(),j=g.getSelectedElement(),i=e.getElementParentByTag(j,"LI");
if(i){return f.enterNewLineInList(i);
}var h=e.getElementParentByRegExpTagName(j,f.regExpHeader);
if(h){return f.enterHeading(h);
}else{return f.executeInsertParagraphCommand(g,null,false);
}},enterHeading:function(g){var i=this,f=i.get_editor(),h=new b.InsertParagraphCommand(f);
h.container=g;
h.options.insertParagraphAfterHeading=true;
h.options.retainOriginalNodeName=false;
h.options.tag=i._newLineMode==c.EditorNewLineModes.Div?"div":"p";
return h.onExecute();
},regExpHeader:/^h[1-6]$/i,isHeader:function(f){return this.regExpHeader.test(f.nodeName);
}};
b.EnterNewLineCommand.registerClass("Telerik.Web.UI.Editor.EnterNewLineCommand",b.CommandBase);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor.TableCommandBase=function(c,b,a){Telerik.Web.UI.Editor.TableCommandBase.initializeBase(this,[(c||"Table Command"),b,true,a]);
};
Telerik.Web.UI.Editor.TableCommandsBase_Static={};
Telerik.Web.UI.Editor.TableCommandBase.prototype={getLayoutBuilderEngine:function(c,a){if(!Telerik.Web.UI.Editor.TableCommandsBase_Static._tableBuilder){Telerik.Web.UI.Editor.TableCommandsBase_Static._tableBuilder=new Telerik.Web.UI.LayoutBuilderEngine();
}var b=Telerik.Web.UI.Editor.TableCommandsBase_Static._tableBuilder;
b.set_selectedTable(c);
b.set_selectedCell(a);
return b;
},configureLayoutBuilderEngine:function(){var a=this.getSelectedCell();
if(!a){return false;
}var b=a.parentNode;
var c=this.getParentTable(b);
return this.getLayoutBuilderEngine(c,a);
},getState:function(a){return this.getSelectedCell(a)?Telerik.Web.UI.Editor.CommandStates.Off:Telerik.Web.UI.Editor.CommandStates.Disabled;
},getSelectedCell:function(a){var c=new Telerik.Web.UI.Editor.Selection(a||this._window);
var b;
if(c){b=c.getParentElement();
}var d=Telerik.Web.UI.Editor.Utils;
while(null!=b&&b.tagName!="TD"&&b.tagName!="TH"&&!d.isEditorContentArea(b)){b=b.parentNode;
}if(!b||!b.tagName){return null;
}return(b.tagName=="TD"||b.tagName=="TH"?b:null);
},getSelectedRow:function(a){var c=new Telerik.Web.UI.Editor.Selection(this._window||a);
var b;
if(c){b=c.getParentElement();
}if(!b){return null;
}var d=Telerik.Web.UI.Editor.Utils;
while(null!=b&&b.tagName!="TR"&&!d.isEditorContentArea(b)){b=b.parentNode;
}return(b&&b.tagName=="TR"?b:null);
},getParentTable:function(a){if(!a){return null;
}var b=Telerik.Web.UI.Editor.Utils;
while(null!=a&&"TABLE"!=a.tagName&&!b.isEditorContentArea(a)){a=a.parentNode;
}return(a&&a.tagName=="TABLE"?a:null);
}};
Telerik.Web.UI.Editor.TableCommandBase.registerClass("Telerik.Web.UI.Editor.TableCommandBase",Telerik.Web.UI.Editor.CommandBase);
Telerik.Web.UI.Editor.TableInsertRow=function(d,c,a,b){Telerik.Web.UI.Editor.TableInsertRow.initializeBase(this,[(d||"Insert row"),c,b]);
this._direction=a||"above";
};
Telerik.Web.UI.Editor.TableInsertRow.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableInsertRow(this._title,this._window,this._direction);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedRow(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand(("below"==this._direction)?"insertRowBelow":"insertRowAbove");
}};
Telerik.Web.UI.Editor.TableInsertRow.registerClass("Telerik.Web.UI.Editor.TableInsertRow",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableDeleteRow=function(c,b,a){Telerik.Web.UI.Editor.TableDeleteRow.initializeBase(this,[(c||"Delete Row"),b,a]);
};
Telerik.Web.UI.Editor.TableDeleteRow.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableDeleteRow(this._title,this._window);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedRow(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
this.selectAnotherRow(a);
return a.executeCommand("deleteRow");
},selectAnotherRow:function(c){if($telerik.isIE9Mode){var a=c._getLeftTopStateIndexes(c._selectedRowIndex,c._selectedCell.cellIndex);
var e=a.rowIndex;
var d=c._getSelectedTableCellByStateIndexes(e+1,0)||c._getSelectedTableCellByStateIndexes(e-1,0);
if(d){var b=this.get_editor().getSelection();
b.selectElement(d);
b.collapse(true);
}}}};
Telerik.Web.UI.Editor.TableDeleteRow.registerClass("Telerik.Web.UI.Editor.TableDeleteRow",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableInsertColumn=function(d,c,a,b){Telerik.Web.UI.Editor.TableInsertColumn.initializeBase(this,[(d||"Insert column"),c,b]);
this._direction=a||"left";
};
Telerik.Web.UI.Editor.TableInsertColumn.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableInsertColumn(this._title,this._window,this._direction);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedCell(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
if($telerik.isRightToLeft(a._selectedTable)){this._direction=("right"==this._direction)?"left":"right";
}return a.executeCommand(("right"==this._direction)?"insertColumnToTheRight":"insertColumnToTheLeft");
}};
Telerik.Web.UI.Editor.TableInsertColumn.registerClass("Telerik.Web.UI.Editor.TableInsertColumn",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableDeleteColumn=function(c,b,a){Telerik.Web.UI.Editor.TableDeleteColumn.initializeBase(this,[(c||"Delete column"),b,a]);
};
Telerik.Web.UI.Editor.TableDeleteColumn.prototype={clone:function(){return Telerik.Web.UI.Editor.TableDeleteColumn.New(this._title,this._window);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedCell(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand("deleteColumn");
}};
Telerik.Web.UI.Editor.TableDeleteColumn.registerClass("Telerik.Web.UI.Editor.TableDeleteColumn",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableMergeRows=function(c,b,a){Telerik.Web.UI.Editor.TableMergeRows.initializeBase(this,[(c||"Merge rows"),b,a]);
};
Telerik.Web.UI.Editor.TableMergeRows.prototype={clone:function(){return Telerik.Web.UI.Editor.TableMergeRows.New(this._title,this._window);
},getState:function(b){var a=this.getSelectedCell(b);
if(a&&this.getLayoutBuilderEngine(this.getParentTable(a),a).canMergeDown()){return Telerik.Web.UI.Editor.CommandStates.Off;
}return Telerik.Web.UI.Editor.CommandStates.Disabled;
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand("mergeDown");
},getLowerCell:function(a){if(!a){return null;
}var f=this.getParentTable(a);
var e=a.parentNode;
var d=f.rows[e.rowIndex+a.rowSpan];
if(!d){return null;
}var c=d.cells[a.cellIndex];
if(!c){for(var b=d.cells.length-1;
b>=0;
b--){if(d.cells[b].offsetLeft==a.offsetLeft){return d.cells[b];
}}}return c;
}};
Telerik.Web.UI.Editor.TableMergeRows.registerClass("Telerik.Web.UI.Editor.TableMergeRows",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableMergeColumns=function(c,b,a){Telerik.Web.UI.Editor.TableMergeColumns.initializeBase(this,[(c||"Merge columns"),b,a]);
};
Telerik.Web.UI.Editor.TableMergeColumns.prototype={clone:function(){return Telerik.Web.UI.Editor.TableMergeColumns.New(this._title,this._window);
},getState:function(b){var a=this.getSelectedCell(b);
if(a&&this.getLayoutBuilderEngine(this.getParentTable(a),a).canMergeRight()){return Telerik.Web.UI.Editor.CommandStates.Off;
}return Telerik.Web.UI.Editor.CommandStates.Disabled;
},getNextSiblingCell:function(a){if(!a){return null;
}var c=a.parentNode;
var b=c.cells[a.cellIndex+1];
if(null!=b&&a.rowSpan==b.rowSpan){return b;
}else{return null;
}},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand("mergeRight");
}};
Telerik.Web.UI.Editor.TableMergeColumns.registerClass("Telerik.Web.UI.Editor.TableMergeColumns",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableSplitCell=function(d,c,a,b){Telerik.Web.UI.Editor.TableSplitCell.initializeBase(this,[(d||"Split cell"),c,b]);
this._direction=a||"vertical";
};
Telerik.Web.UI.Editor.TableSplitCell.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableSplitCell(this._title,this._window);
},getState:function(a){var b=Telerik.Web.UI.Editor.CommandStates;
return(this.getSelectedCell(a)?b.Off:b.Disabled);
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand(("vertical"==this._direction)?"splitCellVertically":"splitCellHorizontally");
},getRealCellIndex:function(a){if(!a){return 0;
}var e=a.parentNode;
var c=0;
var b=0;
while(e.cells.length>c&&e.cells[c]!=a){var d=e.cells[c];
if(d.colSpan>1){b+=d.colSpan;
}else{b++;
}c++;
}return b;
}};
Telerik.Web.UI.Editor.TableSplitCell.registerClass("Telerik.Web.UI.Editor.TableSplitCell",Telerik.Web.UI.Editor.TableCommandBase);
Telerik.Web.UI.Editor.TableDeleteCell=function(c,b,a){Telerik.Web.UI.Editor.TableDeleteCell.initializeBase(this,[(c||"Delete cell"),b,a]);
};
Telerik.Web.UI.Editor.TableDeleteCell.prototype={clone:function(){return new Telerik.Web.UI.Editor.TableDeleteCell(this._title,this._window);
},getState:function(b){var a=this.getSelectedCell(b);
if(a&&this.getLayoutBuilderEngine(this.getParentTable(a),a).canDeleteCell()){return Telerik.Web.UI.Editor.CommandStates.Off;
}return Telerik.Web.UI.Editor.CommandStates.Disabled;
},onExecute:function(){var a=this.configureLayoutBuilderEngine();
return a.executeCommand("deleteCell");
}};
Telerik.Web.UI.Editor.TableDeleteCell.registerClass("Telerik.Web.UI.Editor.TableDeleteCell",Telerik.Web.UI.Editor.TableCommandBase);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){var c=function(){};
c.prototype={getImages:function(f){var k=f.items;
var j=[];
for(var g=0;
g<k.length;
g++){var h=this._getImage(k[g]);
if(h){j.push(h);
}}return j;
},getName:function(){return"ClipboardDataObject";
},_getImage:function(h){if(h.type.indexOf("image")!==-1){var f=h.getAsFile();
var j=window.URL||window.webkitURL;
var i=j.createObjectURL(f);
var g=new Image();
g.src=i;
g.onload=function(k){var l=new FileReader();
l.onload=function(m){if(g.src!=m.target.result){g.src=m.target.result;
}};
l.readAsDataURL(f);
};
return g;
}return null;
}};
var d=function(){};
d.prototype={getImages:function(){return[];
},getName:function(){return"NoFiles";
}};
b.ClipboardImagesProvider=function(){this.clipboardObject=null;
};
b.ClipboardImagesProvider.prototype={chooseProvider:function(f){if(this.supportsClipboardData(f)&&this.containsFiles(f.clipboardData)){return new c();
}else{return new d();
}},supportsClipboardData:function(f){return !!f.clipboardData;
},containsFiles:function(f){var g=!!(f.types&&f.types.length&&f.types.length>0&&e.containsElement(/files/i,f.types));
return g;
},getImages:function(f){var g=this.chooseProvider(f);
return g.getImages(f.clipboardData);
}};
b.ClipboardImagesProvider.registerClass("Telerik.Web.UI.Editor.ClipboardImagesProvider",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,d){var b=c.Editor;
var e=b.Utils;
b.DomBlockCommandBase=function(f,h){var g=this.options=a.extend({window:f?f.get_contentWindow():d,title:"Indent",canUnexecute:d,blockTag:f&&f.get_newLineMode()==c.EditorNewLineModes.Div?"div":"p",noDuplicateNodeEdges:true,isSuitableNode:e.isBlockElement},h||{});
b.DomBlockCommandBase.initializeBase(this,[g.title,g.window,g.canUnexecute,f]);
};
b.DomBlockCommandBase.prototype={onExecute:function(){this.storeRange();
var g=this.collectElements(this.getEditorRange());
var h=this._splitNodes(g);
for(var f=0;
f<h.length;
f++){this.nodes=h[f];
this.executeDomCommand(this.nodes);
this.fireFormattingChanged();
this.cleanUp();
}this.restoreRange();
return true;
},executeDomCommand:function(g){while(g.length){var f=g.shift();
if(this.isSuitableNode(f)){this.executeOnNode(f);
}else{this.executeInlineNode(f);
}}},isSuitableNode:function(f){return this.options.isSuitableNode(f);
},topLimitCondition:function(f){return e.isEditorContentArea(f);
},inlineWrapper:null,executeOnNode:Function.emptyFunction,executeInlineNode:function(g,h){var f=this.collectFragment(g);
if(h||!this.isEmptyFragment(f)){this.executeOnFragment(f);
}},executeOnFragment:function(f){var g=this.createWrappingBlock();
this.wrapFragmentInBlock(f,g);
this.executeOnNode(g,true);
return g;
},getCssState:function(j,f,g){var h=this.nodes=this.collectElements(j);
var i=this.getNodesState(h,f,g);
this.cleanUp();
return i?Telerik.Web.UI.Editor.CommandStates.On:Telerik.Web.UI.Editor.CommandStates.Off;
},getNodesState:function(k,f,g){var l=k.length>0;
var m=0;
for(var h=0;
h<k.length;
h++){var j=k[h];
if(this.isSuitableNode(j)){l=l&&this.getNodeState(j,f,g);
m++;
}}if(m==0){l=this.getEmptySuitableListState();
}return l;
},getNodeState:function(h,f,g){var i=h.style;
return(!g&&!i)||(i&&i[f]==g);
},getEmptySuitableListState:function(){return false;
},collectFragment:function(g,h){this.blockFragmentTraverser=new b.BlockFragmentsTraverser();
var f=this.blockFragmentTraverser.traverseFragment(g);
var i=h||this.nodes;
while(i.length>0&&f.contains(i[0])){i.shift();
}return f;
},createWrappingBlock:function(){var f=this.get_editor().get_document();
return f.createElement(this.options.blockTag);
},wrapFragmentInBlock:function(f,g){f.insertBeforeFirst(g);
f.appendTo(g);
return g;
},isEmptyFragment:function(f){var j=f.nodes;
for(var g=0;
g<j.length;
g++){var h=j[g];
if(e.isTag(h,"img")||!e.isWhitespaceNode(j[g])){return false;
}}return true;
},cleanUp:function(){this.traverser=this.nodes=null;
this.clearTrackedNodes();
},collectElements:function(h){if(!h){return[];
}var i=Function.createDelegate(this,this.topLimitCondition);
var j=this.traverser=new b.RangeBlockTraverser(h,{isSuitableNode:this.options.isSuitableNode});
var f=j.traverse(i);
this.removeDuplicateEdges(f);
if(f.length==1&&e.isTag(f[0],"br")){var g=f[0];
f=[g.previousSibling||g.nextSibling];
}return f;
},findFirstInlineChild:function(g){var f=g.firstChild;
while(e.isBlockElement(f)){f=f.nextSibling;
}return f;
},removeDuplicateEdges:function(h){if(!this.options.noDuplicateNodeEdges||h.length==0){return;
}var f=h[0],g=h[h.length-1];
if(h.length>1&&f==g){h.pop();
}},storeRange:function(){var f=this.getEditorRange();
this.rangeMemento=new b.DomRangeMemento(f);
},restoreRange:function(){try{if(this.rangeMemento){this.rangeMemento.restoreToRange(this.getEditorRange());
}}catch(f){}},getEditorRange:function(){return b.DomRange.toDomRange(this.get_editor().getSelection().getRange(true));
},rememberNewSelectedNode:function(g,f){var h=this.rangeMemento;
if(!h){return;
}if(h.startContainer==g){h.startContainer=f;
}if(h.endContainer==g){h.endContainer=f;
}},isRTL:function(){if(!this._editor){return;
}var f=this.get_editorContentArea();
return(f.style.direction||$telerik.getComputedStyle(this.get_editorContentArea(),"direction"))=="rtl";
},_splitNodes:function(f){if(!this.get_editor().get_enableImmutableElements()){return[f];
}return e.splitElementsByCondition(f,Function.createDelegate(e,e.isImmutableNode));
}};
b.DomBlockCommandBase.registerClass("Telerik.Web.UI.Editor.DomBlockCommandBase",b.CommandBase);
})($telerik.$,Telerik.Web.UI);
(function(a,b,h,f){var e="__telerik_marker",g=8203;
function c(i){return d(i)||(h.isTextNode(i)&&h.isTextNodeEmpty(i)&&(/\n|\r/.test(i.nodeValue)||(i.previousSibling&&!d(i.previousSibling))||(i.nextSibling&&!d(i.nextSibling))));
}function d(i){return i&&i.className==e;
}b.InlineCommand=function(j,i,l){this.settings=i||{};
var k=this.options=a.extend({window:j?j.get_contentWindow():f,title:"Inline command",canUnexecute:f},l||{});
b.InlineCommand.initializeBase(this,[k.title,k.window,k.canUnexecute,j]);
};
b.InlineCommand.prototype={onExecute:function(){try{return this.executeInlineCommand();
}catch(i){a("."+e,this.get_editor().get_contentArea()).remove();
}},executeInlineCommand:function(){var j=this,n=j.range=j.getEditorRange(),l=j.get_editor(),o=j.getState(l.get_contentWindow(),l),k=j.collapsedRange=n?n.isCollapsed():true;
if(k&&this.isGreedy()){var i=j.getWordBoundaries(n.startContainer,n.startOffset);
n.setStart(n.startContainer,i.left);
n.setEnd(n.startContainer,i.right);
n.select();
}var m=j.traverseFragments(n);
j.emptyRange=n?n.toString()=="":true;
j.storeRangeByFragments(m);
j.rangeChanged=false;
j.removeFormatting=j.shouldRemoveFormatting(o);
if(j.removeFormatting){j.removeFormat(m);
}else{j.formatFragments(m);
}j.fireFormattingChanged();
j.consolidate(n);
if(!j.rangeChanged){j.restoreRange();
}return true;
},isGreedy:function(){return !this.settings.isNotGreedy;
},shouldRemoveFormatting:function(i){return i==b.CommandStates.On;
},getState:function(l,i,k){var j=k||b.DomRange.rangeFromWindow(l);
return this.getStateByRange(j,i);
},getStateByRange:function(j,i){if(!j||j.commonAncestorContainer.nodeType==9){return b.CommandStates.Off;
}if(!j.isCollapsed()){j.normalizeEdges();
}var k=j.startContainer;
if(!h.isTextNode(k)&&k.childNodes[j.startOffset]){k=k.childNodes[j.startOffset];
}if(!h.isTextNode(k)&&h.canHaveChildren(k)){k=this.getFirstTextNodeOrSame(k);
}if(h.isTextNode(k)&&h.isTextNodeEmpty(k)&&!k.previousSibling&&i&&k.parentNode===i.get_contentArea()){k=this.getNextTextNode(k);
}k=this.findFormattedAncestor(k);
return k&&this.isSameFormatNode(k)?b.CommandStates.On:b.CommandStates.Off;
},getWordBoundaries:function(k,l){var i={left:-1,right:1},n=k.nodeValue,j,m;
if(!n||(this.isCharEmptyOrWhiteSpace(n.charAt(l))||this.isCharEmptyOrWhiteSpace(n.charAt(l-1)))){return{right:l,left:l};
}j=this.getBoundary(l,n,i.left),m=this.getBoundary(l,n,i.right);
return{right:m,left:j};
},getBoundary:function(k,m,i){var l=k<=0||k>=m.length;
if(m.charAt(k)===" "){var j=i<0?1:0;
return k+j;
}if(l){return k;
}k+=i;
return this.getBoundary(k,m,i);
},getNextTextNode:function(j){if(!j){return null;
}var i=j.nextSibling;
while(i&&!h.isTextNode(i)&&(i.firstChild||i.nextSibling)){if(i.firstChild){i=i.firstChild;
}else{if(i.nextSibling){i=i.nextSibling;
}}}return i?i:j;
},getFirstTextNodeOrSame:function(j){var i=j.firstChild;
while(i&&i.firstChild&&!h.isTextNode(i)){i=i.firstChild;
}return h.isTextNode(i)?i:j;
},removeFormat:function(m){var i=this,j=i.get_editor();
if(i.emptyRange){var n=b.DomRange.rangeFromWindow(j.get_contentWindow()),l=i.findFormattedAncestor(n.startContainer);
if(!l||!i.isSameFormatNode(l)){return;
}if(i.isRangeAtEnd(n,l)){var o=h.isTextNode(n.startContainer)?n.startContainer.parentNode:n.startContainer,p=i.createMarker(),k=p.cloneNode(true);
o.appendChild(p);
o.appendChild(k);
i.removeFormat_extract(l,p,k);
}else{i.persistRangeThroughParent(l);
i.removeNodeFormatting(l);
}}else{i.removeFormat_fragments(m);
}},removeFormat_fragments:function(k){var i=this;
while(k.length){var j=k.shift();
if(!j.isEmpty()){i.removeFormat_fragment(j);
}}},isRangeAtEnd:function(k,j){var l=k.startContainer,m=k.startOffset,i=this._isZeroWidthTextNode(l)?true:h.isTextNode(l)?m==l.length:m==l.childNodes.length;
while(i&&h.isAncestorOf(j,l)){while(i&&l.nextSibling){l=l.nextSibling;
i=h.isEmptyDom(l);
}l=l.parentNode;
if(h.isBlockElement(l)){break;
}}return i;
},removeFormat_fragment:function(l){var i=this;
i.cleanUpFormat(l);
var m=l.getParent();
var k=i.findFormattedAncestor(m);
if(k&&i.isSameFormatNode(k)&&!h.isEditorContentArea(k)){var j=i.getFragmentEdges(l);
i.removeFormat_extract(k,j.first,j.last);
}},getFragmentEdges:function(j){var l=j.nodes,i=l[0],k=l[l.length-1];
if(this.isMarker(i.previousSibling)){i=i.previousSibling;
}if(this.isMarker(k.nextSibling)){k=k.nextSibling;
}return{first:i,last:k};
},removeFormat_extract:function(k,j,l){var i=this;
if(h.isBlockElement(k)){i.removeBlockElementFormat(k,j,l);
}else{i.extractFormatting(k,j,l);
i.removeNodeFormatting(k);
i.removeEmptyNode(k);
}},removeBlockElementFormat:function(k,j,m){var i=this;
i._setEnabledChangeFormatTracking(false);
i.removeNodeFormatting(k);
i.removeSameFormatChildren(k);
i._setEnabledChangeFormatTracking(true);
i.formatInlineChildren(k);
var l=i.findFormattedAncestor(j);
if(l){i.removeFormat_extract(l,j,m);
}},formatInlineChildren:function(l){var i=l.firstChild;
var j=this;
while(i){if(h.isBlockElement(i)){j.formatInlineChildren(i);
}else{var m=j._getNextInlineSiblings(i);
var k=j._formatNodes(m);
i=k||i;
}i=i.nextSibling;
}},_getNextInlineSiblings:function(j){var i=[j];
var k=j.nextSibling;
while(k&&!h.isBlockElement(k)){i.push(k);
k=k.nextSibling;
}return i;
},_formatNodes:function(n){var k=false;
var j;
for(var l=0;
l<n.length;
l++){var m=n[l];
k=!(h.isTextNode(m)&&h.isTextNodeEmpty(m));
if(k){break;
}}if(k){j=this.createInlineNode();
a(j).insertAfter(n[n.length-1]);
while(n.length){j.appendChild(n.shift());
}}return j;
},extractFormatting:function(k,j,m){var l=k.parentNode;
var i=new b.DomTreeExtractor(k);
var n=i.extractBefore(j);
var p=i.extractAfter(m);
var o=h.cloneNodeClean(k);
var q=h.cloneNodeClean(k);
q.appendChild(p);
o.appendChild(n);
if(!h.isNodeEmptyRecursive(o,true)){l.insertBefore(o,k);
}if(!h.isNodeEmptyRecursive(q,true)){l.insertBefore(q,k.nextSibling);
}},removeNodeFormatting:function(k){var l=this;
l.removeNodeCssFormatting(k);
if(l.isSameTagFormat(k)){k=h.replaceNode(k,"span");
}if(!l.isNodeStyled(k)&&!h.hasAttributes(k)&&h.isTag(k,"span")){for(var j=0;
j<k.childNodes.length;
j++){if(!l.isMarker(k.childNodes[j])){l.trackChangedNode({node:k.childNodes[j]});
}}h.removeNode(k);
}else{l.trackChangedNode({node:k});
}},removeNodeCssFormatting:function(j){var i=this;
if(!i.isSameCssFormat(j)){return;
}i.removeCommandFormattingValue(j);
i._removeEmptyStyles(j);
i.trackChangedNode({node:j});
},removeCommandFormattingValue:function(j){var i=this.settings;
j.style[i.cssName]=j.style[i.cssName].replace(i.cssValue,"").trim();
},_removeEmptyStyles:function(j){var k=j.style;
if($telerik.isIE7||$telerik.isIE8){var i=k.cssText+";";
k.cssText=i.replace(/((font-family)|(color)|(text-decoration)):\s*;/gi,"");
}if(/^\s*$/.test(k.cssText)){j.removeAttribute("style");
}},formatFragments:function(l){var i=this;
var n=i.getEditorRange();
if(l.length==0){var j=i.getSingleFormatNode(n);
var m;
if(j){m=i.createInlineNode();
if(m.nodeName==j.nodeName){i.formatNode(j);
i.trackChangedNode({node:j});
i.setCursorInInlineNode(j,n);
}else{m=i.insertSingleFormatNode(n);
i.setCursorInInlineNode(m,n);
}}else{if(!i.hasSameFormatting()){m=i.insertSingleFormatNode(n);
i.setCursorInInlineNode(m,n);
}}}while(l.length){var k=l.shift();
i.cleanUpFormat(k);
if(!i.isEmptyInlineFragment(k)){i.formatFragment(k);
}}},isCharEmptyOrWhiteSpace:function(i){if(!i){return true;
}return/\s/g.test(i)||i.charCodeAt(0)==g;
},isEmptyInlineFragment:function(i){return i.all(c);
},hasSameFormatting:function(){return false;
},getSingleFormatNode:function(k){var i=this;
var j=i._getCommonContainer(k);
if(i._isZeroWidthTextNode(j)&&j.parentNode.childNodes.length==1){return j.parentNode;
}if(h.isTextNode(j)&&j.length==k.startOffset&&j.nextSibling&&/^[\u200b]?$/.test(j.nextSibling.innerHTML)){return j.nextSibling;
}},insertSingleFormatNode:function(n){var i=this,l=i.createInlineNode(),j=i._getCommonContainer(n);
if(i._isZeroWidthTextNode(j)){j.parentNode.insertBefore(l,j);
l.appendChild(j);
}else{n.insertNode(l);
var m=l.previousSibling;
var k=l.nextSibling;
if(h.isTextNode(m)&&m.length==0){m.parentNode.removeChild(m);
}if(h.isTextNode(k)&&k.length==0){k.parentNode.removeChild(k);
}}i.trackChangedNode({node:l});
return l;
},_getCommonContainer:function(j){var i=j.commonAncestorContainer;
return !h.isTextNode(i)&&i.childNodes[j.startOffset-1]?i.childNodes[j.startOffset-1]:i;
},_isZeroWidthTextNode:function(i){return h.isTextNode(i)&&/^[\u200b]+$/.test(i.nodeValue);
},formatFragment:function(k){var i;
if(this.isSameFormat(k)){if(this.formattedNode&&this.isParentCommon(k.getParent(),this.formattedNode)){var j=k.getParent();
k.clear();
k.addAll(j.childNodes);
k.appendTo(this.formattedNode);
j.parentNode.removeChild(j);
}}else{if(!this.isEmptyInlineFragment(k)){i=this.formattedNode=this.createInlineNode();
k.insertBeforeFirst(i);
k.appendTo(i);
this.trackChangedNode({node:i});
}}},formatNode:function(i){if(i.style&&this.settings.cssName){i.style[this.settings.cssName]=this.settings.cssValue;
}},createInlineNode:function(){var i=this.get_window().document,j=this.settings,l=!j.tag,k=i.createElement(j.tag||"span");
if(l){k.style[j.cssName]=j.cssValue;
}return k;
},traverseFragments:function(j){var i=this;
if(!j){j=i.getEditorRange();
}var k=new b.RangeFragmentsTraverser(j);
k.traverseFragments(a.proxy(i.traverseCondition,i));
return k.traversedFragments;
},traverseCondition:function(k){var i=this;
var j=i.get_editor().get_enableImmutableElements()&&h.isImmutableNode(k);
return !j&&i.shouldCollectNode(k);
},shouldCollectNode:function(i){return b.FragmentsCondition.isInlineNode(i)&&!h._isContentAreaLastBr(i)&&!h.isWhitespaceBetweenTableCells(i);
},storeRangeByFragments:function(k){var i=this;
if(k.length){var j=k[0];
var l=k[k.length-1];
i.startMarker=i.createMarker();
i.endMarker=i.startMarker.cloneNode(true);
j.insertBeforeFirst(i.startMarker);
l.appendNodeAfter(i.endMarker);
}else{i.storeRange();
}},storeRange:function(j){var i=j||this.getEditorRange();
this.rangeMemento=new b.DomRangeMemento(i);
},persistRangeThroughParent:function(k){var j=this.rangeMemento;
if(j){var i=h.findNodeIndex(k);
if(j.startContainer==k){j.startContainer=k.parentNode;
j.startOffset+=i;
}if(j.endContainer==k){j.endContainer=k.parentNode;
j.endOffset+=i;
}}},restoreRange:function(){var o=this.range;
var m=a("."+e,this.get_editor().get_contentArea());
var i=new b.Consolidator();
if(m.length){var k=m[0],n=k.nextSibling,l=m[1];
if((h.isTextNode(n)&&h.isTextNodeEmpty(n)&&l.previousSibling===n)||(k===l.previousSibling)){a(l).remove();
this.restoreCollapsedRange(k);
}else{if(!i.normalizeTextEdge(k,o,true)){if(this.isSameFormatNode(k.nextSibling)){o.setStart(k.nextSibling,0);
}else{o.setStartAfter(m[0]);
}}if(!i.normalizeTextEdge(l,o,false)){if(this.isSameFormatNode(l.previousSibling)){o.setEnd(l.previousSibling,l.previousSibling.childNodes.length);
}else{o.setEndBefore(m[1]);
}}o.select();
}m.remove();
}else{try{if(this.rangeMemento){this.rangeMemento.restoreToRange(this.getEditorRange());
}}catch(j){}}},restoreCollapsedRange:function(l){var p=this.range;
var j=this.get_editor();
var n=l.parentNode;
var i=new b.Consolidator();
j.setActive();
j.setFocus();
var o=l.previousSibling;
var m=l.nextSibling;
if(i.normalizeTextEdge(l,p)){p.collapse();
}else{if(h.isTextNode(o)){p.setEnd(o,o.length);
p.collapse();
}else{if(!$telerik.isSafari&&h.isTextNode(m)){p.setStart(m,0);
p.collapse(true);
}else{var k=j.nodesTracker.createTrackedNode();
n.insertBefore(k,l);
p.setEnd(k,1);
p.collapse();
}}}p.select();
},consolidate:function(k){var i=new b.Consolidator(),j=this.getContentElement();
i.consolidateMarkedEdges(j);
i.normalize(k?k.commonAncestorContainer:j);
},getEditorRange:function(){return b.DomRange.toDomRange(this.get_editor().getSelection().getRange(true));
},getContentElement:function(){return this.get_editor().get_contentArea();
},removeEmptyNode:function(i){if(h.isNodeEmptyRecursive(i)&&!h.hasAttributes(i)&&i.parentNode){i.parentNode.removeChild(i);
}},cleanUpFormat:function(k){var j=this;
j.cleanUpFragment=k;
var n=k.nodes;
for(var l=n.length-1;
l>=0;
l--){var m=n[l];
if(!j._shouldCleanUpNode(m)){continue;
}j.removeSameFormatChildren(m);
j.removeSameFormat(m,l);
}},_shouldCleanUpNode:function(i){return !h.isTextNode(i)&&!this.isMarker(i);
},removeSameFormatChildren:function(j){var i=this;
var k=i.getSameFormatChildren(j);
while(k.length){i.removeSameFormat(k.shift());
}},getSameFormatChildren:function(l){var m=[];
if(this.settings.tag){m=a.makeArray(l.getElementsByTagName(this.settings.tag));
}else{var j=this.settings.altTags;
for(var k=0;
k<j.length;
k++){m=m.concat(a.makeArray(l.getElementsByTagName(j[k])));
}}m=m.concat(a.makeArray(l.getElementsByTagName("span")));
return m;
},removeSameFormat:function(o,m){var p=this;
if(p.isSameFormatNode(o)){if(!isNaN(m)&&p.shouldRemoveNode(o)){p.cleanUpFragment.removeNodeAt(m);
var l=o.childNodes;
for(var n=l.length-1;
n>=0;
n--){var k=l[n];
p.cleanUpFragment.addNodeAt(k,m);
}}p.removeNodeFormatting(o);
}},shouldRemoveNode:function(){return true;
},findFormattedAncestor:function(k){if(this.isSameFormatNode(k)){return k;
}var l=this._editor?this._editor.get_contentArea():this.findBody(k);
var i=Function.createDelegate(this,function(m){return this.isSameFormatNode(m)||h.isEditorContentArea(m);
});
var j=h.findAncestorBy(l,k,i);
return j===l?null:j;
},findBody:function(j){var i=j.ownerDocument;
return i.getElementsByTagName("body")[0];
},isSameFormat:function(i){var j=i.getParent();
return this.isSameFormatNode(j);
},isSameFormatNode:function(i){return this.isSameTagFormat(i)||this.isSameCssFormat(i);
},isSameTagFormat:function(i){return(h.isTag(i,this.settings.tag)||this.isAltTagFormat(i))&&(!i.className||this.isTrackChangesNode(i));
},isAltTagFormat:function(k){var l=this.settings.altTags;
if(!l||!l.length){return false;
}for(var j=0;
j<l.length;
j++){if(h.isTag(k,l[j])){return h.isTag(k,"font")?this.isFormattingFont(k):true;
}}return false;
},isSameCssFormat:function(j){var k=this.settings,i=k.cssName,l=k.cssValue;
return i&&l&&j.style&&j.style[i].indexOf(l)>-1;
},isNodeStyled:function(i){return i.style.cssText!="";
},isParentCommon:function(i,j){return i&&j&&i.parentNode&&i.parentNode==j.parentNode;
},isMarker:function(i){return i&&(i===this.startMarker||i===this.endMarker||i.className==e);
},isMarkerOrEmptyTextNode:function(i){return i.className==e||(h.isTextNode(i)&&h.isTextNodeEmpty(i));
},getMarkersCssClass:function(){return e;
},createMarker:function(){var i=this.get_editor().get_document();
var j=i.createElement("span");
j.className=e;
j.innerHTML="&nbsp;";
return j;
},isFormattingFont:function(i){return h.isTag(i,"font")&&(this.hasStyle(i,this.settings.cssName)||this.hasAttribute(i,this.settings.altTagAttr));
},hasStyle:function(j,i){return i&&!!j.style[i];
},hasAttribute:function(j,i){return i&&j.hasAttribute?j.hasAttribute(i):!!j.getAttribute(i);
},setCursorInInlineNode:function(k,l){var i=this;
var j=i.get_editor();
if(!i._isZeroWidthTextNode(k.firstChild)){k.innerHTML="&#x200b;";
j.whitespaceTracker.trackNode(k.firstChild);
}j.setActive();
j.setFocus();
l.setStart(k,1);
l.setEnd(k,1);
l.collapse();
l.select();
i.rangeChanged=true;
},isTrackChangesNode:function(i){return !!b.TrackChangesUtils&&b.TrackChangesUtils.isTrackChangeElement(i);
},extractTrackedAncestor:function(k){var i=this;
if(!i.get_editor().shouldTrackChanges()){return;
}var l=b.TrackChangesUtils;
var m=l.getTrackedAncestor(k.getParent());
if(m){var j=i.getFragmentEdges(k);
i.extractFormatting(m,j.first,j.last);
a(m).find("*").addBack().filter(function(n,o){return l.isTrackChangeElement(o);
}).each(function(n,o){i.trackChangedNode({node:o,commandName:l.getTrackChangesCommand(o),overrideTracking:true});
});
}}};
b.InlineCommand.registerClass("Telerik.Web.UI.Editor.InlineCommand",b.CommandBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,d,c){b.InlineCommandWithValue=function(f,e,g){b.InlineCommandWithValue.initializeBase(this,[f,e,g]);
};
b.InlineCommandWithValue.prototype={shouldRemoveFormatting:function(){return !this.options.commandValue;
},getState:function(g,e,f){return b.CommandStates.Off;
},getValue:function(j,i){if(!i||!this.settings.enableToolStateValue){return;
}if(!i.isCollapsed()){i.normalizeEdges();
}var f=this.settings.cssName,g=i.startContainer,h=i.startOffset,e;
if(d.isTextNode(g)){g=g.parentNode;
}else{if((e=g.childNodes)&&e[h]&&!d.isTextNode(e[h])){g=e[h];
}}return $telerik.getComputedStyle(g,f)||$telerik.getComputedStyle(g,this.getAltCssName(f));
},getCurrentStyle:function(h,f){if(!h||d.isTextNode(h)){return null;
}var g;
f=f||this.settings.cssName;
if(d.isTag(h,"font")&&this.settings.altTagAttr&&this.hasAttribute(h,this.settings.altTagAttr)){g=h.getAttribute(this.settings.altTagAttr);
}if(h.style[f]){g=h.style[f];
}else{var e=this.getAltCssName(f);
if(h.style[e]){g=h.style[e];
}}return g;
},getAltCssName:function(f){var e=f;
if(f.indexOf("-")!=-1){e=f.replace(/-([a-z])/gi,function(h,g){return g.toUpperCase();
});
}else{if(/^[a-zA-Z]+$/.test(f)){e=f.replace(/([A-Z])/g,function(h,g){return"-"+g.toLowerCase();
});
}}return e;
},hasSameFormattingValue:function(g,e){if(!this.options.commandValue){return false;
}e=e||this.settings.cssName;
var f=this.getCurrentStyle(g,e);
if(!f){return false;
}if(/color/i.test(e)&&/^rgb/i.test(f)){f=d._rgbToHex(f);
}if(/size/i.test(e)){if(/px$/i.test(this.options.commandValue)&&!/px$/i.test(f)){f=$telerik.getComputedStyle(g,this.getAltCssName(e))||f;
if(!/px$/i.test(f)){f+="px";
}}}return f.replace(/[;'"]/g,"").toLowerCase()==this.options.commandValue.replace(/[;'"]/g,"").toLowerCase();
},formatFragment:function(f){var e;
var k=f.getParent();
var l=this.findSameFormattedAncestor(k);
if(l&&this.hasSameFormattingValue(l)){return;
}if(this.shouldFormatParentNode(f)){this.formatNode(l||k,true);
}else{for(var g=0;
g<f.nodes.length;
g++){var h=f.nodes[g];
if(this.isMarker(h)||this.hasSameFormatting(h)){continue;
}if(d.isTag(h,"font")){this.formatFont(h);
}else{var j=this.settings.tag||"SPAN";
if(h.nodeName==j&&!h.parentNode.style[this.settings.cssName]){this.formatNode(h);
}else{if(h.parentNode.nodeName==j&&this.getNodesTextContent([h])==this.getNodesTextContent([h.parentNode])){this.formatNode(h.parentNode);
}else{e=this.createInlineNode();
f.insertBeforeFirst(e);
f.appendTo(e);
}}}}}},findSameFormattedAncestor:function(g){if(this.getCurrentStyle(g,this.settings.cssName)){return g;
}var e=this._editor.get_contentArea();
if(g.parentNode==e){return null;
}var f=Function.createDelegate(this,function(i){return !!this.getCurrentStyle(i,this.settings.cssName);
});
var h=d.findAncestorBy(e,g,f);
if(!this.getCurrentStyle(h,this.settings.cssName)){return null;
}return h;
},createInlineNode:function(){var e=this.get_window().document,g=this.settings.tag,f=e.createElement(g||"span");
if(!g){f.style[this.settings.cssName]=this.options.commandValue;
}return f;
},shouldFormatParentNode:function(e){var g=e.getParent();
if(d.isBlockElement(g)){return false;
}g=this.findFormattedAncestor(g);
var f=d.isTag(g,"span")||d.isTag(g,"font");
return this.collapsedRange||(f&&this.getNodesTextContent(g.childNodes)==this.getNodesTextContent(e.nodes));
},getNodesTextContent:function(g){var e="",h;
for(var f=0;
f<g.length;
f++){h=d.isTextNode(g[f])?g[f].nodeValue:d.getTextContent(g[f]);
e+=h?h:"";
}return e.replace(/[\n\s]+/gm,"");
},formatNode:function(f,e){if(d.isTag(f,"font")){this.formatFont(f,e);
if(!d.isTag(f,"span")){d.replaceNode(f,"span");
}}else{if(f.style&&this.settings.cssName){f.style[this.settings.cssName]=this.options.commandValue;
}}},formatFont:function(e,f){this.removeNodeFormatting(e,f);
if(this.settings.cssName){e.style[this.settings.cssName]=this.options.commandValue;
}},removeNodeFormatting:function(h,g){var k=this,f=k.isSameTagFormat(h);
k.removeNodeCssFormatting(h);
if(k.isFormattingFont(h)){k.removeFontFormatting(h);
}if(!g&&f&&!d.isTag(h,"span")){var j=h;
h=d.replaceNode(h,"span");
if(this.cleanUpFragment){this.cleanUpFragment.nodes[Array.indexOf(this.cleanUpFragment.nodes,j)]=h;
}}if(!g&&!k.isNodeStyled(h)&&!d.hasAttributes(h)&&d.isTag(h,"span")){for(var e=0;
e<h.childNodes.length;
e++){if(!k.isMarker(h.childNodes[e])){k.trackChangedNode({node:h.childNodes[e]});
}}d.removeNode(h);
}else{k.trackChangedNode({node:h});
}},removeFontFormatting:function(e){if(this.hasStyle(e,this.settings.cssName)){e.style[this.settings.cssName]="";
}if(this.hasAttribute(e,this.settings.altTagAttr)){e.removeAttribute(this.settings.altTagAttr);
}},shouldRemoveNode:function(g){if(!d.isTag(g,"font")){return !(g.style&&g.style.length>1);
}if(!d.hasAttributes(g)){return true;
}var h=[];
var e=function(i){if(!i){return;
}i=i.toLowerCase();
if(Array.indexOf(h,i)==-1){h.push(i);
}};
if(g.getAttribute("face")){e("font-family");
}if(g.getAttribute("color")){e("color");
}if(g.getAttribute("size")){e("size");
}if(g.style){for(var f=0;
f<g.style.length;
f++){e(g.style[f]);
}}if(h.length<2){return true;
}return false;
},removeCommandFormattingValue:function(e){e.style[this.settings.cssName]="";
},hasSameFormatting:function(f){if(!f){var g=this.getEditorRange();
f=d.isTextNode(g.commonAncestorContainer)?g.commonAncestorContainer.parentNode:g.commonAncestorContainer;
}if(this.hasSameFormattingValue(f)){return true;
}var e=this.findSameFormattedAncestor(f);
if(!e){return false;
}return this.hasSameFormattingValue(e);
},isSameCssFormat:function(e){return this.settings.cssName&&e.style&&!!e.style[this.settings.cssName];
}};
b.InlineCommandWithValue.registerClass("Telerik.Web.UI.Editor.InlineCommandWithValue",b.InlineCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,h,g){var d="textAlign";
var e="verticalAlign";
b.AlignCommand=function(i,j){this._trackValign=!!j.valign;
j=a.extend({align:"none",valign:"none",title:"Align",isSuitableNode:f},j||{});
b.AlignCommand.initializeBase(this,[i,j]);
};
b.AlignCommand.prototype={getState:function(s,i,p){var n=b.CommandStates.On;
var m=b.CommandStates.Off;
var o=p||b.DomRange.rangeFromWindow(s);
var j=this._getAlignValue();
var k=this._getValignValue();
var l=this.getCssState(o,d,j);
var q=this._trackValign?this.getCssState(o,e,k):n;
return(l==n&&q==n)?n:m;
},getNodeState:function(l,i,j){if(this.nodes.length==1&&h.isTag(l,"img")){i=this._getCssFloatName();
var m=this.options;
if((m.align!="left"||m.align!="right"||m.align!="none")&&!l.style[i]){var k=this.getBlockContainer(l);
if(k&&k!=l){l=k;
i=d;
}}}return b.AlignCommand.callBaseMethod(this,"getNodeState",[l,i,j]);
},getEmptySuitableListState:function(){return this.options.align=="none"&&!this._trackValign;
},topLimitCondition:function(j,i){return h.isEditorContentArea(j)||h.isTag(i,"img");
},executeOnNode:function(l,k){if(h.isTag(l,"table")){return this.executeDomCommand(a(l).children("thead,tbody").children("tr").get());
}if(h.isTag(l,"tr")){return this.executeDomCommand(a(l).children("td").get());
}if(h.isTag(l,"ul")||h.isTag(l,"ol")){return this.executeDomCommand(a.makeArray(l.children));
}if(h.isTag(l,"img")){if(this.nodes.length==0&&this.canAlignImage()){if(this.options.align=="none"){this.hAlignBlock(this.getBlockContainer(l));
}return this.alignImage(l);
}else{this.removeImageAlign(l);
var i=this.getBlockTagContainer(l);
if(i){return this.executeOnNode(i);
}var j=this.getBlockContainer(l);
if(j!=l){this.executeOnNode(j);
}else{return this.executeInlineNode(l);
}}}this.alignBlock(l,k);
},alignBlock:function(j,i){this.hAlignBlock(j,i);
this.vAlignBlock(j,i);
},hAlignBlock:function(j,i){this._alignBlock(j,d,this._getAlignValue(),i);
},vAlignBlock:function(j,i){this._alignBlock(j,e,this._getValignValue(),i);
},_alignBlock:function(j,l,m,i){if(!j){return;
}var k=j.style[l];
j.style[l]=m;
this.trackChangedNode({node:j,cssProperty:l,originalValue:k,isWrapper:i});
},alignImage:function(k){var i=this._getAlignValue(),j=this._getCssFloatName();
var l=k.style[j];
k.style[j]=i;
this.trackChangedNode({node:k,cssProperty:j,originalValue:l});
},getBlockTagContainer:function(k){var l=k.parentNode;
var i=this.get_editor().get_contentAreaElement();
while(l){if(h.isBlockElement(l)){var j=h.isTag(l,this.options.blockTag)&&l!=i;
return(j)?l:null;
}l=l.parentNode;
}return null;
},getBlockContainer:function(i){var j=[i];
this.traverser.edgesToBlock(j,function(k){return h.isEditorContentArea(k);
});
return j[0];
},canAlignImage:function(){var i=this.options.align;
return i=="left"||i=="right"||i=="none";
},removeImageAlign:function(i){i.style[this._getCssFloatName()]="";
},_getAlignValue:function(i){return c(this.options.align);
},_getValignValue:function(i){return c(this.options.valign);
},_getCssFloatName:function(){return $telerik.isIE&&!$telerik.isIE10Mode?"styleFloat":"cssFloat";
}};
b.AlignCommand.registerClass("Telerik.Web.UI.Editor.AlignCommand",b.DomBlockCommandBase);
function f(i){return h.isBlockElement(i)||h.isTag(i,"img");
}function c(i){return i==="none"?"":i;
}})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI.Editor;
var d=b.Utils;
b.ApplyClass=function(f,h){if(h.commandValue){var e=(!h.tag)?new b.ApplyClassInline(f,h):new b.ApplyClassByContext(f,h);
return e;
}var g=this.options=a.extend({window:f?f.get_contentWindow():c,title:"Apply Class",canUnexecute:c},h||{});
b.ApplyClass.initializeBase(this,[g.title,g.window,g.canUnexecute,f]);
h.tag="";
this._applyClassInline=new b.ApplyClassInline(f,h);
};
b.ApplyClass.prototype={onExecute:function(){this._applyClassInline.onExecute();
var m=this.get_editor().getDomRange();
var n=new b.RangeFragmentsTraverser(m);
n.traverseFragments(function(){return true;
});
var f=n.traversedFragments;
for(var g=0;
g<f.length;
g++){var e=f[g];
var l=e.nodes;
for(var h=0;
h<l.length;
h++){var k=l[h];
if(!d.isTextNode(k)&&k.className){this.removeClassNameInNode(k);
}}if(this.fragmentParentIsSelected(e)){e.getParent().className="";
}}return true;
},fragmentParentIsSelected:function(g){var j=g.getParent();
var i=g.nodes;
var h=i.length;
var e=false;
if(h>0){e=j.firstChild&&j.firstChild==i[0]&&j.lastChild==i[h-1];
if(!e&&j.tagName=="OL"||j.tagName=="UL"){var f=true;
a("li",j).each(function(k,l){if(!g.contains(l)){f=false;
return false;
}});
e=f;
}}return e;
},removeClassNameInNode:function(g){if(typeof(g.className)!="undefined"){g.className="";
}var e=g.childNodes;
if(e){for(var f=0;
f<e.length-1;
f++){this.removeClassNameInNode(e[f]);
}}}};
b.ApplyClass.registerClass("Telerik.Web.UI.Editor.ApplyClass",b.CommandBase);
})($telerik.$);
(function(a,d){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI.Editor;
var e=Telerik.Web.UI.Editor.Utils;
var b=Function.createDelegate;
c.ApplyClassByContext=function(f,g){g=a.extend({tag:"div",addClass:false,isSuitableNode:b(this,this.isSuitableNode)},g||{});
c.ApplyClassByContext.initializeBase(this,[f,g]);
};
c.ApplyClassByContext.prototype={getState:function(){return c.CommandStates.Off;
},collectElements:function(i){var f=[];
if(i){var l=this.options.commandValue;
var g=i.commonAncestorContainer;
var k=this._getSuitableAncestor(g);
if(k&&l){f=[k];
}else{if(!l){var j=c.RangeEdges.commonNode(i);
var h=e.isTextNode(j);
if(!h&&!e.isBlockElement(j)){return[j];
}else{if(!this.topLimitCondition(g)){f.push(g);
}}}f=f.concat(c.ApplyClassByContext.callBaseMethod(this,"collectElements",[i]));
}}return f;
},_getSuitableAncestor:function(f){if(!f){return null;
}var i=Function.createDelegate(this,this.topLimitCondition);
var g=Function.createDelegate(this,this.isSuitableNode);
var h=i(f)?null:e.getConditionalParentUntil(f,g,i);
return h;
},executeOnNode:function(f){var g=this.options,h=g.tag;
if(e.isTag(f,h)||!g.commandValue){this._applyClassFormatting(f,g.commandValue);
}if(this.shouldExecuteOnDescendants()){this.executeOnDescendants(f);
}},executeOnDescendants:function(k){var l=this.options.tag||"*";
var g=k.getElementsByTagName(l);
for(var j=0;
j<g.length;
j++){var f=g[j];
var m=f.tagName;
var h=!(l=="*"&&(m=="FONT"||m=="SPAN"));
if(h){this._applyClassFormatting(g[j],this.options.commandValue);
}}},executeInlineNode:function(f){},isSuitableNode:function(g){var h=this.options,j=h.commandValue,i=h.tag.toLowerCase(),f=this.shouldExecuteOnDescendants()&&a(i,g).length>0;
return(!j&&!e.isTextNode(g))||e.isTag(g,i)||f;
},shouldExecuteOnDescendants:function(){var f=this.options.tag.toLowerCase();
return !e.isBlockTag(f);
},_applyClassFormatting:function(g,f){if(!f||!this.options.addClass){e.setElementClassName(g,f);
}else{a(g).addClass(f);
}}};
c.ApplyClassByContext.registerClass("Telerik.Web.UI.Editor.ApplyClassByContext",c.DomBlockCommandBase);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI.Editor;
var d=Telerik.Web.UI.Editor.Utils;
b.ApplyClassInline=function(e,f){f=a.extend({title:"Apply Classs Inline",addClass:false},f||{});
b.ApplyClassInline.initializeBase(this,[e,b.InlineCommandSettings.ApplyClassInline,f]);
};
b.ApplyClassInline.prototype={formatFragment:function(f){var e;
var k=f.getParent();
var l=this.findSameFormattedAncestor(k);
if(l){return;
}for(var g=0;
g<f.nodes.length;
g++){var h=f.nodes[g];
if(this.isMarker(h)||this.hasSameFormatting(h)){continue;
}var j=this.settings.tag||"SPAN";
if(h.nodeName==j&&h.className!=this.options.commandValue){this.formatNode(h);
}else{if(h.parentNode.nodeName==j&&this.getNodesTextContent([h])==this.getNodesTextContent([h.parentNode])){this.formatNode(h.parentNode);
}else{e=this.createInlineNode();
f.insertBeforeFirst(e);
f.appendTo(e);
}}}},formatNode:function(f,e){this._applyClassFormatting(f,this.options.commandValue);
},findSameFormattedAncestor:function(i){var f=this,j=null;
if(f.hasSameFormattingValue(i)){return i;
}var h=this._editor.get_contentArea();
if(i.parentNode==h){return null;
}var g=this.options.commandValue;
var e=i.className&&this.options.addClass?i.className+" "+g:g;
j=d.findAncestorBy(h,i,function(k){return k.className==e;
});
return j===h?null:j;
},isSameFormatNode:function(e){return e&&(e.tagName=="SPAN"||e.tagName=="FONT")&&this.hasSameFormattingValue(e);
},hasSameFormattingValue:function(f){var e=this.options.commandValue;
if(e&&f){return e==f.className;
}else{if(f){return !!f.className;
}}return false;
},removeCommandFormattingValue:function(e){d.setElementClassName(e,"");
},removeSameFormat:function(k,g){var l=this;
if(l.isSameFormatNode(k)){if(!isNaN(g)&&l.shouldRemoveNode(k)){l.cleanUpFragment.removeNodeAt(g);
var f=k.childNodes;
for(var h=f.length-1;
h>=0;
h--){var e=f[h];
l.cleanUpFragment.addNodeAt(e,g);
}}l.removeNodeFormatting(k);
}},findFormattedAncestor:function(g){if(this.isSameFormatNode(g)){return g;
}var h=this._editor?this._editor.get_contentArea():this.findBody(g);
var e=Function.createDelegate(this,function(i){return this.isSameFormatNode(i)||d.isEditorContentArea(i);
});
var f=d.findAncestorBy(h,g,e);
return f===h?null:f;
},removeNodeFormatting:function(f){var g=this;
if(g.isAltTag(f)){f=d.replaceNode(f,"span");
}d.setElementClassName(f,"");
if(!g.isNodeStyled(f)&&!d.hasAttributes(f)&&d.isTag(f,"span")){for(var e=0;
e<f.childNodes.length;
e++){if(!g.isMarker(f.childNodes[e])){g.trackChangedNode({node:f.childNodes[e]});
}}d.removeNode(f);
}else{g.trackChangedNode({node:f});
}},isAltTag:function(f){var g=this.settings.altTags;
for(var e=0;
e<g.length;
e++){if(d.isTag(f,g[e])){return true;
}}return false;
},createInlineNode:function(){var e=this,f=e.get_window().document,g=e.settings,h=f.createElement(g.tag||"span");
e._applyClassFormatting(h,e.options.commandValue);
return h;
},isGreedy:function(){var e=b.ApplyClassInline.callBaseMethod(this,"isGreedy",[]);
return e&&this.options.commandValue;
},_applyClassFormatting:function(f,e){if(!e||!this.options.addClass){d.setElementClassName(f,e);
}else{a(f).addClass(e);
}}};
b.ApplyClassInline.registerClass("Telerik.Web.UI.Editor.ApplyClassInline",b.InlineCommandWithValue);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){function d(f){return b.InlineCommandSettings[f];
}function c(i){var f=i+"Command",j="Telerik.Web.UI.Editor."+f,h=d(i);
h.commandName=i;
var g=b[f]=function(l,m){var k=b[h.commandName]?b[h.commandName]:h.hasValue?b.InlineCommandWithValue:b.InlineCommand;
return new k(l,h,m);
};
g.registerClass(j);
}b.InlineCommandSettings={Bold:{tag:"strong",altTags:["b"],cssName:"fontWeight",cssValue:"bold"},Italic:{tag:"em",altTags:["i"],cssName:"fontStyle",cssValue:"italic"},Underline:{altTags:["u"],cssName:"textDecoration",cssValue:"underline"},StrikeThrough:{tag:"del",altTags:["strike"],cssName:"textDecoration",cssValue:"line-through"},Subscript:{tag:"sub",altTags:[]},Superscript:{tag:"sup",altTags:[]},ForeColor:{altTags:["font"],cssName:"color",altTagAttr:"color",hasValue:true},BackColor:{altTags:["font"],cssName:"backgroundColor",hasValue:true},FontName:{altTags:["font"],cssName:"fontFamily",altTagAttr:"face",enableToolStateValue:true,hasValue:true},RealFontSize:{altTags:["font"],cssName:"fontSize",altTagAttr:"size",enableToolStateValue:true,hasValue:true},ApplyClassInline:{altTags:["font"],enableToolStateValue:true,hasValue:true},TrackChangesInsert:{tag:"ins",isNotGreedy:true},TrackChangesDelete:{tag:"del",isNotGreedy:true,altTags:[]},TrackChangesRemoveFormat:{isNotGreedy:true}};
c("Bold");
c("Italic");
c("Underline");
c("StrikeThrough");
c("Subscript");
c("Superscript");
c("ForeColor");
c("BackColor");
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,m){Type.registerNamespace("Telerik.Web.UI.Editor");
var d=Telerik.Web.UI.Editor;
var n=d.Utils;
var l=".__telerik_marker";
var h="&nbsp;";
d.DeleteSelectionCommand=function(q,v,t){var p=this;
var u=a.extend({complete:false},v||{});
var r=a.extend({title:"Delete"},t||{});
d.DeleteSelectionCommand.initializeBase(p,[q,u,r]);
p.settings.isNotGreedy=true;
};
d.DeleteSelectionCommand.prototype={executeInlineCommand:function(){var o=this,u=o.range=o.getEditorRange(),r=o.get_editor();
var s=o.traverseFragments(u);
var t;
if(s.length){t=s[s.length-1].getParent();
}o.emptyRange=u.toString()=="";
o.storeRangeByFragments(s);
o.rangeChanged=false;
o.formatFragments(s);
o.fireFormattingChanged();
var p=c(),q=r.get_contentArea();
p.consolidateMarkedEdges(q);
p.normalize(u.commonAncestorContainer);
this.cleanUpEmptyContent(t);
o.restoreRange();
return true;
},formatFragments:function(s){var o=this;
if(s.length===0){return;
}var r=o.get_editor();
var q=r.get_contentArea();
while(s.length){this.formatFragment(s.shift());
}var p=c();
p.stichMarkedEdges(q);
},formatFragment:function(p){var o=this;
Array.forEach(p.nodes,function(q){o.deleteNodeContent(q);
});
},getStateByRange:function(p,o){if(!p){return d.CommandStates.Disabled;
}return p.isCollapsed()||(o&&o.nodesTracker.isTracked(p.commonAncestorContainer))?d.CommandStates.Disabled:d.CommandStates.Off;
},deleteNodeContent:function(o){if(n.isTag(o,"td")){n.removeChildren(o);
o.innerHTML=h;
}else{j(o);
}},cleanUpEmptyContent:function(v){var p=this.get_editor();
var o=p.get_contentArea();
var y=this.settings;
k(o);
while(v&&v!==o&&n.isNodeEmptyRecursive(v,true)){var w=v;
if(g(w)){this.deleteNodeContent(w);
break;
}v=w.parentNode;
if(v){j(w);
}}if(y.complete){var q=e(o)[0];
var r=q.parentNode;
var x;
var u=function(s){return n.isTag(r,s);
};
var t=function(s){return r.getElementsByTagName(s).length>0;
};
while(r&&r!==o&&!u("td")&&!u("th")&&(!u("li")||f(r))&&(r.childNodes.length==1||((u("tbody")||u("table"))&&!t("tr"))||(n.isList(r)&&!t("li")))){x=r;
r=r.parentNode;
if(r){r.insertBefore(q,x);
j(x);
}}}},shouldCollectNode:function(q){var o=this.get_editor().get_contentArea();
var p=function(r){return n.isTag(q,r);
};
return(q!==o)&&!p("tr")&&!p("tbody");
},restoreRange:function(){var o=e(this.get_editor().get_contentArea());
if(o.length){this.restoreCollapsedRange(o[0]);
o.remove();
}}};
function b(s,t){var p=d.NodeComparer;
var q=n.isBlockElement;
var r=n.isList;
var u=i(s)&&i(t);
var o=(q(s)&&q(t));
var v=(r(s)===r(t));
return s&&t&&u&&((o&&v)||p.equalNodes(s,t));
}function c(){return new d.Consolidator({nodeCompare:b});
}function j(o){o.parentNode.removeChild(o);
}function k(o){var p=e(o);
if(p.length>1){j(p[1]);
}}function f(o){var p=o.parentNode;
return p.getElementsByTagName("li").length==1;
}function e(o){return a(o).find(l);
}function i(p){var o=n.isTag;
return !(o(p,"table")||o(p,"tr")||g(p));
}function g(o){return n.isTag(o,"td")||n.isTag(o,"th");
}d.DeleteSelectionCommand.registerClass("Telerik.Web.UI.Editor.DeleteSelectionCommand",d.InlineCommand);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI.Editor;
b.FindReplaceCommand=function(e){var d=e?["",e.get_contentWindow(),false,e]:[];
b.FindReplaceCommand.initializeBase(this,d);
};
b.FindReplaceCommand.prototype={onExecute:function(){var d=this.get_editor();
var e=d.findReplaceManager;
if(!e){return false;
}e.toggle();
return true;
},getState:function(f,d){var e=this.isOn(d);
return e?b.CommandStates.On:b.CommandStates.Off;
},isOn:function(d){var e=d.findReplaceManager;
return e&&e.isVisible();
}};
b.FindReplaceCommand.registerClass("Telerik.Web.UI.Editor.FindReplaceCommand",b.CommandBase);
})($telerik.$);
(function(a,b,d,c){b.FontName=function(e,f){b.FontName.initializeBase(this,[e,b.InlineCommandSettings.FontName,f]);
};
b.FontName.prototype={getValue:function(k,h){var j=b.FontName.callBaseMethod(this,"getValue",[k,h]),e=this.get_editor(),f=(e&&j)?e.get_fontNames():[];
for(var g=0;
g<f.length;
g++){if(f[g].toLowerCase()==j.toLowerCase()){j=f[g];
break;
}}return j;
}};
b.FontName.registerClass("Telerik.Web.UI.Editor.FontName",b.InlineCommandWithValue);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,d){var e=b.Utils;
var c="TELERIK_formatPainterContentWrapper";
b.FormatPainterCommand=function(g,f,i){var h=a.extend({title:"Format Painter"},i||{});
b.FormatPainterCommand.initializeBase(this,[g,f,h]);
};
b.FormatPainterCommand.prototype={formatFragments:function(h){var f=this;
var i=h.length&&f.settings.formatting?f._createFormattingTree():d;
while(h.length&&i){var g=h.shift();
if(!f.isEmptyInlineFragment(g)){f.formatFragment(g,i);
}}},formatFragment:function(k,i){var f=this;
var l=i.cloneNode(true);
var g=a(l).find("span."+c).removeClass(c).get(0);
k.insertBeforeFirst(l);
k.appendTo(g);
var m=l.parentNode;
if(e.isBlockElement(l)&&e.isBlockElement(m)){if(l.nodeName==m.nodeName||e.isBlockComponent(l)){e.removeNode(l);
}else{if(!e.isBlockComponent(m)&&e.isHeading(l)){if(f.isMarker(l.previousSibling)){k.insertBeforeFirst(l.previousSibling);
}if(f.isMarker(l.nextSibling)){k.appendNodeAfter(l.nextSibling);
}f.extractFormatting(m,l,l);
e.removeNode(m);
}else{if(e.isHeading(m)||e.isBlockComponent(m)){e.removeNode(l);
}}}}var j=f.settings.formatting;
var n=j&&j.computedStyles?j.computedStyles:{};
var o=g;
var h=f._getStyleDifferences(o,n);
if(h){a(o).css(h);
}else{e.removeNode(o);
}},_getStyleDifferences:function(k,i){var f;
var g=$telerik.getComputedStyle;
for(var j in i){var l=g(k,j);
var h=i[j];
if(l!=h){if(!f){f={};
}f[j]=h;
}}return f;
},_createFormattingTree:function(){var f=this;
var n=f.settings.formatting;
var l=n&&n.elements?n.elements:[];
var k=f.get_editor().get_document();
var g=k.createElement("div");
var j=g;
for(var p=l.length-1;
p>=0;
p--){var m=l[p];
var o=k.createElement(m.nodeName);
f._setAttributes(o,m);
j.appendChild(o);
j=o;
}var h=k.createElement("span");
h.className=c;
j.appendChild(h);
return g.firstChild;
},_attributes:["class","style","size","color","face"],_setAttributes:function(g,f){Array.forEach(this._attributes,function(h){if(f[h]){g.setAttribute(h,f[h]);
}});
},getState:function(){return b.CommandStates.Off;
}};
b.FormatPainterCommand.registerClass("Telerik.Web.UI.Editor.FormatPainterCommand",b.InlineCommand);
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,o){Type.registerNamespace("Telerik.Web.UI.Editor");
var d=Telerik.Web.UI.Editor;
var p=d.Utils;
var b=Sys.UI.DomElement.addCssClass;
var k=Sys.UI.DomElement.removeCssClass;
var i=/^(?:dl|ol|table|tbody|thead|tr|ul)$/i;
var j=Telerik.Web.Platform;
var l="__reTextHighlight";
var h="__reNodeHighlight";
var g="__reHighlightMarker";
var c="reAndroid";
var e="reIOS";
var q="reWindowsPhone";
d.HighlightCommand=function(r,t){var s=a.extend({title:"Highlight",window:r?r.get_contentWindow():o});
d.HighlightCommand.initializeBase(this,[s.title,s.window,false,r]);
};
d.HighlightCommand.prototype={highlight:function(){var r=this;
var s=r.get_editor();
var u=s.getDomRange();
var t=[];
if(!u){return;
}t=r.traverseFragments(u);
if(!t.length){r.startMarker=this.createMarker();
u.insertNode(r.startMarker);
}else{r.storeRangeByFragments(t);
r.highlightFragments(t);
}},remove:function(){var r=this;
r.removeHighlight();
r.restoreRange();
},removeHighlight:function(){var r=this.getHighlightContainer();
this.removeTextHighlight(r);
this.removeNodesHighlight(r);
},removeTextHighlight:function(r){var s=a(r).find(m(l));
s.each(function(){p.removeNode(this);
});
},removeNodesHighlight:function(r){var s=a(r).find(m(h));
s.removeClass(function(){k(this,h);
if(this.className==""){this.removeAttribute("class");
}});
},highlightFragments:function(s){var r=this;
Array.forEach(s,function(t){r.highlightFragment(t);
});
},highlightFragment:function(s){var r=this;
var t=s.nodes;
Array.forEach(t,function(u){r.highlightNode(u);
});
},highlightNode:function(s){var r=this;
if(p.isTextNode(s)){return this.highlightText(s);
}else{r._addPlatformSpecificDecoration(s);
b(s,h);
}},highlightText:function(w){var r=this;
var v=w.parentNode;
if(f(v)){return;
}var t=this.get_editor();
var s=t.get_document();
var u=s.createElement("span");
r._addPlatformSpecificDecoration(u);
b(u,l);
v.insertBefore(u,w);
u.appendChild(w);
},traverseFragments:function(r){var s=new d.RangeFragmentsTraverser(r);
s.traverseFragments(n);
return s.traversedFragments;
},storeRangeByFragments:function(t){var r=this;
var s=t[0];
var u=t[t.length-1];
r.startMarker=r.createMarker();
r.endMarker=r.startMarker.cloneNode(true);
s.insertBeforeFirst(r.startMarker);
u.appendNodeAfter(r.endMarker);
},restoreRange:function(){var r=this;
var t=this.get_editor();
var u=this.getMarkers();
var s=new d.Consolidator();
if(u.length===0){return;
}if(r.isCollapsedHighlight()){this.restoreCollapsedRange(r.startMarker);
}else{var v=t.getDomRange()||d.DomRange.createRange(t.get_document());
if(!s.normalizeTextEdge(u[0],v,true)){v.setStartBefore(u[0]);
u.first().remove();
}if(!s.normalizeTextEdge(u[1],v,false)){v.setEndBefore(u[1]);
}v.select();
}u.remove();
r.reset();
},restoreCollapsedRange:function(u){var s=this.get_editor();
var y=s.getDomRange();
var w=u.parentNode;
var r=new d.Consolidator();
var x=u.previousSibling;
var v=u.nextSibling;
if(r.normalizeTextEdge(u,y)){y.collapse();
}else{if(p.isTextNode(x)){y.setEnd(x,x.length);
y.collapse();
}else{if(!$telerik.isSafari&&p.isTextNode(v)){y.setStart(v,0);
y.collapse(true);
}else{var t=s.nodesTracker.createTrackedNode();
w.insertBefore(t,u);
y.setEnd(t,1);
y.collapse();
}}}y.select();
},reset:function(){this.range=o;
this.startMarker=o;
this.endMarker=o;
},getHighlightContainer:function(){var r=this.getMarkers();
if(r.length==1){return r.parent()[0];
}else{return p.findCommonAncestor(r[0],r[1]);
}},getMarkers:function(){var r=this;
var s=a(r.startMarker);
if(r.endMarker){s=s.add(r.endMarker);
}return s;
},createMarker:function(){var r=this;
var s=this.get_editor().get_document();
var t=s.createElement("span");
r._addPlatformSpecificDecoration(t);
b(t,g);
return t;
},isCollapsedHighlight:function(){return !this.endMarker;
},_addPlatformSpecificDecoration:function(r){if(j.android){b(r,c);
}else{if(j.ios){b(r,e);
}else{if(j.windowsphone){b(r,q);
}}}}};
d.HighlightCommand.registerClass("Telerik.Web.UI.Editor.HighlightCommand",d.CommandBase);
function n(){return true;
}function m(r){return"."+r;
}function f(r){return p.checkForElement(r,i);
}})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,f,e){var c=f.isTag;
b.IndentCommand=function(g,h){h=a.extend({step:40},h||{});
b.IndentCommand.initializeBase(this,[g,h]);
this.nodes=[];
this.cssIndentRule=this.isRTL()?"marginRight":"marginLeft";
};
b.IndentCommand.prototype={topLimitCondition:function(g){return g==this.get_editorContentArea()||f.isTag(g,"td");
},isSuitableNode:function(g){return f.isBlockElement(g);
},executeOnNode:function(h,g){if(c(h,"li")){this.indentList(h);
}else{if(!this.innerList||!f.isList(h)){this.indentBlock(h,g);
}}},executeInlineNode:function(g){if(f.isTextNode(g)&&!f.isWhitespaceNode(g)){var h=this.get_editor().get_contentArea();
var i=f.findAncestorByTag(h,g,"li");
if(i&&i!==h){return this.executeOnNode(i);
}}b.IndentCommand.callBaseMethod(this,"executeInlineNode",[g]);
},getState:function(){return b.CommandStates.Off;
},innerList:null,indentedList:null,indentList:function(g){if(f.isAncestorOf(this.indentedList,g)){return;
}if(this.isFirstListItem(g)){if(!f.isAncestorOf(this.innerList,g)){this.indentedList=g.parentNode;
this.indentBlock(this.indentedList);
}}else{this.trackChangedNode({node:g});
var h=this.indentSublist(g);
this.addToSublist(g,h);
if(this.nodes.length===0){var i=this.findExistingInnerList(g);
if(i){d(i,this.innerList);
}}}},indentSublist:function(i){var h=a(i);
var j=h.prev();
var k=false;
this.innerList=this.findExistingInnerList(j[0]);
if(!this.innerList){var l=this.findExistingInnerList(i);
if(l){this.innerList=l;
j.append(this.innerList);
k=true;
}else{var g=this.get_editor().get_document();
this.innerList=g.createElement(i.parentNode.tagName);
j.append(this.innerList);
}}return k;
},addToSublist:function(i,g){var h=this.innerList;
if(g){h.insertBefore(i,h.getElementsByTagName("li")[0]);
}else{h.appendChild(i);
}},findExistingInnerList:function(g){return a(g).children("ol,ul").last()[0];
},isFirstListItem:function(h){var g=h.parentNode;
return g.getElementsByTagName("li")[0]==h;
},indentBlock:function(g,h){if(f.isTag(g,"td")){return this.executeDomCommand(a.makeArray(g.childNodes));
}var i=g.style[this.cssIndentRule];
g.style[this.cssIndentRule]=this.calculateIndent(g)+"px";
this.trackChangedNode({node:g,cssProperty:this.cssIndentRule,originalValue:i,isWrapper:h});
},calculateIndent:function(h){var g=parseInt(h.style[this.cssIndentRule],10)||0;
g+=this.options.step;
return g;
},cleanUp:function(){this.innerList=this.indentedList=null;
b.IndentCommand.callBaseMethod(this,"cleanUp");
}};
b.IndentCommand.registerClass("Telerik.Web.UI.Editor.IndentCommand",b.DomBlockCommandBase);
function d(g,i){if(!g||!i){return;
}var h=a(g);
a(i).append(h.children("li"));
h.remove();
}})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,b,e){var d="__telerik_marker";
var f=b.Utils;
b.InsertLinkCommand=function(n,m,o,j){b.InsertLinkCommand.initializeBase(this,[n,m,true,j]);
this.utils=b.Utils;
this.linkProperties={};
if(o){var h=o.attributes;
for(var k=0,l=h.length;
k<l;
k++){var g=h[k].name;
this.linkProperties[g]=o.getAttribute(g);
}a.extend(this.linkProperties,{id:o.getAttribute("id"),href:o.getAttribute("href",2),target:o.target,title:o.title,className:o.className,name:o.name,innerHTML:o.childNodes.length==1&&this.utils.isTextNode(o.firstChild)?o.innerHTML:""});
}};
b.InsertLinkCommand.prototype={onExecute:function(){if(this.executeOverFragments()){return true;
}var g=this.getCurrentFormattedAncestor();
if(g){var h=this.getRange();
h.selectNodeContents(g);
h.select();
return this.executeOverFragments();
}else{return this.insertSingleLink();
}},executeOverFragments:function(){var g=this.traverseFragments();
if(g.length){this.storeRangeByFragments(g);
var h=this.insertLinkByFragments(g);
this.restoreRange();
return h;
}},insertLinkByFragments:function(j){for(var k=0;
k<j.length;
k++){var h=j[k];
var m=h.getParent();
var g=this.findFormattedAncestor(m);
var n=!!g;
var l=n?this.applyLinkProperties(g):this.createLink();
if(!n){h.insertBeforeFirst(l);
if(this.linkProperties.innerHTML){h.remove();
}else{h.appendTo(l);
}}if(!this.stripIfEmpty(l)){this.raiseDomChangeEvent(l);
}}return true;
},insertSingleLink:function(){var h=this.getRange();
h.collapse(true);
var g=this.createLink();
h.insertNode(g);
h.selectNode(g);
h.select();
this.raiseDomChangeEvent(g);
return true;
},createLink:function(){var i=this.linkProperties;
var g=this.get_window().document;
var h=g.createElement(($telerik.isIE&&!$telerik.isIE9Mode)&&i.name?"<a name='"+i.name+"'>":"a");
return this.applyLinkProperties(h);
},applyLinkProperties:function(g){var i=this.linkProperties;
for(var h in i){this._applyDomProperty(g,h,i[h]);
}return g;
},getCurrentFormattedAncestor:function(){var g=this.getRange(),h=g.getParentElement();
return this.findFormattedAncestor(h);
},findFormattedAncestor:function(i){var g=this.get_editor().get_contentArea();
if(this.utils.isTag(i,"a")){return i;
}else{var h=this.utils.findAncestorByTag(g,i,"a");
return h==g?null:h;
}},raiseDomChangeEvent:function(j){var i=this.get_editor();
var h=this.get_title();
var g=new c.EditorCommandEventArgs(h,null,j);
i._executeCommandEvent("domChange",h,g);
},_applyDomProperty:function(h,i,j){if(j){if(i=="innerHTML"||i=="className"||i=="spellcheck"){if(j!=h[i]){h[i]=j;
}}else{h.setAttribute(i,j,2);
}}else{var g=this.resolveAttributeName(i);
if(g){h.removeAttribute(g);
}}},resolveAttributeName:function(g){return g=="className"?"class":g=="innerHTML"?null:g;
},stripIfEmpty:function(g){g.normalize();
if(this.utils.isWhitespaceNode(g)){g.parentNode.removeChild(g);
return true;
}else{if(g.innerHTML.toLowerCase()=="<br>"){this.utils.removeNode(g);
return true;
}}return false;
},traverseFragments:function(){var g=this.getRange();
var i=new Telerik.Web.UI.Editor.RangeFragmentsTraverser(g);
var h=this._getTraverseCondition();
i.traverseFragments(h);
return i.traversedFragments;
},_getTraverseCondition:function(){var i=$telerik.isIE&&!$telerik.isIE10Mode,h=this.get_editor().get_enableImmutableElements(),g;
if(!h){g=i?b.FragmentsCondition.inlineNotLinkForIE8:b.FragmentsCondition.inlineNotLink;
}else{if(i){g=function(j){return b.FragmentsCondition.inlineNotLinkForIE8(j)&&!b.Utils.isImmutableNode(j);
};
}else{g=function(j){return b.FragmentsCondition.inlineNotLink(j)&&!b.Utils.isImmutableNode(j);
};
}}return g;
},storeRangeByFragments:function(i){var g=this;
if(i.length===0){return;
}var h=i[0];
var j=i[i.length-1];
g.startMarker=g.createMarker();
g.endMarker=g.startMarker.cloneNode(true);
h.insertBeforeFirst(g.startMarker);
j.appendNodeAfter(g.endMarker);
},restoreRange:function(){var l=this.getRange();
var j=a("."+d,this.get_editor().get_contentArea());
var g=new b.Consolidator();
if(j.length==0){return;
}var h=j[0],k=h.nextSibling,i=j[1];
if((f.isTextNode(k)&&f.isTextNodeEmpty(k)&&i.previousSibling===k)||(h===i.previousSibling)){a(i).remove();
this.restoreCollapsedRange(h);
}else{if(!g.normalizeTextEdge(h,l,true)){l.setStartAfter(j[0]);
}if(!g.normalizeTextEdge(i,l,false)){l.setEndBefore(j[1]);
}l.select();
}j.remove();
},getRange:function(){return Telerik.Web.UI.Editor.DomRange.toDomRange(this.get_editor().getSelection().getRange(true));
},createMarker:function(){var g=this.get_editor().get_document();
var h=g.createElement("span");
h.className=d;
h.innerHTML="&nbsp;";
return h;
}};
b.InsertLinkCommand.registerClass("Telerik.Web.UI.Editor.InsertLinkCommand",b.CommandBase);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor);
(function(a,b,i,h){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Function.createDelegate;
var g=i.isTag;
var f=function(j){return i.isBlockElement(j)&&!g(j,"table");
};
b.InsertListCmd=function(j,k){k=a.extend({listType:"ul",title:"InsertUnorderedList",noDuplicateNodeEdges:true,isSuitableNode:f},k||{});
b.InsertListCmd.initializeBase(this,[j,k]);
};
b.InsertListCmd.prototype={executeDomCommand:function(k){this.isListOn=this.getNodesState(k);
if(k.length==1){var j=k[0];
if(!j){return this.insertEmptyList();
}else{if(this.shouldReplaceWithEmptyList(j)){j.parentNode.removeChild(j);
return this.insertEmptyList();
}}}b.InsertListCmd.callBaseMethod(this,"executeDomCommand",[k]);
},isSuitableNode:f,executeOnNode:function(o,k){if(this.isList(o)){this.changeSublists(o);
var l=d(o);
if(this.insertedList){return this.executeDomCommand(l);
}else{return this.clone(l).executeDomCommand(l);
}}if(i.isTableCell(o)){return this.executeInlineNode(i.firstTextChild(o));
}if(i.isTag(o,"li")){var n=o.parentNode;
if(this.insertedList&&this.insertedList!=n){if(this.isSameListType(n)){this.addWholeList(n);
}else{if(this.isInSubList(o)){var q=this.extractTraversedListDescendants(o,n);
var j=this.clone(q);
j.executeDomCommand(q);
}else{this.changeSublists(o);
this.insertedList.appendChild(o);
this.removeEmptyList(n);
}}}if(!this.insertedList){if(this.isListOn){this.removeListItem(o);
}else{if(this.isSameListType(n)){this.insertedList=n;
}else{this.replaceListItem(o);
}}}}else{if(!this.insertedList){this.insertedList=this.insertNewListBefore(o);
}var p=o.nodeName;
var m=this.replaceNodeRangeSafe(o,"li");
this.insertedList.appendChild(m);
this.trackChangedNode({node:m,originalNodeName:p,isWrapper:k});
}},executeInlineNode:function(k){var j=i.isTableCell(k);
if(j){k=i.firstTextChild(k);
}if(i.isTextNode(k)&&!i.isWhitespaceNode(k)){var l=this.get_editor().get_contentArea();
var m=i.findAncestorByTag(l,k,"li");
if(m&&m!==l){return this.executeOnNode(m);
}}b.InsertListCmd.callBaseMethod(this,"executeInlineNode",[k,j]);
},shouldReplaceWithEmptyList:function(j){var k=function(l){return i.isTag(j,l);
};
return !this.isListOn&&i.isEmptyDom(j)&&!k("img")&&!k("li")&&!k("td")&&!this.isList(j);
},transformListItem:function(o,q){var m=o.parentNode;
var n=m.parentNode;
var l=d(m);
var p=Array.indexOf(l,o);
var k=l.length;
if(p>0&&p<k-1){this.splitList(m,l.splice(p+1,k-p));
}var j=q(o);
n.insertBefore(j,(p==0?m:m.nextSibling));
this.trackChangedNode(a.extend(this.trackChangedNodeArgs||{},{nodeIndex:p,itemsCount:k}));
this.trackChangedNodeArgs=null;
this.removeEmptyList(m);
},replaceListItem:function(j){this.transformListItem(j,c(this,function(n){var m=n.parentNode,k=d(m),l=k.length,o=Array.indexOf(a.makeArray(k),n);
this.insertedList=this.cloneList(m);
this.insertedList.appendChild(n);
this.trackChangedNodeArgs={node:this.insertedList,itemIndex:o,itemsCount:l,parentNode:m};
return this.insertedList;
}));
},removeListItem:function(j){this.transformListItem(j,c(this,function(o){var n=o.parentNode,k=d(n),m=k.length,p=Array.indexOf(a.makeArray(k),o);
var q=o.nodeName;
var l=this.replaceNodeRangeSafe(o,this.options.blockTag);
this._copyIndent(n,l);
this.trackChangedNodeArgs={node:l,originalNodeName:q,itemIndex:p,itemsCount:m,parentNode:n};
return l;
}));
},splitList:function(k,m){var l=this.insertNewListAfter(k,k.tagName);
this._copyIndent(k,l);
for(var j=0;
j<m.length;
j++){l.appendChild(m[j]);
}return l;
},getState:function(l,j,k){return this.getCssState(k);
},getNodeState:function(k){var j=i.isTag(k,"li")?k.parentNode:k;
return this.isSameListType(j);
},addWholeList:function(j){var k=d(j);
while(k.length){this.insertedList.appendChild(k.shift());
}this.removeEmptyList(j);
},insertNewListBefore:function(k){var j=this.createList(this.options.listType);
k.parentNode.insertBefore(j,k);
return j;
},insertNewListAfter:function(l,m){var k=m||this.options.listType;
var j=this.createList(k);
l.parentNode.insertBefore(j,l.nextSibling);
return j;
},createList:function(k){var l=k||this.options.listType;
var j=this.get_window().document;
return j.createElement(l);
},cloneList:function(k){var j=this.createList();
$telerik.mergeElementAttributes(k,j);
return j;
},insertEmptyList:function(){var j=this.get_window().document;
var m=this.getEditorRange();
var l=j.createElement(this.options.listType);
var k=j.createElement("li");
l.appendChild(k);
this.trackChangedNode({node:l,isEmptyList:true});
m.insertNode(l);
m.setCursorInEmptyNode(k);
this.rangeMemento=null;
},replaceNodeRangeSafe:function(j,l){var k=i.replaceNode(j,l,false);
this.rememberNewSelectedNode(j,k);
return k;
},createListItemWithContent_rangeSafe:function(j){var k=this.get_window().document,l=k.createElement("li");
while(j.childNodes.length){l.appendChild(j.firstChild);
}return l;
},removeEmptyList:function(j){if(j.getElementsByTagName("li").length==0&&j.parentNode){j.parentNode.removeChild(j);
this.rememberNewSelectedNode(j,this.insertedList);
}},changeSublists:function(p){var j=this;
var q=j.nodes;
if(q.length&&i.isAncestorOf(p,q[0])){return;
}var k=j.getCounterListType();
var r=e(p);
for(var m=0;
m<r.length;
m++){var n=r[0];
j.extractTraversedListDescendants(p,n);
if(g(n,k)){var o=j.clone([n]);
o.executeOnNode(n);
}}},isInSubList:function(k){var j=k.parentNode;
var l=this.get_editor().get_contentArea();
if(!this.isList(j)){return false;
}var m=i.findAncestorBy(l,j,c(this,this.isList));
return this.isList(m)&&(!this.insertedList||this.insertedList.nextSibling!==j);
},isList:function(j){return i.isList(j);
},isSameListType:function(j){return i.isTag(j,this.options.listType);
},extractTraversedListDescendants:function(l,k){var m=this.nodes;
var n=[l];
var j=function(o){return i.isAncestorOf(k,o);
};
while(m.length&&j(m[0])){n.push(m.shift());
}return n;
},getCounterListType:function(){return this.options.listType==="ul"?"ol":"ul";
},cleanUp:function(){this.insertedList=null;
b.InsertListCmd.callBaseMethod(this,"cleanUp");
this.insertAll=null;
},clone:function(k){var j=new b.InsertListCmd(this.get_editor(),this.options);
if(k){j.nodes=k;
}j.rangeMemento=this.rangeMemento;
return j;
},_copyIndent:function(m,j){var k=this.isRTL()?"marginRight":"marginLeft";
var l=m.style[k];
if(l){j.style[k]=l;
}}};
b.InsertListCmd.registerClass("Telerik.Web.UI.Editor.InsertListCmd",b.DomBlockCommandBase);
function e(j){return a(j).find("ol,ul");
}function d(j){return a(j).children().get();
}})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,d,c){b.InsertParagraphCommand=function(f,g){var e=this;
e.options=a.extend({tag:"p",retainOriginalNodeName:true,insertParagraphAfterHeading:false,title:"InsertParagraph"},g||{});
b.InsertParagraphCommand.initializeBase(e,[f,e.options]);
e.cursorCssClass="_TELERIK_InsertParagraph";
e.container=null;
e.newContainer=null;
e.doc=f.get_document();
};
b.InsertParagraphCommand.prototype={onExecute:function(){var e=this;
e.on({nodeInserted:e._nodeInsertedHandler},e);
try{return e.executeDomCommand();
}catch(g){var f=e.get_editor().get_contentArea();
a("."+e.cursorCssClass,f).remove();
}e.off({nodeInserted:e._nodeInsertedHandler},e);
return false;
},executeDomCommand:function(){var e=this,i=e.get_editor();
var k=e.range=i.getSelection().getRange(true);
if(!k||(k.parentElement&&k.parentElement().nodeName=="TEXTAREA")||(k.commonAncestorContainer&&d.isTag(k.commonAncestorContainer.childNodes[k.startOffset],"textarea"))){return false;
}var h=e.domRange=b.DomRange.toDomRange(k);
if(h.commonAncestorContainer&&h.commonAncestorContainer.nodeName&&/^table|tr$/i.test(h.commonAncestorContainer.nodeName)){return false;
}if(e.isOnlyListSelected()){return e.executeOverList();
}if(i._fireDeleteSelectionCmd(false)){k=e.range=i.getSelection().getRange(true);
h=e.domRange=b.DomRange.toDomRange(k);
}var g=e.createCursorElement();
e.insertNode(g);
e.clearTrackedNodesAroundCursor(g);
var f=e.wrapInlineElements(g);
var j=e.extractFrom(g,f);
j=e.ensureNewLineMode(j);
e.newContainer=j;
e._fireNodeInserted(j,g);
e._ensureContainerNotEmpty(f);
e._removeParentEmptyLink(e._prevCursorParent,f);
e.setCursor(j,g);
d.scrollTo(j,i);
if($telerik.isIE7&&i.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){d._toggleElementZoom(j);
}return true;
},extractFrom:function(g,f){var e=this,h=e.doc.createTextNode("\u00A0");
a(h).insertBefore(g);
var i=new b.DomTreeExtractor(f);
var k=i.extractAfter(h);
var j=f.cloneNode(true);
a(j).insertAfter(f);
d.removeChildren(j);
j.appendChild(k);
e._prevCursorParent=h.parentNode;
a(h).remove();
return j;
},clearTrackedNodesAroundCursor:function(e){var f=this.get_editor();
var g=f.nodesTracker;
g.removeTrackedNode(e.previousSibling);
g.removeTrackedNode(e.nextSibling);
},executeOverList:function(){var e=this,f=e.domRange,g=f.commonAncestorContainer,h=e.doc.createElement(e.options.tag);
h.innerHTML="&nbsp;";
a(h).insertAfter(g);
a(g).remove();
f.setCursorInEmptyNode(h);
return true;
},createCursorElement:function(){var e=this,f=e.doc.createElement("span");
f.innerHTML="&nbsp;";
a(f).addClass(e.cursorCssClass);
return f;
},insertNode:function(f){var e=this,g=e.range;
if(g.insertNode){g.insertNode(f);
}else{e.domRange.insertNode(f);
}if(e._isEmptyTextNode(f.previousSibling)){a(f.previousSibling).remove();
}if(e._isEmptyTextNode(f.nextSibling)){a(f.nextSibling).remove();
}},_isEmptyTextNode:function(e){return d.isTextNode(e)&&d.isTextNodeEmpty(e);
},fixListsAroundCursor:function(h,f){var e=this,i=e.getParentList(h.startContainer),g=e.getParentList(h.endContainer);
if(i){e.removeNonLiElements(i);
}if(g){e.removeNonLiElements(g);
}if(f.parentNode&&(d.isTag(f.parentNode,"ol")||d.isTag(f.parentNode,"ul"))){e.fixListItems(f);
}},regExpWhiteSpace:/^[\s\t\r\n\u200b\u00a0]*$/,ensureNewLineMode:function(f){var e=this,g=e.get_editor().get_newLineMode(),i=e.options,j=e.regExpWhiteSpace,h="p",k="";
h=g==Telerik.Web.UI.EditorNewLineModes.Div?"div":h;
if(!i.retainOriginalNodeName&&!e.container){k=d.getTextContent(f).replace(j,"");
if(g==Telerik.Web.UI.EditorNewLineModes.P&&!d.isTag(f,"p")&&k==""){f=d.replaceNode(f,"p");
}else{if(g==Telerik.Web.UI.EditorNewLineModes.Div&&!d.isTag(f,"div")&&k==""){f=d.replaceNode(f,"div");
}}}if(i.insertParagraphAfterHeading){k=d.getTextContent(f).replace(j,"");
if(/^h[1-6]$/i.test(f.nodeName)&&k==""){f=d.replaceNode(f,h);
}}return f;
},isOnlyListSelected:function(){var e=this,f=e.domRange;
if(!f.commonAncestorContainer){return false;
}if(!d.isTag(f.commonAncestorContainer,"ol")&&!d.isTag(f.commonAncestorContainer,"ul")){return false;
}var g=f.commonAncestorContainer;
if(e.isFirstLiSelected(g,f.startContainer)&&e.isLastLiSelected(g,f.endContainer)){return true;
}},getParentList:function(f){if(d.isTextNode(f)){f=f.parentNode;
}var e=d.getElementParentByTag(f,"OL");
if(!e){e=d.getElementParentByTag(f,"UL");
}return e;
},isLastLiSelected:function(h,i){var f=d.isTextNode(i)?i.parentNode:i;
var g=d.isTag(f,"li")?f:d.getElementParentByTag(f,"li");
if(!g){return false;
}if(!a(g).is(h.children[h.children.length-1])){return false;
}var e=i;
while(!a(e).is(g)){if(e.nextSibling){return false;
}e=e.parentNode;
}return true;
},isFirstLiSelected:function(g,h){var i=d.isTextNode(h)?h.parentNode:h;
var f=d.isTag(i,"li")?i:d.getElementParentByTag(i,"li");
if(!f){return false;
}if(!a(f).is(g.children[0])){return false;
}var e=h;
while(!a(e).is(f)){if(e.previousSibling){return false;
}e=e.parentNode;
}return true;
},wrapInlineElements:function(g){var e=this,h=e.doc;
if(e.container&&a(e.container).find(g).length>0){e._trimElements(e.container,g);
return e.container;
}var f=e.getBlockContainer(g);
if(!d.isBlockElement(f)){a(f).wrap(h.createElement(e.options.tag));
f=f.parentNode;
e.prependPreviousSiblings(f);
e.insertNextSiblings(f);
}e._trimElements(f,g);
return f;
},_trimElements:function(f,g){var e=this;
e.fixListsAroundCursor(e.domRange,g);
var k=a(f).find("ol,ul");
for(var j=0;
j<k.length;
j++){e.trimElementNeighbours(k[j]);
}if(k.length>0){e.trimElementNeighbours(g);
}var h=g.parentNode,l=g.nextSibling;
if($telerik.isIE&&!$telerik.isIE9Mode){e._removeWhiteSpaceTextNode(g.previousSibling);
e._removeWhiteSpaceTextNode(l);
}else{if(h.lastChild===l&&d.isTag(l,"br")){h.removeChild(l);
}}},_removeWhiteSpaceTextNode:function(e){if(d.isTextNode(e)&&this.regExpWhiteSpace.test(e.nodeValue)){e.parentNode.removeChild(e);
}},trimElementNeighbours:function(e){d.trimElementNeighbours(e);
},prependPreviousSiblings:function(e){var f=e.previousSibling;
while(f&&!d.isBlockElement(f)){e.insertBefore(f,e.firstChild);
f=e.previousSibling;
}},insertNextSiblings:function(e){var f=e.nextSibling;
while(f&&!d.isBlockElement(f)&&!d._isContentAreaLastBr(f)){e.appendChild(f);
f=e.nextSibling;
}},getBlockContainer:function(f){var e=f;
var g=f.parentNode;
while(g){if(d.isEditorContentArea(g)){return e;
}if(d.isBlockElement(g)){if(g.nodeName&&/^table|tr|td$/i.test(g.nodeName)){return e;
}else{return g;
}}e=g;
g=g.parentNode;
}return e;
},_ensureContainerNotEmpty:function(f){var e=this;
var g=e._prevCursorParent;
if(d.isNodeEmptyRecursive(f)){g.appendChild(e.get_editor().nodesTracker.createTrackedNode(e.doc));
}else{if(d.getTextContent(f).trim()==""){if(d.isTag(g.firstChild,"br")){g.appendChild(g.firstChild);
}}}},_removeParentEmptyLink:function(g,e){if(d.isNodeEmptyRecursive(e)){var f=d.isTag(g,"a")?g:d.findAncestorByTag(e,g,"a");
if(d.isTag(f,"a")){d.removeNode(f);
}}},setCursor:function(f,g){var e=this,h=e.get_editor(),k=d.getPreviousElement(g),i=d.getNextElement(g);
if((k&&(d.isTag(k,"ol")||d.isTag(k,"ul")))||(i&&(d.isTag(i,"ol")||d.isTag(i,"ul")))){d._setCursorAroundList(g,f,h,e.range);
}else{if(d.isNodeEmptyRecursive(g.parentNode)||d.isNodeEmptyRecursive(f)){e.setCursorInNode(g);
}else{var j=g.nextSibling;
g.parentNode.removeChild(g);
var l=e.domRange;
if(d.isTextNode(j)&&!d.isTextNodeEmpty(j)){e.setCursorInTextNode(l,j,0,0);
}else{if(j){if(!d.canHaveChildren(j)){l.setStartBefore(j);
}else{var n=h.nodesTracker;
var m=n.createTrackedNode(h.get_document());
j.parentNode.insertBefore(m,j);
return n.selectTrackedNode(l,m);
}}else{l.setStart(f,0);
}l.collapse(true);
l.select();
}}}},setCursorInNode:function(e){d._setCursor(e,this.get_editor());
},setCursorInTextNode:function(e,h,g,f){d._setCursorInTextNode(e,h,g,f);
},removeNonLiElements:function(f){for(var e=f.childNodes.length-1;
e>=0;
e--){if(!d.isTag(f.childNodes[e],"li")){a(f.childNodes[e]).remove();
}}},fixListItems:function(e){var h=e.parentNode;
for(var f=h.childNodes.length-1;
f>=0;
f--){var g=h.childNodes[f];
if(!d.isTag(g,"li")&&!a(g).is(e)){a(g).remove();
}}var n=e.previousSibling,j=e.nextSibling,l=e.parentNode,m=l.previousSibling,k=l.nextSibling;
if(n&&d.isTag(n,"li")&&n.innerHTML==""){a(e).wrap(n);
}else{if(j&&d.isTag(j,"li")&&j.innerHTML==""){a(e).wrap(j);
}}if(m&&m.innerHTML==""){a(m).remove();
}if(k&&k.innerHTML==""){a(k).remove();
}},_fireNodeInserted:function(g,h){var f=this,e=a.extendEventArgs(new Sys.EventArgs(),{cursor:h,container:g});
f.trigger("nodeInserted",e);
},_nodeInsertedHandler:function(e){var f=this,h=e.get_cursor(),g=e.get_container(),i=f._isEmptyContainer(g,h);
if(i){var j=d.getElementParentByTag(h,"A");
f._removeNode(j);
if(f.get_editor().get_enableTrackChanges()){var m=b.TrackChangesUtils,l=m.getParentTrackChangesInsertNode(h,g),k=m.getParentTrackChangesDeleteNode(h,g);
f._removeNode(l);
f._removeNode(k);
}}},_isEmptyContainer:function(e,f){var g=f.firstChild,h=g.nodeValue,j=d.isTag(e.lastChild,"br")?e.removeChild(e.lastChild):null;
g.nodeValue="";
var i=d.isNodeEmptyRecursive(e);
g.nodeValue=h;
if(j){e.appendChild(j);
}return i;
},_removeNode:function(e){if(e){d.removeNode(e);
}}};
b.InsertParagraphCommand.registerClass("Telerik.Web.UI.Editor.InsertParagraphCommand",b.DomBlockCommandBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,j){var h=a.makeArray;
var b=c.Editor;
var k=b.Utils;
var f=k.isTag;
var g="li";
b.OutdentCommand=function(l,m){m=a.extend({step:40},m||{});
b.OutdentCommand.initializeBase(this,[l,m]);
this.cssIndentRule=this.isRTL()?"marginRight":"marginLeft";
};
b.OutdentCommand.prototype={executeDomCommand:function(n){var l=this;
var m;
this.filterNodes(n);
while(n.length){m=n[n.length-1];
if(this.isSuitableNode(m)){if(f(m,g)&&l._isChildOfNonNestedList(m)){l.executeDomCommand(h(a(m).children()));
l._executeInsertListCommand(h(m));
}else{this.executeOnNode(m);
}}else{this.executeInlineNode(m);
}n.pop();
}},executeOnNode:function(m,l){if(f(m,"li")){this.outdentList(m);
}else{if(f(m,"ul")||f(m,"ol")){this.outdentWholeList(m);
}else{if(k.isBlockElement(m)){this.outdentBlock(m,l);
}}}},executeInlineNode:function(l){if(k.isTextNode(l)&&!k.isWhitespaceNode(l)){var m=this.get_editor().get_contentArea();
var n=k.findAncestorByTag(m,l,"li");
if(n&&n!==m){return this.executeOnNode(n);
}}b.OutdentCommand.callBaseMethod(this,"executeInlineNode",[l]);
},getState:function(){return b.CommandStates.Off;
},parentLiMarker:null,firstOutdentedLi:null,outdentedList:null,outdentWholeList:function(l){if(this.getCurrentIndent(l)==0){this.executeDomCommand(e(l).get());
}else{this.outdentBlock(l);
}},outdentList:function(r){var l=this;
var m=l.get_editor();
var t;
if(this.outdentedList&&k.isAncestorOf(this.outdentedList,r)){return;
}var p=r.parentNode;
var q=p.parentNode;
var o=this.isFirstListItem(r);
if(this.isIndented(p)){this.outdentBlock(p);
this.outdentedList=p;
return;
}this.parentLiMarker=q;
if(this.hasNestedLists(r)){this.outdentedList=r;
}var n=e(p).get();
var s=Array.indexOf(n,r);
var v=d(r);
if(v){this.trackListItemsRecursively(v);
}if(s>0&&s<(n.length-1)){var u=this.splitList(p,n.splice(s+1,n.length-s));
if(v){i(u,v);
}else{r.appendChild(u);
}}if(q===m.get_contentArea()){return;
}t=q.parentNode;
this.trackChangedNode(this.collectTrackData(r));
t.insertBefore(r,this.parentLiMarker.nextSibling);
if(o&&!this.isEmptyList(p)){if(!v){v=this.createList(p.tagName);
r.appendChild(v);
}i(p,v);
}this.parentLiMarker=r;
if(this.isEmptyList(p)){this.rememberNewSelectedNode(p,r);
if(p.parentNode){p.parentNode.removeChild(p);
}}},isFirstListItem:function(m){var l=m.parentNode;
return l.getElementsByTagName("li")[0]==m;
},splitList:function(m,o){var n=this.insertNewListAfter(m,m.tagName);
for(var l=0;
l<o.length;
l++){n.appendChild(o[l]);
}return n;
},insertNewListAfter:function(n,m){var l=this.createList(m);
n.parentNode.insertBefore(l,n.nextSibling);
return l;
},createList:function(m){var l=this.get_window().document;
return l.createElement(m);
},isEmptyList:function(l){return l.getElementsByTagName("li").length==0;
},hasNestedLists:function(l){return l.getElementsByTagName("ul").length>0||l.getElementsByTagName("ol").length>0;
},outdentBlock:function(l,m){if(k.isTag(l,"td")){return this.executeDomCommand(a.makeArray(l.childNodes));
}var o=this.calculateOutdent(l);
var n=l.style[this.cssIndentRule];
l.style[this.cssIndentRule]=o?o+"px":"";
this.trackChangedNode({node:l,cssProperty:this.cssIndentRule,originalValue:n,isWrapper:m});
this.cleanUp();
},calculateOutdent:function(m){var l=this.getCurrentIndent(m);
var n=Math.max(l-this.options.step,0);
return n;
},getCurrentIndent:function(l){return parseInt(l.style[this.cssIndentRule],10)||0;
},isIndented:function(l){return l.style&&this.getCurrentIndent(l)>0;
},filterNodes:function(o){for(var m=0;
m<o.length;
m++){var n=o[m];
if(!this.isSuitableNode(n)){var l=this.collectFragment(n,o);
if(this.isEmptyFragment(l)){o.splice(m,1);
m--;
}}}},trackListItemsRecursively:function(m){var l=this;
a(m).find("li").each(function(){var n=l.collectTrackData(this);
l.trackChangedNode(n);
});
},cleanUp:function(){this.firstOutdentedLi=this.outdentedList=this.parentLiMarker=null;
},_isChildOfNonNestedList:function(n){var l=this;
var m=n?n.parentNode:null;
var o=k.getBlockParent(m);
if(!f(o,g)&&!l.isIndented(m)){return true;
}else{return false;
}},_executeInsertListCommand:function(n){var o=this;
var m=n[0].parentNode.nodeName;
var l=new b.InsertListCmd(o.get_editor(),{listType:m,title:m=="UL"?"InsertUnorderedList":"InsertOrderedList"});
l.nodes=n;
l.rangeMemento=o.rangeMemento;
l.executeDomCommand(n);
if("elements" in l){var p=l.elements;
p.reverse();
o._innerCommand=l.get_title();
while(p.length){o.trackChangedNode(p.pop());
}}}};
b.OutdentCommand.registerClass("Telerik.Web.UI.Editor.OutdentCommand",b.DomBlockCommandBase);
function d(l){return a(l).children("ol,ul")[0];
}function e(l){return a(l).children("li");
}function i(m,n){if(!m||!n){return;
}var l=a(m);
a(n).append(l.children("li"));
l.remove();
}})($telerik.$,Telerik.Web.UI);
(function(a,b,d,c){b.RealFontSize=function(e,f){b.RealFontSize.initializeBase(this,[e,b.InlineCommandSettings.RealFontSize,f]);
};
b.RealFontSize.prototype={getValue:function(i,e){var h=b.RealFontSize.callBaseMethod(this,"getValue",[i,e]);
if(!h){return;
}if(/px$/i.test(h)){if(!/^[0-9]+px$/i.test(h)){h=Math.round(parseFloat(h))+"px";
}}else{if(i.getComputedStyle){var f=d.isTextNode(e.startContainer)?e.startContainer.parentNode:e.startContainer,g=i.getComputedStyle(f);
if(g&&g.fontSize&&/px$/i.test(g.fontSize)){h=Math.round(parseFloat(g.fontSize))+"px";
}}else{if(/^[1-7]$/.test(h)){h=d._fontSizesToPixels(h);
}else{if(/pt$/.test(h)){h=d._pointsToPixels(h);
}}}}return h;
}};
b.RealFontSize.registerClass("Telerik.Web.UI.Editor.RealFontSize",b.InlineCommandWithValue);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,g){var b=Telerik.Web.UI;
var d=b.Editor;
var c=Telerik.Web.Browser;
var h=Telerik.Web.UI.Editor.Utils;
d.SelectAllCommand=function(i,k){var j=this.options=a.extend({window:(i&&i.get_contentWindow())||null,title:"Select All",canUnexecute:true},k||{});
d.SelectAllCommand.initializeBase(this,[j.title,j.window,j.canUnexecute,i]);
};
d.SelectAllCommand.prototype={onExecute:function(){var j=this.get_editor();
var k=e(j);
var i=j.get_contentArea();
f(j);
k.selectNodeContents(i);
k.select();
return true;
}};
function e(i){return Telerik.Web.UI.Editor.DomRange.toDomRange(i.getSelection().getRange(true));
}function f(j){var i=j.get_contentArea();
if(c.ie&&c.version<9){var l=i.firstChild;
var m=i.lastChild;
if(!h.isTextNode(l)){var k=j.get_document().createTextNode("\n");
i.insertBefore(k,i.firstChild);
}if(!h.isTextNode(m)){i.appendChild(j.whitespaceTracker.createTrackedNode());
}}}d.SelectAllCommand.registerClass("Telerik.Web.UI.Editor.SelectAllCommand",d.CommandBase);
})($telerik.$);
(function(a,b,d,c){b.StripCommand=function(f,i,h){var e=this;
var g=e.options=a.extend({title:"StripCommand"},h||{});
b.StripCommand.initializeBase(e,[f,i,g]);
};
b.StripCommand.prototype={isSameFormatNode:function(e){},removeNodeFormatting:function(e){},getState:function(){return b.CommandStates.On;
},shouldCollectNode:function(e){return true;
},getEditorRange:function(){var e=this;
return e.settings.selectAll?c:b.StripCommand.callBaseMethod(e,"getEditorRange");
},traverseFragments:function(h){var e=this;
if(e.settings.selectAll){var g=new b.FragmentContainer();
var f=e.getContentElement();
g.addAll(f.childNodes);
return[g];
}else{return b.StripCommand.callBaseMethod(e,"traverseFragments",[h]);
}},findFormattedAncestor:function(g){var e=this;
var f=g;
while(!d.isBlockElement(g)){if(e.isSameFormatNode(g)){f=g;
}g=g.parentNode;
}return f;
},removeFormat:function(f){var e=this;
while(f.length){e.removeFormat_fragment(f.shift());
}},removeFormat_extract:function(g,f,h){if(!d.isBlockElement(g)){var e=this;
e.extractFormatting(g,f,h);
e.removeSameFormatChildren(g);
e.removeNodeFormatting(g);
e.removeEmptyNode(g);
}},getSameFormatChildren:function(f){var e=this;
return a.makeArray(a(f).find("*").filter(function(h,g){return e.isSameFormatNode(g)&&!e.isMarker(g);
}));
},restoreRange:function(){var e=this;
if(e.settings.selectAll){var f=e.getContentElement();
a(f).find("."+e.getMarkersCssClass()).remove();
d.normalize(f);
}else{b.StripCommand.callBaseMethod(e,"restoreRange");
}},getContentElement:function(){var e=this;
return e.settings.contentElement||b.StripCommand.callBaseMethod(e,"getContentElement");
},_shouldCleanUpNode:function(f){var e=this;
return f&&!e.isMarker(f)&&(!d.isTextNode(f)||e.isComment(f));
},isComment:function(e){return e.nodeType==8;
}};
b.StripCommand.registerClass("Telerik.Web.UI.Editor.StripCommand",b.InlineCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,b,e,d){var c=function(){return true;
};
b.StripElementCommand=function(g,i,h){var f=this;
var j=i.tags||[];
var k=j[0]=="ALL"?"(?:[a-z]+:)?[a-z]+[1-6]?":j.join("|");
f.nodeNamesRegExp=new RegExp("^(?:"+k+")$","i");
i.exclude=i.exclude||[];
i.stripCondition=i.stripCondition||function(l){return false;
};
f.isLegacyIE=$telerik.isIE7||$telerik.isIE8;
b.StripElementCommand.initializeBase(f,[g,i,h]);
};
b.StripElementCommand.prototype={isSameFormatNode:function(g){var f=this;
return g&&(f.settings.stripCondition(g)||(f.isCommentToStrip(g)||f.isTagToStrip(g)));
},isCommentToStrip:function(g){var f=this;
return f._isStripAll()&&f.isComment(g);
},removeNodeFormatting:function(g){var f=this;
if(f.isCommentToStrip(g)){g.parentNode.removeChild(g);
}else{if(!e.isTextNode(g)&&!f.isMarker(g)){if(f.isLegacyIE){var h=e.getOuterHtml(g);
var j=h.indexOf("<");
if(/^\s+/.test(h)&&j>0){var i=h.substring(0,j);
g.parentNode.insertBefore(g.ownerDocument.createTextNode(i),g);
}}e.removeNode(g);
}}},getSameFormatChildren:function(g){var f=this;
return f._isStripAll()?e.getAllChildNodesBy(g,c):b.StripElementCommand.callBaseMethod(f,"getSameFormatChildren",[g]);
},_isNodeExcluded:function(f){return a.inArray(f.nodeName.toLowerCase(),this.settings.exclude)>=0;
},_isStripAll:function(){var f=this.settings;
return f.tags&&f.tags[0]=="ALL";
},isTagToStrip:function(g){var f=this;
return f.settings.tags&&(f.nodeNamesRegExp.test(g.nodeName)&&!e.isEditorContentArea(g)&&!f._isNodeExcluded(g));
}};
b.StripElementCommand.registerClass("Telerik.Web.UI.Editor.StripElementCommand",b.StripCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,g){var c=Telerik.Web.UI;
var b=c.Editor;
var f="style";
var d="class";
var e=" ";
b.StripStylesCommand=function(j,k,i){var h=this;
h.options=a.extend({title:"Strip CSS Command"},i||{});
b.StripStylesCommand.initializeBase(h,[j,k,h.options]);
};
b.StripStylesCommand.prototype={isSameFormatNode:function(i){var h=this;
return(i&&h._isStyledNode(i));
},removeNodeFormatting:function(j){var i=this;
var h=i._getStyleAttributes();
a(j).removeAttr(h);
},_isStyledNode:function(h){return(h&&(!!a(h).attr(f)||!!a(h).attr(d)));
},_getStyleAttributes:function(){return[d,f].join(e);
}};
b.StripStylesCommand.registerClass("Telerik.Web.UI.Editor.StripStylesCommand",b.StripCommand);
})($telerik.$);
(function(a,b,h,g){var c="\n";
var d=/[\n\r]/;
var f=/^(?:[a-z]+:[a-z]+)/i;
var e=function(){return true;
};
b.StripWordFormattingCommand=function(j,l,k){var i=this;
i.stylesToKeep=h.getCssPropertiesToKeep([l.clearValue]);
b.StripWordFormattingCommand.initializeBase(i,[j,l,k]);
};
b.StripWordFormattingCommand.prototype={isSameFormatNode:function(i){return true;
},removeNodeFormatting:function(k){var i=this;
var j=i.hasNamespace(k);
if(i.isComment(k)||((j||!h.isBlockElement(k))&&h.isNodeEmptyRecursive(k,true))){i.deleteNode(k);
}else{if(j){h.removeNode(k);
}else{if(i.isStripAllExceptNewLines()){i._stripAllExceptNewLines(k);
}else{if(!h.isTextNode(k)){if(i.isFormattedFont(k)){i.removeFontFormatting(k);
}h.clearElement(k,i.stylesToKeep);
if((h.isTag(k,"font")||h.isTag(k,"span"))&&!h.hasAttributes(k)){h.removeNode(k);
}}}}}},removeFormat:function(k){var i=this;
while(k.length){var j=k.shift();
i._isPlainText=h.every(j.nodes,function(l){return h.isTextNode(l)||h.isTag(l,"br")||i._isTabSpan(l);
});
i.removeFormat_fragment(j);
}},_isTabSpan:function(i){return h.isTag(i,"span")&&i.style["white-space"]=="pre"&&i.childNodes.length==1&&/^[\t]+$/.test(i.firstChild.nodeValue);
},_trimRegExp:/(^[\n\r\t]+)|([\n\r\t]+$)/g,_stripAllExceptNewLines:function(j){if(h.isTag(j,"br")){return;
}var i=this;
if(h.isBlockElement(j)){i._stripBlockElement(j);
}else{if(!h.isTextNode(j)){i.removeNode(j);
}else{if(i.hasNewLineCharacter(j)){i._insertNewLineNodes(j);
}else{if(d.test(j.nodeValue)){if(h.isTextNodeEmpty(j)&&!/\xA0/.test(j.nodeValue)){i.deleteNode(j);
}else{j.nodeValue=j.nodeValue.replace(i._trimRegExp," ");
}}}}}},_inlineBlocksDelimiter:" ",_stripBlockElement:function(i){var j=this;
var l=j._isInlineBlock(i);
var n=i.parentNode;
var k=i.ownerDocument;
if(l){if(a(i).next().length){i.appendChild(k.createTextNode(j._inlineBlocksDelimiter));
}}else{if(h.isList(i)&&j._isIndented(i)){j._removeIndenting(i);
}var o=j._getSibling(i,"previousSibling");
var m=j._getSibling(i,"nextSibling");
if(o){n.insertBefore(k.createElement("br"),i);
}if(m){n.insertBefore(k.createElement("br"),m);
}}j.removeNode(i);
},_isInlineBlock:function(i){return h.isTag(i,"td")||h.isTag(i,"th");
},_getSibling:function(k,j){var i=this;
var l=k[j];
while(l&&!i._isValuable(l)){l=l[j];
}return i._isValuable(l)&&!i.isMarker(l)&&!h.isTag(l,"br")?l:g;
},_isValuable:function(j){var i=this;
return j&&!(h.isTextNode(j)&&h.isTextNodeEmpty(j))&&!i.isComment(j);
},_indentingRegExp:/\n\s+$/,_isIndented:function(i){var j=i.previousSibling;
return h.isTextNode(j)&&!h.isTextNodeEmpty(j)&&this._indentingRegExp.test(j.nodeValue);
},_removeIndenting:function(i){var j=i.previousSibling;
j.nodeValue=j.nodeValue.replace(this._indentingRegExp,"");
},removeNode:function(j){var i=this;
if(h.isTag(j,"style")||h.isTag(j,"script")){j.parentNode.removeChild(j);
}else{if(i.settings.deleteWhitespaceNodes&&j.nodeType==1&&h.canHaveChildren(j)&&h.isNodeEmptyRecursive(j)&&!(h.isList(j)&&i._isValuable(j.firstChild))){i.deleteNode(j);
}else{h.removeNode(j);
}}},deleteNode:function(i){if(i.nodeType==1&&!h.isBlockElement(i)&&i.childNodes.length==1&&!d.test(i.innerHTML)){h.removeNode(i);
}else{if(!(this._isPlainText&&this._isTabSpan(i.parentNode))){i.parentNode.removeChild(i);
}}},findFormattedAncestor:function(k){var i=this;
var j;
while(k&&!h.isBlockElement(k)){if(i.hasMsWordAttribute(k)){j=k;
}k=k.parentNode;
}return j;
},getSameFormatChildren:function(i){return h.getAllChildNodesBy(i,e);
},hasMsWordAttribute:function(l){var j=h.msWordAttrRegExp;
var m=l.getAttribute?l.getAttribute("style"):g;
m=(typeof m=="object"&&l.style&&l.style.cssText)?l.style.cssText:m;
if(m&&typeof m=="string"&&j.test(m)){return true;
}var i=l.nodeType==1?h.getDefinedAttributes(l):{};
for(var k in i){if(k!="href"&&k!="src"&&(j.test(k)||j.test(i[k]))){return true;
}}return false;
},isFormattedFont:function(i){return this.settings.clearValue=="WORD_NO_FONTS"&&h.isTag(i,"font")&&(i.getAttribute("face")||i.getAttribute("color"));
},removeFontFormatting:function(i){a(i).removeAttr("face color");
},hasNewLineCharacter:function(i){return this._isPlainText&&i.nodeType&&i.nodeType==3&&!h.isTextNodeEmpty(i)&&i.nodeValue.indexOf(c)>=0;
},hasNamespace:function(i){return f.test(i.nodeName)||("scopeName" in i&&i.scopeName!="HTML");
},isStripAllExceptNewLines:function(){return this.settings.clearValue=="ALL_NO_BRAKES";
},shouldStripMargins:function(i){return this.settings.clearValue=="WORD_NO_MARGINS"&&(i.style.marginLeft||i.style.marginRight||i.style.marginTop||i.style.marginBottom);
},_shouldCleanUpNode:function(j){var i=this;
if(i.isMarker(j)){return false;
}return j&&b.StripWordFormattingCommand.callBaseMethod(i,"_shouldCleanUpNode",[j])||(i.isStripAllExceptNewLines()&&!h.isTag(j,"br")||i.hasNewLineCharacter(j));
},_insertNewLineNodes:function(l){var m=l.nodeValue;
m=m.replace(/^\s+/,"").replace(/\s+$/,"").replace(/\r/ig,"");
var k=m.lastIndexOf(c);
var j=l.ownerDocument;
while(k>0){l.nodeValue=m.substring(k+1,m.length);
var n=j.createTextNode(m.substring(0,k));
var i=j.createElement("br");
l.parentNode.insertBefore(i,l);
l.parentNode.insertBefore(n,i);
m=n.nodeValue;
k=m.lastIndexOf(c);
l=n;
}}};
b.StripWordFormattingCommand.registerClass("Telerik.Web.UI.Editor.StripWordFormattingCommand",b.StripCommand);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,c,j){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=c.Editor;
var g=document;
var h="touchmove";
var e="gesturestart";
var k=".reCancelZoom";
var i=h+k;
var f=e+k;
var d=$telerik.cancelRawEvent;
b.ToggleScreenMode=function(l){var m={window:l?l.get_contentWindow():j,title:"ToggleScreenMode",canUnexecute:j};
b.ToggleScreenMode.initializeBase(this,[m.title,m.window,m.canUnexecute,l]);
};
b.ToggleScreenMode.prototype={onExecute:function(){var l=this;
var m=l.getState();
if(m==b.CommandStates.On){l.leaveFullScreen();
}else{if(m==b.CommandStates.Off){l.enterFullScreen();
}}return true;
},enterFullScreen:function(){var m=this;
var n=m.get_editor();
var q=n.get_toolAdapter();
var o=n.get_element();
var p=o.style;
var l=g.body;
m._hide(n.get_headerContainer());
m._show(n.get_headerToolsContainer());
m._show(n.get_toolContainer());
n._initialStyles={width:p.width,height:p.height,bodyScrollTop:l.scrollTop,bodyScrollLeft:l.scrollLeft};
a(l.parentNode).addClass("rePreventScrolling");
a(o).addClass("reFullScreen");
m._setCss(o,{width:"",height:""});
l.scrollLeft=0;
l.scrollTop=0;
n.set_editable(true);
n._isFullScreen=true;
m._setDocumentScrollInterval();
n._documentScrollTop=a(o.ownerDocument).scrollTop();
m._disableZoom();
if(q&&q.showKeyboard){q.showKeyboard();
n.focusFirstText();
}},leaveFullScreen:function(){var m=this;
var n=m.get_editor();
var q=n.get_toolAdapter();
var o=n.get_element();
var l=g.body;
if(n.get_mode()===c.EditModes.Html){n.set_mode(c.EditModes.Design);
}m._clearDocumentScrollInterval();
m._show(n.get_headerContainer());
m._hide(n.get_headerToolsContainer());
m._hide(n.get_toolContainer());
if(n.findReplaceManager){n.findReplaceManager.hide();
}a(l.parentNode).removeClass("rePreventScrolling");
a(o).removeClass("reFullScreen");
if(q.isEditEnabled&&q.isEditEnabled()){n.fire("MobileEdit");
}if(q.hideKeyboardPermanent){q.hideKeyboardPermanent();
}var p=n._initialStyles;
if(p){m._setCss(o,{width:p.width,height:p.height});
l.scrollTop=p.bodyScrollTop;
l.scrollLeft=p.bodyScrollLeft;
}n.set_editable(false);
n._isFullScreen=false;
n._attachEnterFullScreenMobileHandler(true);
m._enableZoom();
},_disableZoom:function(){var l=this;
var m=a(l._getZoomElements());
m.on(i,"*",l._cancelMultiTouchHandler);
m.on(f,"*",d);
},_enableZoom:function(){var l=this;
var m=a(l._getZoomElements());
m.off(i,"*",l._cancelMultiTouchHandler);
m.off(f,"*",d);
},_getZoomElements:function(){var l=this.get_editor().get_document();
return g===l?[g]:[g,l];
},_cancelMultiTouchHandler:function(m){var l=m.originalEvent;
if(l.touches&&l.touches.length>1){return d(l);
}},getState:function(m,l){l=l||this.get_editor();
return l&&l._isFullScreen?b.CommandStates.On:b.CommandStates.Off;
},_show:function(l){this._setCss(l,{display:""});
},_hide:function(l){this._setCss(l,{display:"none"});
},_setCss:function(l,m){a(l).css(m);
},_setDocumentScrollInterval:function(){var m=this.get_editor();
var l=a(document).scrollTop();
m._documentScrollTopInterval=window.setInterval(function(){if(a(document).scrollTop()!=l){a(document).scrollTop(l);
}},15);
},_clearDocumentScrollInterval:function(){window.clearInterval(this.get_editor()._documentScrollTopInterval);
}};
b.ToggleScreenMode.registerClass("Telerik.Web.UI.Editor.ToggleScreenMode",b.CommandBase);
})($telerik.$,Telerik.Web.UI);
(function(a,g){var b=Telerik.Web.UI;
var c=b.Editor;
var h=c.Utils;
var e=h.isTag;
var f={tag:"a",altTags:[],isNotGreedy:true};
c.UnlinkCommand=function(i,j){c.UnlinkCommand.initializeBase(this,[i,f,j]);
};
c.UnlinkCommand.prototype={getStateByRange:function(l,j){var m=c.CommandStates;
if(!l){return m.Disabled;
}var i=j.get_contentArea();
var n=this.settings.tag;
var k=false;
if(l.isCollapsed()){k=h.findAncestorByTag(i,l.commonAncestorContainer,n)!=i;
}else{k=h.someInRange(l,d(i));
}return k?m.Off:m.Disabled;
},shouldRemoveFormatting:function(){return true;
},isSameTagFormat:function(i){return h.isTag(i,this.settings.tag);
},removeNodeFormatting:function(i){h.removeNode(i);
}};
function d(j){var k=f.tag;
var i=h.canHaveChildren;
return function(m){var l=i(m)&&!!m.childNodes.length;
return e(m,k)||(h.findAncestorByTag(j,m,k)!=j)||(l&&m.getElementsByTagName(k).length>0);
};
}c.UnlinkCommand.registerClass("Telerik.Web.UI.Editor.UnlinkCommand",c.InlineCommand);
})($telerik.$);
(function(a,b,f){var e="__telerik_marker",g=b.Utils;
b.Consolidator=function(h){this.options=a.extend({nodeCompare:c},h||{});
};
b.Consolidator.prototype={consolidateMarkedEdges:function(i){var h=this;
var j=this._getMarkers(i);
if(j[0]){h.consolidateOverMarker(j[0]);
}if(j[1]){h.consolidateOverMarker(j[1]);
}},stichMarkedEdges:function(h){var i=this._getMarkers(h);
this.stichMarkers(i[0],i[1]);
},stichMarkers:function(i,h){if(!i||!h){return;
}this.stichCommonAncestor=g.findCommonAncestor(i,h);
this._stichMarkersRecurse(i,h);
},_stichMarkersRecurse:function(m,j){var h=this;
var i=h.stichCommonAncestor;
var l=h.options.nodeCompare;
var n=g.findAncestorUntil(i,m);
var k=g.findAncestorUntil(i,j);
if((n===m)||(k===j)||(n===k)){delete h.stichCommonAncestor;
return;
}if(l(n,k)){d(k,n);
h.stichCommonAncestor=n;
h._stichMarkersRecurse(m,j);
}},consolidateOverMarker:function(i){var h=this;
var k=h.options.nodeCompare;
var l=i.previousSibling,j=i.nextSibling;
if(k(l,j)){l.appendChild(i);
while(j.firstChild){l.appendChild(j.firstChild);
}j.parentNode.removeChild(j);
h.consolidateOverMarker(i);
}},normalizeTextEdge:function(i,l,h){var k=i.previousSibling,j=i.nextSibling;
if(g.isTextNode(k)&&g.isTextNode(j)&&k.nodeType===j.nodeType){l[h?"setStart":"setEnd"](k,k.nodeValue.length);
this.mergeTextToStart(k,j);
i.parentNode.removeChild(i);
return true;
}return false;
},normalize:function(h){g.normalize(h);
},mergeTextToStart:function(h,i){h.nodeValue+=i.nodeValue;
i.parentNode.removeChild(i);
return h;
},mergeTextNodes:function(i,h){h.nodeValue=i.nodeValue+h.nodeValue;
i.parentNode.removeChild(i);
return h;
},_getMarkers:function(h){return a("."+e,h);
}};
b.Consolidator.registerClass("Telerik.Web.UI.Editor.Consolidator");
function d(i,h){while(i.firstChild){h.appendChild(i.firstChild);
}if(i.parentNode){i.parentNode.removeChild(i);
}}function c(h,i){if(!h||!i||!h.parentNode||!i.parentNode||g.isTextNode(h)){return false;
}return b.NodeComparer.equalNodes(h,i);
}b.NodeComparer={equalNodes:function(h,i){return this.equalTag(h,i)&&this.equalStyle(h,i)&&this.equalAttributes(h,i);
},equalTag:function(h,i){return g.isTag(h,i.tagName);
},equalStyle:function(h,i){return h.style&&i.style&&h.style.cssText==i.style.cssText;
},equalAttributes:function(h,j,m){var i=this._collectAttributes(h,m),k=this._collectAttributes(j,m);
if(i.length!==k.length){return false;
}delete i.length;
delete i.style;
delete i.timestamp;
delete i.title;
for(var l in i){if(i[l]!==k[l]){return false;
}}return true;
},_collectAttributes:function(h,i){return i&&i.length>0?g.getAttributes(h,i):g.getDefinedAttributes(h);
}};
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,b,i){var d=Telerik.Web.BrowserFeatures;
var c=/<!--(.*?)-->/g;
var g="__telerik_htmlComment_marker";
var h="."+g;
var f="<span id='{0}' class='"+g+"'>&nbsp;</span>";
var e="__telerik_comment_marker";
b.HtmlCommentsStorage=function(){this.index=0;
this.comments={};
};
b.HtmlCommentsStorage.prototype={markComments:function(j){var k=this;
j=j.replace(c,function(n,l){var m=k.nextMarker();
k.storeComment(l);
return m;
});
return j;
},restoreComments:function(j){var l=this;
var k=a(j).find(h);
k.each(function(p,q){var r=q.parentNode;
var o=r.ownerDocument;
var n=l.getCommentContent(q.id);
var m=o.createComment(n);
r.insertBefore(m,q);
r.removeChild(q);
});
},shouldStoreComments:function(){return !d.readsHtmlComments;
},nextMarker:function(){this.index+=1;
var j=this.getId();
return String.format(f,j);
},storeComment:function(j){this.comments[this.getId()]=j;
},getCommentContent:function(j){return this.comments[j];
},getId:function(){return e+this.index;
}};
b.HtmlCommentsStorage.registerClass("Telerik.Web.UI.Editor.HtmlCommentsStorage");
d.addTest("readsHtmlComments",function(){var k=document.createElement("div");
k.innerHTML="<!--[if !IE]>--><!--<![endif]-->";
var j=(k.innerHTML.length>0);
k=i;
return j;
});
})($telerik.$,Telerik.Web.UI.Editor);
(function(a,b,d){var e=b.Utils;
var c=e.isTag;
b.InnerListDeleteCleanUp=function(f){this.editor=f;
};
b.InnerListDeleteCleanUp.prototype={cleanUp:function(){var i=this.getRange();
if(!i||!i.isCollapsed()){return;
}var h=this.findListItemNode(i.startContainer);
if(!h){return;
}var f=h.parentNode;
if(this.isList(f.parentNode)){var g=f.previousSibling;
if(g){f.previousSibling.appendChild(f);
i.select();
}}},getRange:function(){var f=this.editor.getSelection().getRange(true);
return b.DomRange.toDomRange(f);
},findListItemNode:function(h){var g=h;
var f=this.editor.get_contentArea();
if(e.isTextNode(g)){g=e.findAncestorByTag(f,g,"li");
if(!c(g,"li")||g===f){return null;
}}return c(g,"li")&&g;
},isList:function(f){return c(f,"ul")||c(f,"ol");
}};
b.InnerListDeleteCleanUp.registerClass("Telerik.Web.UI.Editor.InnerListDeleteCleanUp");
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.NestedElementsFix=function(e,f){this.context=e?e:null;
this.selection=f?f:null;
};
b.NestedElementsFix.prototype={applyFix:function(e){var f=this;
f.blockElements=e||f.getBlockElements();
f._fixNestedParagraphs();
f._unwrapBlockElements();
},getBlockElements:function(){var g=this.context;
var e=a(g).find("table,ol,ul,h1,h2,h3,h4,h5,h6");
var f=this._getParagraphs(g);
e=e.add(f);
return a.makeArray(e);
},set_context:function(e){this.context=e;
},_fixNestedParagraphs:function(){var f=this.context;
var k=null;
if(d.isEditorContentArea(f)){k=f.getElementsByTagName("P");
}else{var l=this._getParentBlockElement(f);
if(d.isTag(l,"p")){k=[l];
}}if(!k){return;
}for(var g=k.length-1;
g>=0;
g--){var m=k[g],e=this._getParagraphs(m);
for(var h=e.length-1;
h>=0;
h--){this._unwrapElement(e[h],m);
}if(e.length&&d.isNodeEmptyRecursive(m)){this._removeBlockElement(m);
}}},_unwrapBlockElements:function(){var i=this,f=i.blockElements;
while(f.length){var e=f.pop(),h=i._getParentBlockElement(e.parentNode),g;
if(h&&/^P|H[1-6]$/.test(h.nodeName)){i._unwrapElement(e,h);
g=true;
}var j=i._getLastInvalidWrapper(e);
if(j){i._unwrapElement(e,j);
}if(i._shouldRemoveBlockElement(h,g)){i._removeBlockElement(h);
}}},_shouldRemoveBlockElement:function(e,f){if(!f||!e){return false;
}if(!/^li|td|th$/.test(e.nodeName)&&d.isNodeEmptyRecursive(e)&&!a(e).find("ol,ul,table").length){return true;
}return false;
},_getParagraphs:function(f){var e=a(f).find("p").filter(function(g){return !d.getElementParentByRegExpTagName(this,/th|td|table|li/i);
});
return e;
},_removeBlockElement:function(f){var e=this.blockElements,g=Array.indexOf(e,f);
if(g!=-1){e.splice(g,1);
}a(f).remove();
},_unwrapElement:function(f,i){var g=new b.DomTreeExtractor(i),h=g.extractAfter(f);
if(!this._isFragmentEmpty(h)){var e=i.cloneNode(true);
d.removeChildren(e);
a(e).insertAfter(i);
e.appendChild(h);
}a(f).insertAfter(i);
if(this.selection){this.selection._fireEvent("pasteBlockElement",f);
}},_isFragmentEmpty:function(g){for(var h=0;
h<g.childNodes.length;
h++){var f=g.childNodes[h];
var j=d.isTextNode(f);
var e=!j&&d.canHaveChildren(f);
if(j){if(!d.isTextNodeEmpty(f)){return false;
}}else{if(e){if(!d.isNodeEmptyRecursive(f)){return false;
}}else{return false;
}}}return true;
},_shouldUnwrapNode:function(e){if(d.isBlockElement(e)){return false;
}return !d.isTag(e,"ins")&&!d.isTag(e,"del");
},_getParentBlockElement:function(e){var f=d.getBlockParentUntil(e,d.isEditorContentArea);
if(d.isEditorContentArea(f)){return null;
}return f;
},_getLastInvalidWrapper:function(e){var f=e;
while(f&&this._shouldUnwrapNode(f.parentNode)){f=f.parentNode;
}return f==e?null:f;
}};
b.NestedElementsFix.registerClass("Telerik.Web.UI.Editor.NestedElementsFix",null);
b.DeleteFix=function(e){this.editor=e;
};
b.DeleteFix.prototype={applyFix:function(f){var h=this;
var g=h._getRange();
if(!g.collapsed||g.startOffset!=0){return;
}if($telerik.isFirefox){h.fixDeleteEmptyBlock(f,g);
}if($telerik.isIE){h.fixDeleteFirstListItem(f,g);
}if($telerik.isChrome||$telerik.isOpera){h.fixDeleteInBeginningOfListItem(f,g);
}},fixDeleteEmptyBlock:function(h,j){var k=this;
var g=k._getParentBlockElement(j.startContainer);
if(!g||d.isTag(g,"td")||d.isTag(g,"th")||!k._isEmpty(g)){return;
}var i=h.keyCode==8;
var f=k._getBlockSibling(g,i);
if(!f){return;
}j.selectNodeContents(f);
j.collapse(!i);
j.select();
a(g).remove();
h.preventDefault();
},fixDeleteFirstListItem:function(f,k){var l=k.startContainer;
if((d.isTextNode(l)||d.isTag(l,"li"))){var j=d.isBlockElement(l)?l:d.getBlockParent(l);
var i=d.isTag(j,"li")?j:c;
if(i&&!d.getPreviousElement(i)&&(l==i||d.isNodeAtStart(l,i))){var g=this.editor;
if(!i.childNodes.length){var m=i.ownerDocument.createTextNode("\u200b");
i.appendChild(m);
g.nodesTracker.trackNode(m);
d._setCursorInTextNode(k,m,0,0);
}var h=new b.InsertListCmd(g,{listType:i.parentNode.nodeName});
g.executeCommand(h,c,true);
$telerik.preventDefault(f);
}}},fixDeleteInBeginningOfListItem:function(g,o){var p=o.startContainer;
var j=p?p.innerHTML:"";
if(p&&p.nodeName=="LI"&&j&&!/<br>\s*$/.test(j)&&o.startOffset===0){var n=p.previousSibling;
if(n&&n.nodeName=="LI"){var l=n.lastChild;
var h=p.firstChild;
if(h&&h.nodeName=="BR"){a(h).remove();
}var f=p.childNodes;
for(var k=0,m=f.length;
k<m;
k++){a(f[k]).appendTo(n);
}a(p).remove();
o.selectNodeContents(l);
o.collapse();
o.select();
}$telerik.preventDefault(g);
}},_getRange:function(){return new b.DomRange(this.editor.getSelection().getRange(true));
},_getParentBlockElement:function(e){var f=d.isBlockElement(e)?e:d.getBlockParent(e);
return f&&!d.isEditorContentArea(f)?f:c;
},_getBlockSibling:function(f,g){var e=a(f)[g?"prev":"next"]().get(0);
return d.isBlockElement(e)?e:c;
},_isEmpty:function(h){var e=h.childNodes;
var f=e?e.length:0;
var g=h.firstChild;
if(f>1){return false;
}else{if(!g||(f==1&&d.isTag(g,"br"))){return true;
}else{if(f==1&&d.isTextNode(g)&&!d.isTextNodeEmpty(g)){return false;
}else{if(f==1&&d.canHaveChildren(g)){return this._isEmpty(g);
}}}}return false;
}};
b.DeleteFix.registerClass("Telerik.Web.UI.Editor.DeleteFix",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,n){var c=Telerik.Web.UI;
var b=c.Editor;
var o=b.Utils;
var i=window;
var m="ToggleEditMode";
var h="FONT";
var l="SPAN";
var d="ALL";
var g="CSS";
var e="ALL_NO_BRAKES";
var p="WORD";
var q="WORD_ALL";
var f=Telerik.Web.Browser;
var j=function(r){return o.isTag(r,"td")||o.isTag(r,"th");
};
var k=function(r){return r?r+"px":"";
};
Telerik.Web.UI.Editor.UpdateCommandsArray={InsertOrderedList:new b.InsertListCmd(null,{listType:"ol"}),InsertUnorderedList:new b.InsertListCmd(null,{listType:"ul"}),Unlink:new b.UnlinkCommand(),Bold:new b.BoldCommand(),Italic:new b.ItalicCommand(),Underline:new b.UnderlineCommand(),StrikeThrough:new b.StrikeThroughCommand(),Subscript:new b.SubscriptCommand(),Superscript:new b.SuperscriptCommand(),ForeColor:new b.ForeColorCommand(),BackColor:new b.BackColorCommand(),FontName:new b.FontName(null,{title:"FontName"}),RealFontSize:new b.RealFontSize(null,{title:"RealFontSize"}),FontSize:new b.BrowserCommand(null,null,"FontSize",null),Paste:new b.BrowserCommand(null,null,"Paste",null),Cut:new b.BrowserCommand(null,null,"Cut",null),Copy:new b.BrowserCommand(null,null,"Copy",null),JustifyLeft:new b.AlignCommand(null,{align:"left"}),JustifyRight:new b.AlignCommand(null,{align:"right"}),JustifyCenter:new b.AlignCommand(null,{align:"center"}),JustifyNone:new b.AlignCommand(null,{align:"none"}),JustifyFull:new b.AlignCommand(null,{align:"justify"}),Indent:new b.IndentCommand(null),Outdent:new b.OutdentCommand(null),AbsolutePosition:new b.BrowserCommand(null,null,"AbsolutePosition",null),FormatBlock:new b.FormatBlockCommand(null,null,null,null),FormatSets:new b.FormatSetsCommand(null,null,null,null),InsertRowAbove:new b.TableInsertRow(null,null,"above",null),InsertRowBelow:new b.TableInsertRow(null,null,"below",null),InsertColumnLeft:new b.TableInsertColumn(null,null,"left",null),InsertColumnRight:new b.TableInsertColumn(null,null,"right",null),DeleteRow:new b.TableDeleteRow(null,null,null),DeleteColumn:new b.TableDeleteColumn(null,null,null),DeleteCell:new b.TableDeleteCell(null,null,null),DeleteSelection:new b.DeleteSelectionCommand(),MergeColumns:new b.TableMergeColumns(null,null,null),MergeRows:new b.TableMergeRows(null,null,null),SplitCell:new b.TableSplitCell(null,null,"vertical",null),SplitCellHorizontal:new b.TableSplitCell(null,null,"horizontal",null),ApplyClass:new b.ClassNameCommand(null,null,null),FindAndReplace:new b.FindReplaceCommand(),TopLeftCellAlign:new b.AlignCommand(null,{align:"left",valign:"top",isSuitableNode:j}),TopCenterCellAlign:new b.AlignCommand(null,{align:"center",valign:"top",isSuitableNode:j}),TopRightCellAlign:new b.AlignCommand(null,{align:"right",valign:"top",isSuitableNode:j}),MiddleLeftCellAlign:new b.AlignCommand(null,{align:"left",valign:"middle",isSuitableNode:j}),MiddleCenterCellAlign:new b.AlignCommand(null,{align:"center",valign:"middle",isSuitableNode:j}),MiddleRightCellAlign:new b.AlignCommand(null,{align:"right",valign:"middle",isSuitableNode:j}),BottomLeftCellAlign:new b.AlignCommand(null,{align:"left",valign:"bottom",isSuitableNode:j}),BottomCenterCellAlign:new b.AlignCommand(null,{align:"center",valign:"bottom",isSuitableNode:j}),BottomRightCellAlign:new b.AlignCommand(null,{align:"right",valign:"bottom",isSuitableNode:j}),NoCellAlign:new b.AlignCommand(null,{align:"none",valign:"none",isSuitableNode:j})};
Telerik.Web.UI.Editor.CommandList=new (function(){var s=this;
this.getCallbackFunction=function(B,C){return(B&&B._callbackFunction&&typeof(B._callbackFunction)=="function")?B._callbackFunction:C;
};
this.AjaxSpellCheck=function(C,E,B){if(E.get_enableImmutableElements()){Telerik.Web.UI.Editor.Utils.replaceImmutableElements(E);
}function D(){if(!E.get_ajaxSpellCheck()){var L={editor:E};
var J=document.createElement("div");
var K=$create(Telerik.Web.UI.Editor.AjaxSpellCheck,L,null,null,J);
var M=K.get_element();
var N=$get(E.get_id()+"Top");
if(N){N.appendChild(M);
K.add_spellCheckEnd(Function.createDelegate(this,function(){if(E.get_enableImmutableElements()){Telerik.Web.UI.Editor.Utils.restoreImmutableElements(E);
}E.repaint();
}));
}E.set_ajaxSpellCheck(K);
}var I=E.get_ajaxSpellCheck();
if(B&&B.value){I.set_language(B.value);
}I.spellCheck();
}function F(I){var J=I.get_responseData();
$telerik.evalScriptCode(J);
D();
}if(typeof(Telerik.Web.UI.Editor.AjaxSpellCheck)=="undefined"){var G=E.get_ajaxSpellCheckScriptReference();
var H=new Sys.Net.WebRequest();
H.set_url(G);
H.set_httpVerb("GET");
H.add_completed(F);
H.invoke();
}else{D();
}return false;
};
this.ModuleManager=function(C,D,B){var G=B.value;
var F=D.get_modulesManager();
if(!F){return false;
}var E=F.getModuleByName(G);
if(E){E.toggleVisibility();
D._sizer.moduleToggleVisibility(E.get_visible());
}return false;
};
this.ToggleScreenMode=function(C,D,B){D.toggleScreenMode();
return false;
};
this.InsertRowAbove=this.InsertRowBelow=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableInsertRow(D.getLocalizedString(C),null,C=="InsertRowAbove"?"above":"below",D));
};
this.InsertColumnLeft=this.InsertColumnRight=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableInsertColumn(D.getLocalizedString(C),null,C=="InsertColumnLeft"?"left":"right",D));
};
this.DeleteRow=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableDeleteRow(D.getLocalizedString(C),null,D));
};
this.DeleteColumn=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableDeleteColumn(D.getLocalizedString(C),null,D));
};
this.DeleteCell=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableDeleteCell(D.getLocalizedString(C),null,D));
};
this.MergeColumns=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableMergeColumns(D.getLocalizedString(C),null,D));
};
this.MergeRows=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableMergeRows(D.getLocalizedString(C),null,D));
};
this.SplitCell=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableSplitCell(D.getLocalizedString(C),null,"vertical",D));
};
this.SplitCellHorizontal=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.TableSplitCell(D.getLocalizedString(C),null,"horizontal",D));
};
this.DeleteTable=function(C,D,B){var E=B.value;
if(!E){E=D.getSelectedElement();
}if(E&&"TABLE"!=E.tagName){E=Telerik.Web.UI.Editor.Utils.getElementParentByTag(E,"TABLE");
}if(E){if(!D.get_enableTrackChanges()||D.get_enableTrackChangesOverride()){D.selectElement(E);
D.executeBrowserCommand("Delete");
}else{var F=D.getSelection();
Telerik.Web.UI.Editor.TrackChangesUtils.wrapElementInTrackChangeDelete(F.getParentElement(),D.get_author());
}}};
this.InsertFormForm=this.InsertFormButton=this.InsertFormCheckbox=this.InsertFormHidden=this.InsertFormImageButton=this.InsertFormPassword=this.InsertFormRadio=this.InsertFormReset=this.InsertFormSubmit=this.InsertFormTextarea=this.InsertFormText=function(C,D,B){var F=C.substring(10);
var E=new Telerik.Web.UI.EditorCommandEventArgs(C,B.get_tool(),F);
D.fire("InsertFormElement",E);
};
this.StripAll=this.StripCss=this.StripFont=this.StripSpan=this.StripWord=function(C,D,B){var F=C.substring(5);
var E=new Telerik.Web.UI.EditorCommandEventArgs(C,B.get_tool(),F.toUpperCase());
D.fire("FormatStripper",E);
};
this.FormatStripper=function(D,F,B){var C=B.value;
var G=F._filtersManager.getFilterByName("ConvertFontToSpanFilter");
if(F.get_mode()==Telerik.Web.UI.EditModes.Design&&C==l&&G&&G.get_enabled()){C=h;
}F.setFocus();
var I=true;
try{var J=new b.DomRange(F.getSelection().getRange(true),{preventCalculateEdges:true});
I=J._isBrowserRangeCollapsed();
}catch(E){}var H=new b.GenericCommand(F.getLocalizedString(D)+" "+C,F.get_contentWindow(),F);
var L;
if(C==q){L=new b.StripElementCommand(F,{tags:[h],selectAll:I,isNotGreedy:true});
L.onExecute();
C=p;
}var K={selectAll:I,tags:[C],clearValue:C,isNotGreedy:true,deleteWhitespaceNodes:C==e};
var M=C===g?"StripStylesCommand":C==h||C==l||C==d?"StripElementCommand":"StripWordFormattingCommand";
L=new b[M](F,K);
L.onExecute();
F.executeCommand(H);
};
this.InsertTable=function(C,D,B){var G=B.value;
if(G){var E=Telerik.Web.UI.Editor.Utils.createTable(G.rows,G.cols);
A(E,G);
var F=Telerik.Web.UI.Editor.Utils.getOuterHtml(E);
D.pasteHtml(F,C);
}};
this.InsertTableDialog=function(D,E,B){var C=b.CommandList.getCallbackFunction(B,function(G,F){E.fire("InsertTable",F);
});
E.showDialog("InsertTable",null,C);
return false;
};
this.MobileTableProperties=function(D,E,B){var G=b.CommandList._getParentTable(E);
if(!G){alert(E.getLocalizedString("tablewarning"));
return false;
}var F=function(I){return parseInt(I,10);
};
var H={width:F(G.style.width),height:F(G.style.height),padding:F(G.getAttribute("cellpadding")),spacing:F(G.getAttribute("cellspacing"))};
var C=b.CommandList.getCallbackFunction(B,function(J,I){var K=I.value;
Telerik.Web.UI.Editor.CommandList._updateTableDimensions(G,K);
A(G,K);
});
E.showDialog("MobileTableProperties",H,C);
return false;
};
this._updateTableDimensions=function(C,B){var E=o.getUnitName(C.style.width);
C.style.width=o.toUnit(B.width,E);
var D=o.getUnitName(C.style.height);
C.style.height=o.toUnit(B.height,D);
};
this.TableBorder=function(E,F,C){var B=b.CommandList;
var D=B._getTableArgument(F,1,false,true);
if(E=="TableBorder"&&!D){alert(F.getLocalizedString("tablewarning"));
return false;
}var G=B._getParentTable(F);
return r(F,G,D,C);
};
this.CellBorder=function(E,F,C){var B=b.CommandList;
var D=B._getTableArgument(F,2,false,true);
var G=$telerik.isFirefox&&F.get_contentWindow().getSelection().rangeCount>1;
if(!D||G){alert(F.getLocalizedString("cellwarning"));
return false;
}return r(F,D.cellToModify,D,C);
};
this.ImageBorder=function(D,F,B){var E=F.getSelectedElement();
if(!E||!o.isTag(E,"img")){return false;
}var C=new Telerik.Web.UI.EditorCommandEventArgs(D,null,E);
return r(F,E,C,B);
};
function r(E,F,D,B){var G=F;
var C=b.CommandList.getCallbackFunction(B,function(I,H){var J=H.get_value(),K=J.borderWidth;
if(K+""==="0"||K=="0px"){K="";
}a(G).css({"border-width":K,"border-style":J.borderStyle,"border-color":J.borderColor});
});
D.value=G;
b.CommandList._getDialogArguments(D,G.tagName,E,B.get_commandName());
E.showDialog("Border",D,C);
return false;
}function w(C){var D=C.getSelectedElement();
var B=o.isBlockElement(D)?D:o.getBlockParent(D);
return o.isBlockElement(B)?B:null;
}function x(C,D,B){var E=(o.isTag(C,"TD")||o.isTag(C,"TH"))?C:o.getElementParentByTag(C,"TD")||o.getElementParentByTag(C,"TH");
if(E){o[D?"MoveToPreviousCell":"MoveToNextCell"](E,B);
return true;
}return false;
}function A(C,D){var B=function(E,F){if(F){C.setAttribute(E,F);
}else{C.removeAttribute(E);
}};
B("cellpadding",D.padding);
B("cellspacing",D.spacing);
}this.InsertShiftTab=function(C,D,E){var B=w(D);
if(!x(B,true,D)){D.bubbleKeyEventToBrowser();
}return false;
};
this.InsertTabMozilla=function(C,D,E){var B=w(D);
if(!x(B,false,D)){D.bubbleKeyEventToBrowser();
}return false;
};
this.InsertTab=function(C,D,E){var B=w(D);
if(o.isTag(B,"LI")||o.isList(B)){D.fire("Indent");
}else{if(!x(B,false,D)){var F=b.RangeEdges.commonNode(D.getDomRange());
if(o.isZwspTextNode(F)){F.parentNode.insertBefore(D.get_document().createTextNode(" \u00A0\u00A0\u00A0\u00A0"),F);
}else{D.pasteHtml(" &nbsp;&nbsp;&nbsp;&nbsp;");
}}}return false;
};
this.SetToolFocus=function(C,D,E){var B=D.get_toolAdapter();
if(B){B.setFocus();
}return false;
};
this.Undo=this.Redo=function(C,D,B){var E=(!B||i.isNaN(B._value))?1:B._value;
if(C=="Redo"){D.redo(E);
}else{D.undo(E);
}};
this.PastePlainTextWithTable=function(D,F,B){if(F.get_lockFormatting&&!F.get_lockFormatting()){return;
}if($telerik.isIE){var G=!!B;
var H=F.createRestorePoint(),E=o.getClipboardAsHtml(F);
if(G&&!E){H.select();
alert(F.getLocalizedString("UseCtrlV"));
return;
}var C=o.cleanPastedContent(E,F.get_stripFormattingOptions(),F.get_localization()["askwordcleaning"],false,F);
H.select();
F.pasteHtml(C,B.get_commandName());
}};
this.CopyFromEditor=function(D){var F=D.createRestorePoint();
var G=false;
var C=Telerik.Web.UI.Editor.Utils.getClipboardAsHtml(D);
var B=D.get_clipboardData();
if(B&&B.contentFromEditor&&B.contentHTML==C){G=true;
}else{var E={contentFromEditor:false,contentHTML:C};
D.set_clipboardData(E);
}F.select();
return G;
};
this.PastePlainText=function(D,E,C){var B=function(H){if(H){var I=H.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
I=o.replaceNewLineWithBr(I);
if(I){E.pasteHtml(I,D);
}}};
var F=function(){var H=b.CommandList.getCallbackFunction(C,function(J,I){B(I.get_content());
});
E.showDialog("CleanPasteTextContent",{},H);
return false;
};
if(E.isIE){var G=window.clipboardData.getData("Text");
if(G){B(G);
}else{return F();
}}else{return F();
}};
this.PasteFromWord=this.PasteFromWordNoFontsNoSizes=this.PasteAsHtml=function(D,F,C){var B=function(L,M){var J="";
var N=F.get_stripFormattingOptions();
if(D=="PasteFromWord"||D=="PasteFromWordNoFontsNoSizes"){if(N==c.StripFormattingOptions.None||(N&c.StripFormattingOptions.ConvertWordLists)){L=o.convertWordLists(L);
}var K=D=="PasteFromWord"?"WORD":"WORD_ALL";
J=o.stripFormatting(L,K);
}else{J=o.convertText2Html(L);
}if(M){M.select();
}if(J){F.pasteHtml(J,D);
}};
var G=function(K){var J=b.CommandList.getCallbackFunction(C,function(M,L){B(L.get_content(),K);
});
F.showDialog("CleanPasteHtmlContent",{dialogTitle:F.getLocalizedString(D)},J);
};
if(F.isIE){var I=F.createRestorePoint();
I.useOldRange=true;
var E="";
if(F.get_contentAreaMode()==c.EditorContentAreaMode.Div){var H=F.getSelection().getRange(true);
E=o.getClipboardAsHtml(F);
if(H.select){H.select();
}else{b.DomRange.toDomRange(H).select();
}}else{E=o.getClipboardAsHtml(F);
}if(E){B(E,I);
}else{G(I);
}}else{G();
}};
this.PasteMarkdown=function(D,E,C){var B=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(C,function(I,F){var H=F.get_content();
var G=new Telerik.Web.UI.Editor.Markdown.Converter();
E.pasteHtml(G.makeHtml(H));
});
E.showDialog("PasteMarkdown",{dialogTitle:E.getLocalizedString(D),commandName:"PasteMarkdown"},B);
};
this.PasteHtml=function(D,E,C){var B=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(C,function(H,F){var G=F.get_content();
G=E.applyFiltersForEmbedContent(G);
E.pasteHtml(G);
});
E.showDialog("PasteHtml",{dialogTitle:E.getLocalizedString(D),commandName:"PasteHtml"},B);
};
this.Copy=function(C,F,B){if(!B){return;
}var G=false;
var D=F.get_document();
try{G=D.queryCommandEnabled(C);
}catch(E){G=false;
}if(G){try{G=D.execCommand(C,false,null);
}catch(E){G=false;
}}if(!G){alert(F.getLocalizedString("UseCtrlC"));
}};
this.Paste=function(C,D,B){var E=!!B;
var F=$telerik.isIE&&(E||D.get_enableTrackChanges()||D.get_enableComments());
if(F){window.setTimeout(function(){b.CommandList.PastePlainTextWithTable("PastePlainTextWithTable",D,B);
},0);
}else{D._pendingCutPasteCommand=E?null:new b.GenericCommand(D.getLocalizedString(C),D.get_contentWindow(),D);
if(E){alert(D.getLocalizedString("UseCtrlV"));
}}};
this.Cut=function(C,E,B){if(E.getDomRange().isCollapsed()){return;
}var F=E.getLocalizedString(C);
var D=E.get_contentWindow();
if(B){var G=new b.GenericCommand(F,D,E);
if(b.CommandList._tryCutProgrammatically(E)){E.executeCommand(G);
}else{b.CommandList._alert(E.getLocalizedString("UseCtrlX"));
}}else{E._pendingCutPasteCommand=new b.GenericCommand(F,D,E);
}};
this._alert=function(B){window.alert(B);
};
this._tryCutProgrammatically=function(E){var C=E.get_document();
var B="Cut";
var F=false;
var G=false;
try{F=C.queryCommandEnabled(B);
}catch(D){F=false;
}if(F){try{G=C.execCommand(B,false,null);
}catch(D){G=false;
}}return G&&E.getDomRange().isCollapsed();
};
this.InsertParagraph=function(C,D,E){if($telerik.isIE||$telerik.isFirefox||$telerik.isSafari||$telerik.isOpera11){var B=new Telerik.Web.UI.Editor.InsertParagraphCommand(D);
D.executeCommand(B);
}else{D.executeBrowserCommand(C,true,"");
}return true;
};
this.InsertParagraphSafari=function(B,E,G){E.executeBrowserCommand("InsertParagraph",true,"");
if($telerik.isSafari){var F=E.getSelectedElement();
var C=F;
while(C){if(Telerik.Web.UI.Editor.Utils.isEditorContentArea(C)){C=null;
}else{if(C.tagName=="DIV"){break;
}else{C=C.parentNode;
}}}if(C){var I=C.previousSibling;
if(I){var K=I.tagName;
if(I.nodeType==3||K=="P"||K=="UL"||K=="OL"||(K.charAt(0)=="H"&&!isNaN(parseInt(K.charAt(1),10)))){var D=E.get_document();
var H=D.createElement("P");
H.innerHTML="<br>";
C.parentNode.insertBefore(H,C);
if(I.nodeType==3){C.innerHTML=C.innerHTML.replace(/^<br>(&nbsp;)*/,"");
Telerik.Web.UI.Editor.Utils.removeNode(C);
}else{C.parentNode.removeChild(C);
}var J=D.createRange();
J.selectNodeContents(H);
E.getSelection().selectRange(J);
}}}}return true;
};
this.FormatBlock=function(C,D,B){D.executeCommand(new Telerik.Web.UI.Editor.FormatBlockCommand(D.getLocalizedString(C),D.get_contentWindow(),B.value,D));
};
this.FormatSets=function(D,E,B){var C=new Telerik.Web.UI.Editor.FormatSetsCommand(E.getLocalizedString(D),E.get_contentWindow(),B.value,E);
C.set_selectedElement(E.getSelectedElement());
E.executeCommand(C);
};
this.FormatPainterApply=function(D,E,B){var I=function(J){return !o.isTextNode(J)&&!o.isBlockElement(J)&&o.canHaveChildren(J);
};
var H=new b.StripElementCommand(E,{stripCondition:I});
H.onExecute();
var G={formatting:E.get_currentFormatting()};
var F={title:E.getLocalizedString(D)};
var C=new b.FormatPainterCommand(E,G,F);
E.executeCommand(C);
z(E,1);
};
this.FormatPainterCopy=function(C,D,B){var E=u(D.getSelectedElement());
D.set_currentFormatting(E);
z(D,1);
};
this.FormatPainterClear=function(C,D,B){D.set_currentFormatting(n);
z(D,0);
};
this._formatPainterStyles=["color","font-family","font-size","font-style","font-variant","font-weight","text-decoration","background-color","background-image","background-position","background-repeat","background-attachment"];
function z(B,C){var D=B.get_toolAdapter().getToolByName("FormatPainter");
if(D){if(D.set_selectedIndex){D.set_selectedIndex(C);
}else{D._enableButtonSelection=true;
D.set_selectedButtonIndex(C);
a(D.get_element()).removeClass("FormatPainterApply FormatPainterCopy FormatPainterClear").addClass((C==1)?"FormatPainterApply":"FormatPainterCopy");
}}}function u(G){var D=[];
var E={elements:D};
G=o.isTextNode(G)?G.parentNode:G;
var C=G;
if(!o.isEditorContentArea(G)){D.push(v(G));
}if(!o.isBlockElement(G)){do{G=G.parentNode;
if(!o.isEditorContentArea(G)){D.push(v(G));
}}while(!o.isBlockElement(G));
}var B=E.computedStyles={};
var F=$telerik.getComputedStyle;
Array.forEach(b.CommandList._formatPainterStyles,function(H){B[H]=F(C,H);
});
return E;
}function v(C){var B={nodeName:C.nodeName};
B.style=C.getAttribute("style");
B["class"]=C.className;
if(o.isTag(C,"font")){B.size=C.getAttribute("size");
B.color=C.getAttribute("color");
B.face=C.getAttribute("face");
}return B;
}this.InsertOrderedList=this.InsertUnorderedList=function(C,D,B){var E=(C=="InsertOrderedList"?"ol":"ul");
D.setFocus();
D.executeCommand(new Telerik.Web.UI.Editor.InsertListCmd(D,{title:C,listType:E}));
return true;
};
this.Indent=function(D,E,B){var C=new Telerik.Web.UI.Editor.IndentCommand(E,{title:D});
E.executeCommand(C);
};
this.Outdent=function(D,E,B){var C=new Telerik.Web.UI.Editor.OutdentCommand(E,{title:D});
E.executeCommand(C);
};
function y(B){return b[B+"Command"]||b[B];
}function t(E,C,D){var B=y(C);
return new B(E,{title:C,commandValue:D});
}this.Bold=this.Italic=this.Underline=this.Subscript=this.Superscript=this.StrikeThrough=this.RealFontSize=this.FontName=this.BackColor=this.ForeColor=function(C,E,F){E.setActive();
E.setFocus();
var D=F?(F._value||F.value):null;
var B=t(E,C,D);
E.executeCommand(B);
return true;
};
this.DeleteSelection=function(C,D,E){D.setActive();
D.setFocus();
var B=new b.DeleteSelectionCommand(D);
return D.executeCommand(B);
};
this.SelectAll=function(C,D,E){D.setActive();
D.setFocus();
var B=new b.SelectAllCommand(D);
return D.executeCommand(B);
};
this.Unlink=function(C,D,E){var B=new b.UnlinkCommand(D,{title:"Unlink"});
return D.executeCommand(B);
};
this.AbsolutePosition=function(B,C,D){C.setActive();
C.executeBrowserCommand(B,true,null,null);
return true;
};
this.JustifyLeft=this.JustifyRight=this.JustifyCenter=this.JustifyNone=this.JustifyFull=function(C,D,E){D.setActive();
var F=D.getLocalizedString(C);
var B=new Telerik.Web.UI.Editor.AlignCommand(D,{title:F,align:C.replace("Justify","").replace("Full","justify").toLowerCase()});
D.executeCommand(B);
return true;
};
this.TopLeftCellAlign=this.TopCenterCellAlign=this.TopRightCellAlign=this.MiddleLeftCellAlign=this.MiddleCenterCellAlign=this.MiddleRightCellAlign=this.BottomLeftCellAlign=this.BottomCenterCellAlign=this.BottomRightCellAlign=function(C,D,F){var H=C.toLowerCase().replace("align","");
var G=H.match(/top|middle|bottom/)[0];
var E=H.match(/left|center|right/)[0];
var B=new b.AlignCommand(D,{align:E,valign:G,isSuitableNode:j});
D.executeCommand(B);
return true;
};
this.NoCellAlign=function(C,D,E){var B=new b.AlignCommand(D,{align:"none",valign:"none",isSuitableNode:j});
D.executeCommand(B);
return true;
};
this.FontSize=function(C,D,B){var E=new Telerik.Web.UI.Editor.ieFontCommandFix(D);
E.applyFix();
D.executeBrowserCommand(C,true,B.value);
E.cleanUp();
};
this.Zoom=function(C,D,B){var F=B.value;
var E=B.get_tool?B.get_tool():null;
if(F&&E&&E.updateValue){E.updateValue(F);
}D.zoomContent(F);
return false;
};
this.Print=function(C,D,B){if(D.isIE){D.get_document().execCommand(C,false,null);
}else{if(D.get_contentWindow().print){D.get_contentWindow().print();
}}return false;
};
this.InsertSnippet=function(C,D,B){D.pasteHtml(B.value,C);
};
this.InsertFormElement=function(C,D,B){var I=B.value;
I=I.toLowerCase();
var E=null;
switch(I){case"form":if(D.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){alert("Error! Form elements are only supported when the content area is set to Iframe!");
B.set_cancel(true);
return false;
}else{E=D.createElement("form","150px","150px");
E.innerHTML="&nbsp;";
}break;
case"textarea":E=D.createElement("textarea");
break;
case"select":E=D.createElement("select","100px","22px");
break;
case"checkbox":case"radio":E=D.createElement("input");
E.setAttribute("type",I);
break;
case"button":case"reset":case"submit":E=D.createElement("input","50px","22px");
E.setAttribute("type",I);
break;
case"hidden":case"password":case"text":E=D.createElement("input","100px","22px");
E.setAttribute("type",I);
break;
}if(E){var G=Telerik.Web.UI.Editor.Utils.getUniqueID();
E.setAttribute("id",G);
var F=Telerik.Web.UI.Editor.Utils.getOuterHtml(E);
D.pasteHtml(F,C);
var H=D.get_document().getElementById(G);
if(H){H.removeAttribute("id");
if(H.setActive){H.setActive();
}return false;
}}};
this.InsertGroupbox=this.InsertDate=this.InsertTime=this.InsertSymbol=this.InsertHorizontalRule=function(C,F,B){var I="";
switch(C){case"InsertSymbol":I=B.value;
break;
case"InsertHorizontalRule":I="<hr>";
break;
case"InsertDate":var D=new Date();
I="&nbsp;"+D.toLocaleDateString();
break;
case"InsertTime":var E=new Date();
I="&nbsp;"+E.toLocaleTimeString();
break;
default:var H=F.getLocalizedString("RadEditorGroupboxTitle","Title");
var G=F.getLocalizedString("RadEditorGroupboxContent","Content...");
I="<fieldset> <legend>"+H+"</legend>"+G+" </fieldset> ";
}F.pasteHtml(I,C);
};
this.ImageManager=function(E,F,D){var I=F.getSelectedElement();
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(P,J){var O=J.get_value(),K="",N;
for(var L=0;
L<O.length;
L++){K+=Telerik.Web.UI.Editor.Utils.getOuterHtml(O[L]);
}if(I&&I.nodeName=="IMG"){N=I.parentNode;
F._disposeElementResizableWidget();
var M=N&&N.nodeName=="A"&&N.childNodes.length==1;
F.selectElement(I);
if(M&&K.indexOf("<img")==0){N.innerHTML=K;
K=$telerik.getOuterHtml(N);
F.selectElement(N);
N.parentNode.removeChild(N);
}}F.pasteHtml(K,E);
});
var H=F.get_dialogOpener().get_additionalQueryString();
if(I&&I.tagName=="IMG"){var G=I.getAttribute("src",2);
F.get_dialogOpener().set_additionalQueryString(H+"&rndnum="+(new Date()-100)+"&PreselectedItemUrl="+encodeURIComponent(G));
}else{I=null;
}var B=new Telerik.Web.UI.EditorCommandEventArgs(E,null,I);
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"IMG",F,E);
F.showDialog("ImageManager",B,C);
F.get_dialogOpener().set_additionalQueryString(H);
return false;
};
this.SilverlightManager=this.FlashManager=this.MediaManager=function(E,F,D){var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(L,J){var K=J.get_value();
if(!K){K=J.Result;
}K=F.applyFiltersForEmbedContent(K);
F.pasteHtml(K,E);
});
var B={};
var H=F.get_dialogOpener().get_additionalQueryString();
var I=F.getSelectedElement();
if(I){if($telerik.isIE&&I.object){var G="MediaManager"==E?I.object.FileName:I.object.Movie;
if(G){F.get_dialogOpener().set_additionalQueryString(H+"&rndnum="+(new Date()-100)+"&PreselectedItemUrl="+encodeURIComponent(G));
B.selectedItemUrl=G;
B.selectedObject=I;
}}}F.showDialog(E,B,C);
F.get_dialogOpener().set_additionalQueryString(H);
return false;
};
this.TemplateManager=function(D,E,C){var B=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(C,function(H,F){var G=F.get_value();
if(!G){G=F.Result;
}E.pasteHtml(G,D);
});
E.showDialog("TemplateManager",{},B);
return false;
};
this.AboutDialog=function(B,C,D){C.showDialog("AboutDialog");
return false;
};
this.Help=function(B,C,D){C.showDialog("Help");
return false;
};
this.PageProperties=function(E,F,D){var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(H,G){});
var B={};
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"BODY",F,E);
F.showDialog("PageProperties",B,C);
return false;
};
this.ImageMapDialog=function(E,F,D){var B=Telerik.Web.UI.Editor.CommandList._getImageMapDialogArgument(F);
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(H,G){Telerik.Web.UI.Editor.CommandList._setImageMapProperties(F,G,E);
return false;
});
F.showDialog("ImageMapDialog",B,C);
return false;
};
this._setImageMapProperties=function(E,B,C){if(!B){return;
}var M=E.getSelectedElement();
var F;
if(M&&M.tagName=="IMG"){F=M;
if(B.ImageSrc!=F.src){F.src=B.ImageSrc;
}}else{if(!B.ImageSrc){return;
}E.pasteHtml('<img src="'+B.ImageSrc+'" id = "__tmp__">',C);
F=E.get_document().getElementById("__tmp__");
F.removeAttribute("id");
if(document.all){var L=E.get_document().body.createTextRange();
L.collapse();
L.moveToElementText(F);
L.select();
}}var O=document.createElement("span");
O.innerHTML=B.MapHtml;
var N=O.getElementsByTagName("map");
if(N.length==0){return;
}var I=N[0].innerHTML;
O=null;
if(!I){var D=F.getAttribute("useMap",2);
if(D){var J=Telerik.Web.UI.Editor.CommandList._getImageMapByName(E,D);
if(J){J.parentNode.removeChild(J);
}}F.removeAttribute("useMap");
return;
}var H=null;
var P=F.getAttribute("useMap",2);
if(P){H=Telerik.Web.UI.Editor.CommandList._getImageMapByName(E,P);
}if(H==null){var G=new Date()-100;
var K="rade_img_map_"+G;
H=E.get_document().createElement("map");
H.id=K;
this._setNameAttribute(H,K);
H=E.get_contentArea().appendChild(H);
F.setAttribute("useMap","#"+K);
F.setAttribute("border","0");
}H.innerHTML=I;
};
this._setNameAttribute=function(B,C){B.removeAttribute("name");
B.removeAttribute("NAME");
B.name=null;
B.name=C;
B.NAME=C;
};
this._getImageMapDialogArgument=function(C){var B={};
B.editor=C;
var D=C.getSelectedElement();
if(D&&D.tagName=="IMG"){B.ImageSrc=D.getAttribute("src",2);
B.ImageWidth=(D.style.width)?D.style.width:D.width;
B.ImageHeight=(D.style.height)?D.style.height:D.height;
if(document.selection){C.selectElement(D);
}if(D.useMap){var F=D.getAttribute("useMap",2);
var E=Telerik.Web.UI.Editor.CommandList._getImageMapByName(C,F);
if(E!=null){B.ImageMapHTML='<map name = "'+F.substr(1)+'">'+E.innerHTML+"</map>";
}else{B.ImageMapHTML="";
}D.style.width=B.ImageWidth;
D.style.height=B.ImageHeight;
}}return B;
};
this._getImageMapByName=function(B,F){F=F.substr(1);
var C=B.get_document();
var E=C.getElementById(F);
if(E!=null){return E;
}var G=C.getElementsByTagName("map");
for(var D=0;
D<G.length;
D++){if(G[D].getAttribute("name")==F){return G[D];
}}return null;
};
this.get_ImportStyleSheetHTML=function(B,C,F){var E="";
if(F){var D=C.get_document().getElementById(F.id);
if(!D){E=Telerik.Web.UI.Editor.Utils.getOuterHtml(F);
}}return E;
};
this._replaceTable=function(H,C,B){var E=B.tableToModify;
var G=C.getSelection();
var F=b.DomRange.toDomRange(G.getRange(true));
if(E){if(H){H.parentNode.replaceChild(E,H);
}else{G.insertNode(E,F);
}}if(B.styleSheetToImport){b.CommandList._importStyleSheet(B.styleSheetToImport,E);
}if(B.styleSheetToRemove){b.CommandList._removeStyleSheet(C,B.styleSheetToRemove);
}var D=$telerik.$(E).find("td,th").last().get(0);
if(D){F.selectNodeContents(D);
F.collapse(false);
F.select();
}};
this._removeStyleSheet=function(B,D){var E=D?D.id:null;
var C=$telerik.$(B.get_contentArea());
if(!E||C.find("table."+E).get(0)){return;
}C.find("#"+E).remove();
};
this._importStyleSheet=function(D,E){var C=D.cloneNode(false);
var B=D.styleSheet?D.styleSheet.cssText:D.innerHTML;
$telerik.$(C).insertAfter(E);
if(C.styleSheet){C.styleSheet.cssText=B;
}else{C.appendChild(E.ownerDocument.createTextNode(B));
}};
this.TableWizard=function(F,G,E){var B=b.CommandList;
var C=B._getTableArgument(G,null,true,false);
B._getDialogArguments(C,"TABLE",G,F);
var H=B._getParentTable(G);
var D=B.getCallbackFunction(E,function(J,I){B._replaceTable(H,G,I);
});
G.showDialog("TableWizard",C,D);
return false;
};
this.InsertFormSelect=function(E,F,D){var G=F.getSelectedElement();
var H;
if(G&&G.nodeName=="SELECT"){H=G;
}var B=Telerik.Web.UI.Editor.CommandList._getSelectArgument(H);
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"SELECT",F,E);
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(L,I){if(!$telerik.isIE&&H){var J=Telerik.Web.UI.Editor.DomRange.toDomRange(F.getSelection().getRange());
J.selectNode(H);
J.select();
F.pasteHtml(I.selectToInsert.outerHTML);
return;
}var K=I.selectToInsert;
F.pasteHtml(K.outerHTML);
});
F.showDialog("InsertSelectDialog",B,C);
return false;
};
this.InsertTableLight=this.SetTableProperties=function(F,G,E){var B=b.CommandList;
var C=B._getTableArgument(G,1,false,true);
if(F=="SetTableProperties"&&!C){alert(G.getLocalizedString("tablewarning"));
return false;
}var H=B._getParentTable(G);
var D=B.getCallbackFunction(E,function(J,I){B._replaceTable(H,G,I);
});
if(G.get_document().selection&&G.get_document().selection.empty&&F!="InsertTableLight"){G.get_document().selection.empty();
}if(F=="SetTableProperties"){B._getDialogArguments(C,"TABLE",G,F);
G.showDialog("TableWizard",C,D);
}else{if(!C){C=new c.EditorCommandEventArgs("InsertTableLight",null,null);
}C._name=C._commandName="InsertTableLight";
C.editor=G;
G.showDialog("InsertTableLight",C,D);
}return false;
};
this.SetCellProperties=function(F,G,E){var B=b.CommandList;
var C=B._getTableArgument(G,2,false,true);
var H=$telerik.isFirefox&&G.get_contentWindow().getSelection().rangeCount>1;
if(!C||H){alert(G.getLocalizedString("cellwarning"));
return false;
}B._getDialogArguments(C,"TABLE",G,F);
var I=B._getParentTable(G);
var D=B.getCallbackFunction(E,function(K,J){B._replaceTable(I,G,J);
});
G.showDialog("TableWizard",C,D);
return false;
};
this.FindAndReplace=function(F,G,E){var D=new b.FindReplaceCommand(G);
if(D.onExecute()){var H=D.isOn(G);
var J=function(K){if(K.get_name()==F){K.setOn(H);
}};
G.updateTools(G.get_toolAdapter(),J);
G.updateTools(G.get_headerToolsToolAdapter(),J);
var I=G.get_toolAdapter().get_mobileKeyboardAdapter();
if(I){I.hideKeyboardOverlay();
}return false;
}var B={};
B.editor=G;
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(E,function(L,K){});
G.showDialog("FindAndReplace",B,C);
return false;
};
this.StyleBuilder=function(E,F,D){var K=null;
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(P,L){var N=Telerik.Web.UI.Editor.Utils.getOuterHtml(L.get_value());
N=N.replace(/(url\s*\(\s*)&quot;(.*)&quot;\s*\)/ig,"$1$2)");
if(K){var O="";
var Q=new RegExp("style=(\"|')(.+?)\\1","gi");
N.replace(Q,function(T,R,S){O=S;
});
if(O){var M=new Telerik.Web.UI.Editor.AttributeCommand(E+"set Style Attribute",F.get_contentWindow(),K,"style",O,F);
F.executeCommand(M);
}}else{F.pasteHtml(N,E);
}});
var I=F.getSelection();
var H=I.getParentElement();
if(!$telerik.isIE||!I.isControl()){var J=I.getText();
if(J||(H&&H.tagName=="BODY")){var G=F.createElement("span");
Telerik.Web.UI.Editor.Utils.setElementInnerHtml(G,J);
H=G;
}else{K=H;
F.selectElement(H,false);
}}if(!H){H=Telerik.Web.UI.Editor.Utils.getContentAreaFirstChild(F);
F.selectElement(H,false);
}var B=new Telerik.Web.UI.EditorCommandEventArgs("StyleBuilder",null,(H?H.cloneNode(true):null));
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"*",F,E);
B.fontNames=F.get_fontNames();
F.showDialog("StyleBuilder",B,C);
return false;
};
this.XhtmlValidator=function(E,F,D){var B=F;
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(H,G){});
F.showDialog("XhtmlValidator",B,C);
return false;
};
this.InsertCustomLink=function(D,E,B){var F=B.value,G=$telerik.$(String.format("<a href='{1}' title='{3}' target='{2}'>{0}</a>",F.innerHTML,F.href,F.target,F.title))[0],H=Telerik.Web.UI.Editor.CommandList._getLinkArgument(E).get_value();
if(H.innerHTML.trim()){G.innerHTML=H.innerHTML;
}var C=new Telerik.Web.UI.Editor.InsertLinkCommand(D,E.get_contentWindow(),G,E);
E.executeCommand(C);
return true;
};
this._getDialogArguments=function(B,E,D,C){if(!D){B.Colors=[];
B.CssClasses=[];
B.CellCssClasses=[];
B.tableLayoutCssFile="";
B.editor=null;
return;
}B.Colors=D.get_colors();
if("TD"==E||"TH"==E||"TABLE"==E){B.CssClasses=D.getCssArray("TABLE");
B.CellCssClasses=D.getCssArray("TD");
B.tableLayoutCssFile=D.get_tableLayoutCssFile();
}else{if("A"==E||"BODY"==E||"IMG"==E){B.CssClasses=D.getCssArray(E);
}else{if("SELECT"==E){B.CssClasses=D.getCssArray(E);
}}}B.editor=D;
};
this.DocumentManager=this.SetLinkProperties=this.LinkManager=function(E,G,D){var F=E=="DocumentManager"?"DocumentManager":"LinkManager";
var B=Telerik.Web.UI.Editor.CommandList._getLinkArgument(G);
var H=(f.ie&&f.version<11)?G.getDomRange():null;
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"A",G,E);
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(L,I){if(H){H.select();
}if(I=="remove"){G.fire("Unlink");
return false;
}else{var K=I.get_value()||I.Result||I.realLink;
var J=new Telerik.Web.UI.Editor.InsertLinkCommand(E,G.get_contentWindow(),K,G);
G.executeCommand(J);
}});
G.showDialog(F,B,C);
return false;
};
this.InsertLink=function(E,G,D){var F="InsertLink";
var B=Telerik.Web.UI.Editor.CommandList._getLinkArgument(G);
B._name=B._commandName="InsertLink";
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"A",G,E);
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(K,H){var J=H.get_value();
var I=new Telerik.Web.UI.Editor.InsertLinkCommand(E,G.get_contentWindow(),J,G);
G.executeCommand(I);
});
G.showDialog(F,B,C);
return false;
};
this.OpenLink=function(C,D,B){var E=new b.InsertLinkCommand(C,D.get_contentWindow(),null,D);
var F=E.getCurrentFormattedAncestor();
if(F){window.open(F.href||"about:blank","_blank");
}};
this.InsertImage=this.SetImageProperties=function(E,G,D){var F=G.getSelectedElement();
if(F&&F.nodeName!="IMG"){F=null;
}var B=new Telerik.Web.UI.EditorCommandEventArgs(E,null,F);
Telerik.Web.UI.Editor.CommandList._getDialogArguments(B,"IMG",G,E);
B.Element=F;
if(F){B.alt=F.getAttribute("alt");
B.title=F.getAttribute("title");
B.description=F.getAttribute("longdesc");
}var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(K,H){var J=H.get_value?H.get_value():H.Result;
if(!J){return;
}if(J.parentNode===n&&J.title!==n&&typeof(J.title)==="string"){if(!F){return false;
}var L=function(M){var N=J[M];
if(N){F.setAttribute(M,N);
}else{F.removeAttribute(M);
}};
L("alt");
L("title");
L("longdesc");
}else{if(F&&F.parentNode){var I=new Telerik.Web.UI.Editor.GenericCommand(G.getLocalizedString(E),G.get_contentWindow(),G);
F.parentNode.replaceChild(J,F);
G.selectElement(J);
G.executeCommand(I);
}else{G.pasteHtml(Telerik.Web.UI.Editor.Utils.getOuterHtml(J),E);
}}});
if(E=="SetImageProperties"){G.showDialog("ImageProperties",B,C);
}else{G.showDialog("InsertImage",B,C);
}return false;
};
this.ImageSizeMargins=function(D,F,B){var K=["width","height"];
var I=["marginTop","marginBottom","marginLeft","marginRight"];
var E=F.getSelectedElement();
if(!E||!o.isTag(E,"img")){return false;
}var J=function(M){return parseInt(M,10);
};
var L=E.style;
var G={};
Array.forEach(I,function(M){G[M]=J(L[M]);
});
var H=$telerik.getSize(E);
Array.forEach(K,function(M){G[M]=J(L[name])||H[M];
});
var C=b.CommandList.getCallbackFunction(B,function(N,M){var P=M.value;
var O=E.style;
Array.forEach(K,function(Q){if(G[Q]!=P[Q]){O[Q]=k(P[Q]);
}if(E.hasAttribute(Q)&&O[Q]){E.removeAttribute(Q);
}});
Array.forEach(I,function(Q){O[Q]=k(P[Q]);
});
});
F.showDialog("SizeMargins",G,C);
return false;
};
this.InsertExternalVideo=function(D,E,C){var B=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(C,function(G,F){E.pasteHtml(F.get_value(),D);
});
E.showDialog("InsertExternalVideo",null,B);
};
this.FormatCodeBlock=function(E,F,D){var B=new Telerik.Web.UI.EditorCommandEventArgs("FormatCodeBlock",null,F.getSelectionHtml());
B.dirtyCode=F.getSelectionHtml();
if(F.get_document().selection){var G=F.get_document().selection.type.toLowerCase();
if(G=="control"||G=="none"){B.set_value("");
}}var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(I,H){F.pasteHtml(H.get_value?H.get_value():H.get_code(),E);
});
F.showDialog("FormatCodeBlock",B,C);
return false;
};
this._getDocumentAnchors=function(D){var C=D.getElementsByTagName("A");
var B=[];
for(var E=0;
E<C.length;
E++){if(C[E].name){B[B.length]=C[E];
}}return B;
};
this._getParentLink=function(B){return this._getExistingLink(B)||this._createNewLink(B);
};
this._getExistingLink=function(B){var D=B.getSelectedElement();
var C=Telerik.Web.UI.Editor.Utils.getElementParentByTag(D,"A");
if(C){B.selectElement(C);
return C;
}return null;
};
this._createNewLink=function(C){var F=C.getSelectedElement();
var D="";
var G=(F&&F.tagName)?F.tagName:"";
if(G=="IMG"){D=Telerik.Web.UI.Editor.Utils.getOuterHtml(F);
}if(!D){D=C.getSelectionHtml();
}if($telerik.isIE&&F){var H=F.tagName;
if(H=="FONT"||H=="SPAN"){D=D.replace(/^<(FONT|SPAN)[^>]*>/gi,"");
D=D.replace(/<\/(FONT|SPAN)>$/gi,"");
}}var E=C.get_document().createElement("a");
try{Telerik.Web.UI.Editor.Utils.setElementInnerHtml(E,D);
}catch(B){E.innerHTML=String.format("<span>{0}</span>",Telerik.Web.UI.Editor.Utils.stripFormatting(D,"ALL"));
}return E;
};
this._getLinkArgument=function(C,H){var D=b.CommandList._getExistingLink(C);
var G=D||b.CommandList._createNewLink(C);
var F=G.innerHTML;
var E=!F?false:F.match(/</);
if($telerik.isIE&&E){var I=F.trim().toLowerCase();
if(I.match(/<p[^>]*>(&nbsp;|\s*)<\/p>/)){G.innerHTML=" ";
E=false;
}}var B=new Telerik.Web.UI.EditorCommandEventArgs("LinkManager",null,G.cloneNode(true));
B.selectedTabIndex=H?H:0;
B.showText=!E;
B.documentAnchors=Telerik.Web.UI.Editor.CommandList._getDocumentAnchors(C.get_document());
B.realLink=B.get_value();
B.canUnlink=!!D;
return B;
};
this._getParentTable=function(B){B.setFocus();
var D=B.getSelectedElement();
var C=Telerik.Web.UI.Editor.Utils.getElementParentByTag(D,"TABLE");
return C;
};
this._getParentCell=function(B){B.setFocus();
var D=B.getSelectedElement();
var C=Telerik.Web.UI.Editor.Utils.getElementParentByTag(D,"TD");
if(!C){C=Telerik.Web.UI.Editor.Utils.getElementParentByTag(D,"TH");
}return C;
};
this._getTableArgument=function(B,H,C,G){var F;
var E=null;
if(C){F=Telerik.Web.UI.Editor.Utils.createTable(2,2,B.get_document());
}else{F=Telerik.Web.UI.Editor.CommandList._getParentTable(B);
}if(!C&&!F){return null;
}if(G){E=Telerik.Web.UI.Editor.CommandList._getParentCell(B);
}var I=F.cloneNode(true);
var D=F;
return{selectedTabIndex:H?H:0,cellToModify:E,tableToModify:I,originalTable:D,tableDocument:I.ownerDocument||B.get_document()};
};
this._getSelectArgument=function(B){return{selectToModify:B};
};
this.EnterParagraphMozilla=function(C,D,B){var E=new Telerik.Web.UI.Editor.EnterNewLineCommand("Enter",D.get_contentWindow(),false,D);
return E.enterBlockElement();
};
this.EnterMozilla=function(C,D,B){if(D.get_mode()==Telerik.Web.UI.EditModes.Preview){return false;
}var E=D.getSelectedElement();
if(E!=null&&E.tagName!="P"){D.bubbleKeyEventToBrowser();
return true;
}else{D.pasteHtml("<br />");
}};
this.EnterNewLine=function(D,E,B){var C=new Telerik.Web.UI.Editor.EnterNewLineCommand("Enter",E.get_contentWindow(),false,E);
if($telerik.isSafari&&E&&E.get_newLineMode()!=Telerik.Web.UI.EditorNewLineModes.Br){C.set_canUnexecute(false);
}E.executeCommand(C);
};
this.Enter=function(C,D,B){if(D.get_mode()==Telerik.Web.UI.EditModes.Preview){return false;
}var K=D.getSelectedElement();
if("LI"==K.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(K,"LI")!=null){D.bubbleKeyEventToBrowser();
return false;
}if(D.get_enableTrackChanges()){if(K.getAttribute("Name")!=null){if(K.getAttribute("Name").indexOf("_wp")==0){D.bubbleKeyEventToBrowser();
return false;
}}}try{var G=D.getLocalizedString("Enter");
var F=new Telerik.Web.UI.Editor.GenericCommand(G,D.get_contentWindow(),D);
var J=D.getSelection();
var H=J.getRange();
if(H.pasteHTML){var L=K.tagName;
if(L.charAt(0)=="H"&&parseInt(L.charAt(1),10)>0){var I=H.duplicate();
I.moveToElementText(K);
D.bubbleKeyEventToBrowser();
return false;
}else{if(L.toLowerCase()=="textarea"){D.bubbleKeyEventToBrowser();
return false;
}}H.pasteHTML("<br>");
H.select();
H.moveEnd("character",1);
H.moveStart("character",1);
H.collapse(false);
}else{if(J.isControl()){if(H(0)){H.execCommand("Delete");
}}else{D.bubbleKeyEventToBrowser();
return false;
}}D.executeCommand(F);
}catch(E){alert(E.message);
}return false;
};
this.ShiftEnter=function(C,E,B){var I=E.getSelectedElement();
var D=E.get_document();
if(D.selection&&("LI"==I.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(I,"LI")!=null)){var G=E.getLocalizedString("Enter");
var F=new Telerik.Web.UI.Editor.GenericCommand(G,E.get_contentWindow(),E);
var H=D.selection.createRange();
H.pasteHTML("<br>");
H.select();
H.moveEnd("character",1);
H.moveStart("character",1);
H.collapse(false);
E.executeCommand(F);
return false;
}E.bubbleKeyEventToBrowser();
return false;
};
this.ShiftEnterSafari=function(C,E,B){var G=E.getSelectedElement();
if("LI"==G.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(G,"LI")!=null){var F=new Telerik.Web.UI.Editor.GenericCommand("Enter",E.get_contentWindow(),E);
E.pasteHtml("<br />","",null,null,false);
E.executeCommand(F);
}else{var D=Telerik.Web.UI.Editor.EnterNewLineCommand.insertBrAfterHeading;
Telerik.Web.UI.Editor.EnterNewLineCommand.insertBrAfterHeading=true;
E.executeCommand(new Telerik.Web.UI.Editor.EnterNewLineCommand(E.getLocalizedString(C),E.get_contentWindow(),false,E,Telerik.Web.UI.EditorNewLineModes.Br));
Telerik.Web.UI.Editor.EnterNewLineCommand.insertBrAfterHeading=D;
}return false;
};
this.EnterSafari=function(C,D,B){var E=D.getSelectedElement();
if("LI"==E.tagName||Telerik.Web.UI.Editor.Utils.getElementParentByTag(E,"LI")!=null){D.bubbleKeyEventToBrowser();
return false;
}D.executeBrowserCommand("InsertLineBreak",true,"");
return false;
};
this.ToggleTableBorder=function(C,D,B){D.toggleEnhancedEdit();
return false;
};
this.ConvertToUpper=this.ConvertToLower=function(D,F,B){var S,I,E=F.get_document();
if($telerik.isIE&&E.selection){if(E.selection.type.toLowerCase()=="control"){return;
}var N=E.selection.createRange();
S=N.duplicate();
I=N.duplicate();
S.collapse();
I.collapse(false);
}var P=Telerik.Web.UI.Editor.CommandList._markEditorSelection(F);
var H=P.markedElements;
var L=P.newElements;
var J=new Telerik.Web.UI.Editor.GenericCommand(F.getLocalizedString(D),F.get_contentWindow(),F);
function C(U){var T=U.childNodes;
for(var V=0;
V<T.length;
V++){if(T[V].nodeType==3){T[V].nodeValue=("ConvertToLower"==D)?T[V].nodeValue.toLowerCase():T[V].nodeValue.toUpperCase();
}else{if(T[V].nodeType==1&&T[V].tagName.toUpperCase()!="FONT"){C(T[V]);
}}}}var K;
for(K=0;
K<H.length;
K++){C(H[K]);
}for(K=0;
K<L.length;
K++){var G=L[K];
if($telerik.isIE&&G.removeNode){G.removeNode(false);
}else{var O=document.createRange();
O.selectNodeContents(G);
G.parentNode.replaceChild(O.extractContents(),G);
}}if($telerik.isIE&&E.selection){var M=E.selection.createRange();
M.setEndPoint("StartToStart",S);
M.setEndPoint("EndToEnd",I);
M.select();
}else{var R=F.get_contentWindow().getSelection();
var Q=R.getRangeAt(0);
Q.collapse(true);
}F.executeCommand(J);
};
this.ApplyClass=function(E,F,B){var C=B.get_value();
var H=B.tag||"";
var I=B.get_tool();
var G=I?I.get_items()[I.get_selectedIndex()]:n;
if(!H&&G&&G[0]==C){H=o.getTagByStyleRule(G[1]);
}var D=new b.ApplyClass(F,{title:"Apply Class",commandValue:C,tag:H});
F.executeCommand(D);
return true;
};
s.MobileEdit=function(C,D,B){if(D._renderMode==c.RenderMode.Mobile){var F=D.get_toolAdapter();
if(F.toggleEdit){var E=D.getToolState("FindAndReplace");
if(E===b.CommandStates.On){s.FindAndReplace("FindAndReplace",D);
}F.toggleEdit();
}}return false;
},s.ToggleEditMode=function(D,E,B){var C=b.CommandList;
C._switchBetweenHtmlAndDesignMode(E);
C._switchStateOfToggleEditModeTool(E);
};
s._switchBetweenHtmlAndDesignMode=function(D){var B=D.get_mode();
var C=c.EditModes;
if(B===C.Design){D.set_mode(C.Html);
}else{if(D.get_renderMode()===c.RenderMode.Mobile){D.get_textArea().blur();
}D.set_mode(C.Design);
}};
s._switchStateOfToggleEditModeTool=function(D){var C=c.EditModes;
var B=D.get_mode();
var F=D.get_toolAdapter();
var E=F.getToolByName(m);
if(E){E.setOn(B===C.Html);
}};
this._completeEditorSelection=function(C,F){if(!F){F="";
}var B=C.get_contentWindow();
var D=C.get_document();
var I=C.getSelection().getParentElement();
var J=I?I.tagName:"";
if($telerik.isIE&&!C.getSelectionHtml()&&(J=="FONT"||J=="SPAN")){D.execCommand("RemoveFormat",null,false);
}var E=C.getSelection();
E.pasteHtml("<font "+F+" id='radERealFont'>&#x200b;</font>");
var G=C.get_document().getElementById("radERealFont");
G.removeAttribute("id");
if($telerik.isIE){C.selectElement(G);
C.getSelection().collapse();
G.innerHTML="";
}else{if(B.getSelection){var H=B.getSelection();
var K=C.getSelection().getRange();
H.removeAllRanges();
if(!$telerik.isSafari){G.innerHTML="";
}K.selectNodeContents(G);
if(!$telerik.isSafari){K.collapse(false);
}H.addRange(K);
}}};
this._markEditorSelection=function(G){if(G.get_html()==""){return{markedElements:[],newElements:[],oldElements:[]};
}var F="AZBY";
var E="_cm";
var R=[];
var S=[];
var T=[];
var U=[];
var O=f.safari&&f.version<4;
var M=O?"span":"font";
var H=G.get_contentArea();
if(O){var W=new Telerik.Web.UI.Editor.OptimizeSpans();
W.getHtmlContent(H);
}var I=G.getSelection();
if(I.isControl()){var D=I.getParentElement();
var L=G.get_document().createElement(M);
L.appendChild(D.cloneNode(true));
D.parentNode.replaceChild(L,D);
return{markedElements:[L],newElements:[L]};
}function Q(){var X=G.get_contentArea().getElementsByTagName(M);
for(var Z=0;
Z<X.length;
Z++){var Y=X[Z];
if(X[Z].face){Y.setAttribute("_face",Y.face);
R.push(Y);
}else{if(O){Y.setAttribute("_face",Y.style.fontFamily);
R.push(Y);
}}Y.setAttribute(E,1);
}}function V(){for(var X=0;
X<R.length;
X++){if(O){R[X].style.fontFamily=R[X].getAttribute("_face");
}else{R[X].face=R[X].getAttribute("_face");
}R[X].removeAttribute("_face");
}R=[];
}Q();
if(!$telerik.isIE){H.ownerDocument.execCommand("UseCSS",false,true);
H.ownerDocument.execCommand("styleWithCSS",false,false);
}H.ownerDocument.execCommand("FontName",false,F);
var J=H.getElementsByTagName(M);
for(var N=0;
N<J.length;
N++){var K=J[N];
if(K.getAttribute("face")==F||K.style.fontFamily==F){K.removeAttribute("face");
if(K.style.fontFamily==F){K.style.fontFamily="";
if(K.className=="Apple-style-span"){K.className="";
}}S.push(K);
var C=K.getElementsByTagName(M);
for(var P=0;
P<C.length;
P++){var B=C[P];
if(B.getAttribute("face")!=F){S.push(B);
}}if(!K.getAttribute(E)){T.push(K);
}else{U.push(K);
}}K.removeAttribute(E);
}V();
if(!$telerik.isIE){H.ownerDocument.execCommand("UseCSS",false,false);
H.ownerDocument.execCommand("styleWithCSS",false,true);
}return{markedElements:S,newElements:T,oldElements:U};
};
this.CSDialog=function(E,F,D){var B=F;
var C=Telerik.Web.UI.Editor.CommandList.getCallbackFunction(D,function(H,G){});
F.showDialog("CSDialog",B,C);
return false;
};
})();
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor.CommandsManager=function(a){this._commands=[];
this._currentCommandIndex=-1;
};
Telerik.Web.UI.Editor.CommandsManager.prototype={get_commands:function(){return this._commands;
},execute:function(c,a){if(c&&c.execute){var b=c.execute();
if(false==a){return false;
}if(b&&c._canUnexecute){this._clearCommandsToRedo();
Array.add(this._commands,c);
this._currentCommandIndex=this._commands.length-1;
return true;
}}return false;
},undo:function(c){var d=this;
if(c>d._commands.length){c=d._commands.length;
}var a=0;
var b=null;
while(0<c&&0<=d._currentCommandIndex&&d._currentCommandIndex<d._commands.length){b=d._commands[d._currentCommandIndex--];
if(b){d._updateRestorePoints(b);
b.unexecute();
a++;
}c--;
}},redo:function(d){var e=this;
if(d>e._commands.length){d=e._commands.length;
}var a=0;
var b=null;
var c=e._currentCommandIndex+1;
while(0<d&&0<=c&&c<e._commands.length){b=e._commands[c];
if(b){e._updateRestorePoints(b);
b.execute();
e._currentCommandIndex=c;
a++;
}c++;
d--;
}},removeCommandAt:function(a){this._commands.splice(a,1);
if(this._currentCommandIndex>=a){this._currentCommandIndex--;
}},isUndoAvailable:function(){return(-1<this._currentCommandIndex);
},isRedoAvailable:function(){return(this._currentCommandIndex<this._commands.length-1);
},getCommandsToUndo:function(){if(this.isUndoAvailable()){return(this._commands.slice(0,this._currentCommandIndex+1)).reverse();
}else{return[];
}},getCommandsToRedo:function(){if(this.isRedoAvailable()){return this._commands.slice(this._currentCommandIndex+1);
}else{return[];
}},canRepeatLastCommand:function(){return((this._currentCommandIndex==this._commands.length-1)&&null!=this._commands[this._currentCommandIndex]&&("function"==typeof(this._commands[this._currentCommandIndex].clone)));
},repeatLastCommand:function(){if(this.canRepeatLastCommand()){var a=this._commands[this._currentCommandIndex].clone();
this.execute(a);
}},_clearCommandsToRedo:function(){if(this.isRedoAvailable()){this._commands.splice(this._currentCommandIndex+1,this._commands.length-this._currentCommandIndex);
}},_updateRestorePoints:function(a){var c=a.RestorePoint1,d=a.RestorePoint2,b=a.get_editor&&a.get_editor()?a.get_editor().get_contentArea():null;
if(!b){return;
}if(c){c.container=b;
}if(d){d.container=b;
}}};
Telerik.Web.UI.Editor.CommandsManager.registerClass("Telerik.Web.UI.Editor.CommandsManager",null);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,f){var c=Telerik.Web.UI;
var b=c.Editor;
var d="EditorEditType";
var e="EditorToolBarAnimationType";
a.registerEnum(c.Editor,"CommandStates",{Disabled:-1,Off:0,On:1});
a.registerEnum(c,"EditingOptions",{Typing:1,Tools:2,ContextMenus:4,Tab:8,Modules:16,EditModes:32,All:63});
a.registerEnum(c,"StripFormattingOptions",{None:0,NoneSupressCleanMessage:1,MSWord:2,MSWordNoFonts:4,MSWordRemoveAll:8,Css:16,Font:32,Span:64,AllExceptNewLines:128,ConvertWordLists:256,All:512,MSWordNoMargins:1024});
a.registerEnum(c,"EditorStripHtmlOptions",{None:0,Comments:1});
a.registerEnum(c,"EditorToolbarMode",{Default:1,Floating:2,PageTop:4,ShowOnFocus:8,RibbonBar:16,RibbonBarFloating:32,RibbonBarPageTop:64,RibbonBarShowOnFocus:128});
a.registerEnum(c,"EditorFilters",{None:0,RemoveScripts:1,MakeUrlsAbsolute:2,FixUlBoldItalic:4,FixEnclosingP:8,IECleanAnchors:16,MozEmStrong:32,ConvertFontToSpan:64,ConvertToXhtml:128,IndentHTMLContent:256,EncodeScripts:512,OptimizeSpans:1024,ConvertCharactersToEntities:2048,PdfExportFilter:4096,ConvertInlineStylesToAttributes:8192,ConvertTags:16384,StripCssExpressions:32768,StripDomEventAttributes:65536,DefaultFilters:53245});
a.registerEnum(c,"EditorNewLineModes",{Br:1,P:2,Div:4});
a.registerEnum(c,"EditorToolType",{Button:1,DropDown:2,SplitButton:4,Separator:8,ToolStrip:16,Custom:32});
a.registerEnum(c,"EditModes",{Design:1,Html:2,Preview:4,All:7});
a.registerEnum(c,"EditorContentAreaMode",{Iframe:1,Div:2});
c.Editor.formatSetBlockElements=["p","h1","h2","h3","h4","h5","h6","menu","pre","address"];
a.registerEnum(b,d,{Normal:1,Inline:2});
a.registerEnum(b,"Orientation",{Portrait:1,LandScape:2});
a.registerEnum(b,e,{None:0,Fade:2});
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
$telerik.toEditorFilter=function(a){return a;
};
$telerik.findEditorFilter=$find;
(function(a,k){var c=Telerik.Web.UI,b=c.Editor,j="Telerik.Web.UI.Editor",e=".",i="MetaTagAttributesFilter",l=b.Utils;
var d=Telerik.Web.Browser;
function h(){var m=window.navigator.userAgent;
if(m.indexOf("Windows Phone")>-1&&m.indexOf("IEMobile")>-1&&m.indexOf("MSIE")===-1){return true;
}else{return false;
}}function g(m){return typeof(m)==="undefined";
}b.Filter=function(){b.Filter.initializeBase(this);
this.IsDom=false;
this.Enabled=false;
this.Name="RadEditor filter";
this.Description="RadEditor filter description";
};
b.Filter.prototype={getHtmlContent:function(m){return m;
},getDesignContent:function(m){return m;
},get_isDom:function(){return this.IsDom;
},set_isDom:function(m){this.IsDom=m;
},get_enabled:function(){return this.Enabled;
},set_enabled:function(m){this.Enabled=m;
},get_name:function(){return this.Name;
},set_name:function(m){this.Name=m;
},get_description:function(){return this.Description;
},set_description:function(m){this.Description=m;
}};
b.Filter.registerClass("Telerik.Web.UI.Editor.Filter",Sys.Component);
b.StripScriptsFilter=function(){b.StripScriptsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="StripScriptsFilter";
this.Description="This filter strips all script tags from the content.";
};
b.StripScriptsFilter.prototype={getHtmlContent:function(m){return this._performStripping(m);
},getDesignContent:function(m){return this._performStripping(m);
},_performStripping:function(n){var m=n.replace(new RegExp("<(SCRIPT)([^>]*)/>","ig"),"");
m=m.replace(RegExp("<(SCRIPT)([^>]*)>[\\s\\S]*?</(SCRIPT)([^>]*)>","ig"),"");
return m;
}};
b.StripScriptsFilter.registerClass("Telerik.Web.UI.Editor.StripScriptsFilter",b.Filter);
b.EncodeScriptsFilter=function(){b.EncodeScriptsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="EncodeScriptsFilter";
this.Description="This filter encodes all script tags from the content.";
};
b.EncodeScriptsFilter.prototype={getHtmlContent:function(m){var o=new RegExp("<!--RADEDITORSAVEDTAG_([\\s\\S]*?)-->","ig");
var q=new RegExp("RADEDITORSAVEDTAGENDING","ig");
var p=new RegExp("RADEDITORSAVEDTAGBEGINNING","ig");
var n=m.replace(o,"<$1>");
n=n.replace(q,"-->");
n=n.replace(p,"<!--");
return n;
},getDesignContent:function(n){var m=function(t,r,s,w,y){var x=y.substring(0,w).lastIndexOf("<!--");
var q=y.substring(0,w).lastIndexOf("-->");
if(x>q){x=y.substring(w,y.length).indexOf("<!--");
q=y.substring(w,y.length).indexOf("-->");
if((x==-1&&q>-1)||(q<x)){return t;
}}var A=new RegExp("-->","ig");
var z=new RegExp("<!--","ig");
var u=s.replace(A,"RADEDITORSAVEDTAGENDING");
u=u.replace(z,"RADEDITORSAVEDTAGBEGINNING");
var v="<!--RADEDITORSAVEDTAG_"+r+u+"-->";
return v;
};
var p=new RegExp("<(script|noscript)([\\s\\S]*?<\\/\\1)>","ig");
var o=n.replace(p,m);
return o;
}};
b.EncodeScriptsFilter.registerClass("Telerik.Web.UI.Editor.EncodeScriptsFilter",b.Filter);
b.RemoveExtraBrakes=function(){b.RemoveExtraBrakes.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="RemoveExtraBrakes";
this.Description="This filter strips all extra brakes inside some tags like p, h1, etc.";
};
b.RemoveExtraBrakes.prototype={getHtmlContent:function(m){return this._performStripping(m);
},_performStripping:function(m){var n=m;
if($telerik.isFirefox||$telerik.isOpera){n=n.replace(/<BR\s?\/?>\s*<SCRIPT/ig,"<script");
}n=n.replace(/<BR\s?\/?>\s*<\/(H1|H2|H3|H4|H5|H6|LI|P|DIV)/ig,function(q,p,r,o){if(!o.substr(0,r).match(/<BR\s?\/?>\s*$/gi)){q="</"+p;
}return q;
});
n=n.replace(/<(H1|H2|H3|H4|H5|H6|LI|P|DIV)([^>]*)?><BR\s?\/?>/ig,"<$1 $2>");
if($telerik.isSafari){n=n.replace(/<p><\/p>/ig,"<p><br /></p>");
}return n;
}};
b.RemoveExtraBrakes.registerClass("Telerik.Web.UI.Editor.RemoveExtraBrakes",b.Filter);
b.FixNestedLists=function(){b.FixNestedLists.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="FixNestedLists";
this.Description="This filter produces valid XHTML from nested lists";
};
b.FixNestedLists.prototype={_getElements:function(n,o){var m=n.getElementsByTagName(o);
if(!m){m=n.ownerDocument.getElementsByTagName(o);
}return m;
},fixLists:function(n,q){var m=this._getElements(n,q);
for(var o=m.length-1;
o>=0;
o--){var p=m[o];
var s=p.previousSibling;
if(s&&s.nodeType==3){s=s.previousSibling;
}if(s&&"li"==p.previousSibling.nodeName.toLowerCase()){s.appendChild(p.cloneNode(true));
var r=p.parentNode;
r.removeChild(p);
r=null;
}}},getHtmlContent:function(m){this.fixLists(m,"OL");
this.fixLists(m,"UL");
return m;
}};
b.FixNestedLists.registerClass("Telerik.Web.UI.Editor.FixNestedLists",b.Filter);
b.FixUlBoldItalic=function(){b.FixUlBoldItalic.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="FixUlBoldItalic";
this.Description="This filter changes u, b, i tags to spans with CSS";
};
b.FixUlBoldItalic.prototype={_getElements:function(n,o){var m=n.getElementsByTagName(o);
if(!m){m=n.ownerDocument.getElementsByTagName(o);
}return m;
},_replaceElementWithSpan:function(n,w,t){var m=this._getElements(n,w);
var o=[];
for(var q=m.length-1;
q>=0;
q--){Array.add(o,m[q]);
}for(var p=0,r=o.length;
p<r;
p++){var s=n.ownerDocument.createElement("span");
s.style.cssText=t;
var u=o[p];
var v=u.innerHTML;
if($telerik.isIE&&v==" "){s.innerText=v;
}else{b.Utils.setElementInnerHtml(s,v);
}u.parentNode.replaceChild(s,u);
}},_replaceSpanWithElement:function(n,v,z){var y=this._getElements(n,"span");
var o=[];
for(var q=y.length-1;
q>=0;
q--){Array.add(o,y[q]);
}for(var p=0,t=o.length;
p<t;
p++){var m=[];
var x=o[p];
for(var r=0;
r<x.childNodes.length;
r++){Array.add(m,x.childNodes[r].cloneNode(true));
}var w=x.style.cssText.toLowerCase();
if(w==z||w==(z+";")){var u=n.ownerDocument.createElement(v);
for(var s=0;
s<m.length;
s++){u.appendChild(m[s]);
}x.parentNode.replaceChild(u,x);
}}},getHtmlContent:function(m){this._replaceElementWithSpan(m,"u","text-decoration:underline;");
this._replaceElementWithSpan(m,"strike","text-decoration: line-through;");
return m;
},getDesignContent:function(m){if(h()&&g(m)){return m;
}this._replaceSpanWithElement(m,"u","text-decoration: underline");
this._replaceSpanWithElement(m,"strike","text-decoration: line-through");
return m;
}};
b.FixUlBoldItalic.registerClass("Telerik.Web.UI.Editor.FixUlBoldItalic",b.Filter);
b.OptimizeSpans=function(){b.OptimizeSpans.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="OptimizeSpans";
this.Description="This filter changes removes unneeded span elements";
};
b.OptimizeSpans.prototype={_getElements:function(n,o){var m=n.getElementsByTagName(o);
if(!m){m=n.ownerDocument.getElementsByTagName(o);
}return m;
},_singleChild:function(p){if(p==null||p.parentNode==null){return false;
}var q=p.parentNode;
var m=0;
for(var n=0,o=q.childNodes.length;
n<o&&m<2;
n++){var r=q.childNodes[n];
if(r.nodeType==3&&String(r.nodeValue).trim()==""){continue;
}m++;
}return(m==1);
},_optimizeElement:function(t){var u=t.parentNode;
var r,s;
var m=["align","dir","lang","title","class","id"];
var n=true;
for(r=0,s=m.length;
r<s;
r++){n|=this._checkAttribute(t,u,m[r]);
}if(!n){return;
}for(r=0,s=m.length;
r<s;
r++){var o=m[r];
var p=t.getAttribute(o,2);
if(p){u.setAttribute(o,p);
}}var q=$telerik.isIE?t.style.cssText:t.getAttribute("style",2);
if(q){var v=$telerik.isIE?u.style.cssText:u.getAttribute("style",2);
v=v?v+";":"";
if($telerik.isIE){u.style.cssText=v+q;
}else{u.setAttribute("style",v+q);
}}b.Utils.removeNode(t);
},_checkAttribute:function(p,q,o){var m=p.getAttribute(o,2);
var n=q.getAttribute(o,2);
return(m==null||n==null||m==n);
},getHtmlContent:function(n){var s=this._getElements(n,"span");
if(s){var o,p=s.length;
var m=[];
for(o=0;
o<p;
o++){var q=s[o];
var t=q.tagName.toLowerCase();
if(q.parentNode.tagName.toLowerCase()==t){if(this._singleChild(q)){m[m.length]=q;
}else{var r=b.Utils.getOuterHtml(q).toLowerCase();
if(r.indexOf("<"+t+">")==0){m[m.length]=q;
}}}}p=m.length;
for(o=0;
o<p;
o++){this._optimizeElement(m[o]);
}}return n;
}};
b.OptimizeSpans.registerClass("Telerik.Web.UI.Editor.OptimizeSpans",b.Filter);
b.IEKeepCommentsFilter=function(){b.IEKeepCommentsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IEKeepCommentsFilter";
this.Description="This filter keeps the conditional comments in IE.";
};
b.IEKeepCommentsFilter.prototype={getHtmlContent:function(n){var m=new RegExp("<!--RADEDITORSAVEDCOMMENT","ig");
var o=n.replace(m,"<!--");
return o;
},getDesignContent:function(n){var m=new RegExp("<!--(\\[[^\\]]+\\][\\s\\S]*?)-->","ig");
var o=n.replace(m,"<!--RADEDITORSAVEDCOMMENT$1-->");
return o;
}};
b.IEKeepCommentsFilter.registerClass("Telerik.Web.UI.Editor.IEKeepCommentsFilter",b.Filter);
b.IEKeepObjectParamsFilter=function(){b.IEKeepObjectParamsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IEKeepObjectParamsFilter";
this.Description="This filter keeps the params of object tags when going to html mode and back.";
this._paramRegex=new RegExp("<param([\\s\\S]+?)/?>","ig");
};
b.IEKeepObjectParamsFilter.prototype={getHtmlContent:function(m){var p=new RegExp("<rade_param","ig");
var o=this._paramRegex.test(m);
var q=p.test(m);
var n=m;
if(o&&q){n=n.replace(this._paramRegex,"");
}if(q){n=n.replace(p,"<param");
n=n.replace(/>\s*<\/rade_param>/gi,"/>");
n=n.replace(this._paramRegex,"<param$1/>");
}return n;
},getDesignContent:function(m){var n=m.replace(this._paramRegex,"<rade_param$1></rade_param><param$1/>");
return n;
}};
b.IEKeepObjectParamsFilter.registerClass("Telerik.Web.UI.Editor.IEKeepObjectParamsFilter",b.Filter);
b.IEKeepObjectDesignFilter=function(){b.IEKeepObjectDesignFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="IEKeepObjectDesignFilter";
this.Description="This filter keeps the browser from automatically changing object tags when going to html mode and back.";
};
b.IEKeepObjectDesignFilter.prototype={getHtmlContent:function(m){var p=m.getElementsByTagName("object");
for(var n=0,o=p.length;
n<o;
n++){var q=p[n];
var r=q.getAttribute("data",2);
var s=q.getAttribute("type",2);
if(r&&s&&s.toLowerCase().indexOf("silverlight")!=-1&&r.toLowerCase().indexOf("base64")!=-1){q.setAttribute("data","data:"+s+",");
}}return m;
}};
b.IEKeepObjectDesignFilter.registerClass("Telerik.Web.UI.Editor.IEKeepObjectDesignFilter",b.Filter);
b.FixEnclosingP=function(){b.FixEnclosingP.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="FixEnclosingP";
this.Description="This filter removes a parent paragraph tag if the whole content is inside it.";
};
b.FixEnclosingP.prototype={getHtmlContent:function(o){if(!$telerik.isIE){return o;
}var p=b.Utils;
var m=p.isTag(o,"html")?o.getElementsByTagName("BODY")[0]:o;
var n=m?m.firstChild:null;
if(p.isTag(n,"p")&&m.childNodes.length==1&&!p.hasAttributes(n)){b.Utils.removeNode(n);
}return o;
}};
b.FixEnclosingP.registerClass("Telerik.Web.UI.Editor.FixEnclosingP",b.Filter);
b.IEFixEmptyParagraphs=function(){b.IEFixEmptyParagraphs.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IEFixEmptyParagraphs";
this.Description="This filter inserts a non-braking space in empty paragraph tags so they are rendered correctly in IE.";
};
b.IEFixEmptyParagraphs.prototype={getHtmlContent:function(m){var o=new RegExp("(<p[^>]*>)(<\\/p>)","ig");
var n=m.replace(o,"$1&nbsp;$2");
return n;
}};
b.IEFixEmptyParagraphs.registerClass("Telerik.Web.UI.Editor.IEFixEmptyParagraphs",b.Filter);
b.IECleanAnchorsFilter=function(){b.IECleanAnchorsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="IECleanAnchorsFilter";
this.Description="This filter removse the current page href from all anchor (#) links .";
};
b.IECleanAnchorsFilter.prototype={getHtmlContent:function(n){var m=b.Utils.escapeRegExSpecialChars(document.location.href);
var p=new RegExp("(<A[^<>]*?(href)\\s*=\\s*['\"])("+m+")(\\#[^'\"]*?['\"][^>]*?>)","ig");
var o=n.replace(p,"$1$4");
return o;
}};
b.IECleanAnchorsFilter.registerClass("Telerik.Web.UI.Editor.IECleanAnchorsFilter",b.Filter);
b.MozEmStrongFilter=function(){b.MozEmStrongFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="MozEmStrongFilter";
this.Description="[Obsolete] This filter changes b,strong and i,em in Mozilla browsers.";
};
b.MozEmStrongFilter.prototype={getHtmlContent:function(m){var n=m.replace(new RegExp("<b(\\s([^>])*?)?>","ig"),"<strong$1>");
n=n.replace(new RegExp("</b(\\s([^>])*?)?>","ig"),"</strong$1>");
n=n.replace(new RegExp("<i(\\s([^>])*?)?>","ig"),"<em$1>");
n=n.replace(new RegExp("</i(\\s([^>])*?)?>","ig"),"</em$1>");
return n;
},getDesignContent:function(m){var n=m.replace(new RegExp("<strong(\\s([^>])*?)?>","ig"),"<b$1>");
n=n.replace(new RegExp("</strong(\\s([^>])*?)?>","ig"),"</b$1>");
n=n.replace(new RegExp("<em(\\s([^>])*?)?>","ig"),"<i$1>");
n=n.replace(new RegExp("</em(\\s([^>])*?)?>","ig"),"</i$1>");
return n;
}};
b.MozEmStrongFilter.registerClass("Telerik.Web.UI.Editor.MozEmStrongFilter",b.Filter);
b.ConvertTagsFilter=function(){b.ConvertTagsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="ConvertTagsFilter";
this.Description="This filter converts one type of tags to another type.";
};
b.ConvertTagsFilter.prototype={tags:[{source:"b",target:"strong"},{source:"i",target:"em"},{source:"strike",target:"del"}],getHtmlContent:function(m){return this.convertTags(m);
},getDesignContent:function(m){return this.convertTags(m);
},convertTags:function(m){var o=m,p=this.tags;
for(var n=0;
n<p.length;
n++){o=this._replaceTag(o,p[n]);
}return o;
},_replaceTag:function(m,n){return m.replace(new RegExp("<"+n.source+"(\\s([^>])*?)?>","ig"),"<"+n.target+"$1>").replace(new RegExp("</"+n.source+"(\\s([^>])*?)?>","ig"),"</"+n.target+"$1>");
}};
b.ConvertTagsFilter.registerClass("Telerik.Web.UI.Editor.ConvertTagsFilter",b.Filter);
b.MozillaKeepStylesString=function(){b.MozillaKeepStylesString.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="MozillaKeepStylesString";
this.Description="This filter remembers the positions of link tags in the html content (part 1).";
this.markerCounter=0;
};
b.MozillaKeepStylesString.prototype={getDesignContent:function(n){var q=this;
var m=function(v,s,t,x,y){var r=y.indexOf("</head>",x);
if(r!=-1&&y.indexOf("<body",r)!=-1){return v;
}else{q.markerCounter++;
var u="RadEditorStyleKeeper"+q.markerCounter;
var w="<div id='"+u+"' style='display:none;'>&nbsp;</div><"+s+" reoriginalpositionmarker='"+u+"'"+t;
return w;
}};
var o=new RegExp("<(link|style)([^>]*>)","gi");
var p=n.replace(o,m);
return p;
},getHtmlContent:function(m){var n=new RegExp("<(link|style) reoriginalpositionmarker='RadEditorStyleKeeper[^']+'([^>]*>)","gi");
var p=m.replace(n,"<$1$2");
var o=new RegExp("<div id='RadEditorStyleKeeper[^']+' style='display:none;'>&nbsp;</div>","gi");
p=p.replace(o,"");
return p;
}};
b.MozillaKeepStylesString.registerClass("Telerik.Web.UI.Editor.MozillaKeepStylesString",b.Filter);
b.MozillaKeepStylesDom=function(){b.MozillaKeepStylesDom.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="MozillaKeepStylesDom";
this.Description="This filter remembers the positions of link tags in the html content(part 2).";
this._divs=[];
};
b.MozillaKeepStylesDom.prototype={getHtmlContent:function(m){var s=m.getElementsByTagName("HEAD")[0];
var q=true;
if(!s){s=m.ownerDocument.getElementsByTagName("HEAD")[0];
q=false;
}if(!s){return m;
}this._restoreElements(s,m,"STYLE");
this._restoreElements(s,m,"LINK");
var p=m.getElementsByTagName("DIV");
if(p){for(var r=p.length-1;
r>=0;
r--){var n=p[r];
if(n.id.indexOf("RadEditorStyleKeeper")==0){var o=n.parentNode;
o.removeChild(n);
}}}p=null;
if(q){this._removeElements(s,"STYLE");
this._removeElements(s,"LINK");
}this._removeMarkerAttributes(m,"STYLE");
this._removeMarkerAttributes(m,"LINK");
return m;
},_restoreElements:function(p,m,q){var n;
n=p.getElementsByTagName(q);
this._divs=m.getElementsByTagName("DIV");
var o=0;
while(n.length>0&&o<n.length){this._restoreStyle(n[o++]);
}},_restoreStyle:function(o){var q=o.getAttribute("reoriginalpositionmarker");
if(q){var p=0;
var m=null;
while(p<this._divs.length&&!m){if(this._divs[p].id==q){m=this._divs[p];
}p++;
}if(m){var r=o.cloneNode(true);
r.removeAttribute("reoriginalpositionmarker");
var n=m.parentNode;
n.replaceChild(r,m);
return true;
}}return false;
},_removeElements:function(n,r){var q=n.getElementsByTagName(r);
if(q){for(var m=q.length-1;
m>=0;
m--){var o=q[m];
if(null!=o.getAttribute("reoriginalpositionmarker")){var p=o.parentNode;
p.removeChild(o);
}}q=null;
}},_removeMarkerAttributes:function(m,p){var o=m.getElementsByTagName(p);
if(o){for(var n=o.length-1;
n>=0;
n--){o[n].removeAttribute("reoriginalpositionmarker");
}}o=null;
}};
b.MozillaKeepStylesDom.registerClass("Telerik.Web.UI.Editor.MozillaKeepStylesDom",b.Filter);
b.MozillaRemoveLastBrFilter=function(m){b.MozillaRemoveLastBrFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="MozillaRemoveLastBr";
this.Description="Remove the last Br element, which Firefox automatically adds.";
};
b.MozillaRemoveLastBrFilter.prototype={getHtmlContent:function(m){this._removeLastBr(m);
return m;
},_removeLastBr:function(n){if(!n||$telerik.isIE){return;
}var m=(n.tagName=="HTML")?n.getElementsByTagName("BODY")[0]:n;
this._removeLasBrInNode(m);
if($telerik.isFirefox){this._removeLasBrInTD(m);
}},_removeLasBrInTD:function(m){var n=Function.createDelegate(this,this._removeLasBrInNode);
$telerik.$("td",m).each(function(o,p){n(p);
});
},_removeLasBrInNode:function(n){var m=(n.lastChild)?n.lastChild:null;
if(m&&m.tagName&&"BR"==m.tagName){b.Utils.removeNode(m);
}},getDesignContent:function(n){if(!n||$telerik.isIE){return;
}var m=(n.tagName=="HTML")?n.getElementsByTagName("BODY")[0]:n;
$telerik.$(m).append("<br />");
return n;
}};
b.MozillaRemoveLastBrFilter.registerClass("Telerik.Web.UI.Editor.MozillaRemoveLastBrFilter",b.Filter);
b.MozillaKeepFlash=function(m){b.MozillaKeepFlash.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="MozillaKeepFlash";
this.Description="This filter replaces the flash/media objects with static images in design mode.";
this._flashImageSrc=m?m:"FlashManager.gif";
};
b.MozillaKeepFlash.prototype={_saveFlashObject:function(m){var o=m.ownerDocument.createElement("img");
o.setAttribute("isflash","true");
o.setAttribute("src",this._flashImageSrc);
o.setAttribute("alt","");
var r=m.getAttribute("width",2);
if(r){o.setAttribute("width",r);
}var n=m.getAttribute("height",2);
if(n){o.setAttribute("height",n);
}var p=$telerik.getOuterHtml(m);
p=p.replace(/\n/gi,"<flashcr />").replace(/\r/gi,"<flashlf />");
o.setAttribute("originalCode",b.Utils.encodePostbackContent(p));
var q=m.parentNode;
q.insertBefore(o,m);
q.removeChild(m);
m=null;
},_restoreFlashObject:function(m){var q=b.Utils.decodePostbackContent(m.getAttribute("originalCode"));
q=q.replace(/<flashcr\s*\/\>/gi,"\n").replace(/<flashlf\s*\/\>/gi,"\r");
var p=m.ownerDocument.createElement("div");
p.innerHTML=q;
var o=p.firstChild;
var s=m.getAttribute("width",2);
if(s){o.setAttribute("width",s);
}var n=m.getAttribute("height",2);
if(n){o.setAttribute("height",n);
}var r=m.parentNode;
r.insertBefore(o,m);
r.removeChild(m);
m=null;
},getDesignContent:function(n){var p,o;
var m=n.getElementsByTagName("object");
for(p=0;
p<m.length;
p++){o=m[p];
this._saveFlashObject(o);
p--;
}m=n.getElementsByTagName("embed");
for(p=0;
p<m.length;
p++){o=m[p];
this._saveFlashObject(o);
p--;
}return n;
},getHtmlContent:function(n){var m=n.getElementsByTagName("img");
for(var p=0;
p<m.length;
p++){var o=m[p];
var q=o.getAttribute("isflash",2);
if(q!=null){this._restoreFlashObject(o);
p--;
}}return n;
}};
b.MozillaKeepFlash.registerClass("Telerik.Web.UI.Editor.MozillaKeepFlash",b.Filter);
b.StripJunkFilter=function(){b.StripJunkFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="StripJunkFilter";
this.Description="This filter strips extra content, added by the Safari/Firefox browsers.";
};
b.StripJunkFilter.prototype={getHtmlContent:function(m){var n=m;
if($telerik.isSafari){n=n.replace(new RegExp(' class="khtml-block-placeholder"',"ig"),"");
n=n.replace(new RegExp(' class="Apple-style-span"',"ig"),"");
n=n.replace(new RegExp(' class="webkit-block-placeholder"',"ig"),"");
}if($telerik.isFirefox){n=n.replace(new RegExp('\\s?<br type="_moz" \\/>',"ig")," ");
n=n.replace(new RegExp(' _moz_[a-z_]*="[^"]*"',"ig"),"");
n=n.replace(new RegExp(' type="_moz"',"ig"),"");
}return n;
}};
b.StripJunkFilter.registerClass("Telerik.Web.UI.Editor.StripJunkFilter",b.Filter);
b.ConvertFontToSpanFilter=function(){b.ConvertFontToSpanFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="ConvertFontToSpanFilter";
this.Description="This filter changes deprecated font tags to compliant span tags.";
this._fontSizesPx=b.Utils._fontSizesPx;
this._fontSizesRevPx=[];
for(var m=0;
m<this._fontSizesPx.length;
m++){this._fontSizesRevPx[parseInt(this._fontSizesPx[m],10)]=m;
}};
b.ConvertFontToSpanFilter.prototype={getHtmlContent:function(m){var n=m.ownerDocument;
var v=n.createElement("span");
var u,q,s;
var r=m.getElementsByTagName("FONT");
while(r.length>0){q=r[0];
s=q.parentNode;
u=v.cloneNode(false);
$telerik.mergeElementAttributes(q,u,false);
if(q.style.cssText&&q.style.cssText!=""){u.style.cssText=q.style.cssText;
}if(q.className){u.className=q.className;
}if(q.face){u.style.fontFamily=q.face;
if($telerik.isFirefox){this._fixFontFamilyValues(u,q);
}if(u.getAttribute("face")!=null){u.removeAttribute("face");
}}var t=0;
if(q.style.fontSize){u.style.fontSize=q.style.fontSize;
}else{if(!isNaN(t=parseInt(q.size,10))&&q.size!="+0"){try{if(t<0){t=t+4;
}u.style.fontSize=this._fontSizesPx[t-1];
}catch(o){u.style.fontSize=this._fontSizesPx[3];
}if(u.getAttribute("size")!=null){u.removeAttribute("size");
}}}var p=q.getAttribute("color");
if(p){u.style.color=p;
if(u.getAttribute("color")!=null){u.removeAttribute("color");
}}if($telerik.isIE&&q.innerHTML==" "){u.innerText=q.innerHTML;
}else{b.Utils.setElementInnerHtml(u,q.innerHTML);
}s.replaceChild(u,q);
r=m.getElementsByTagName("FONT");
}return m;
},getDesignContent:function(n){if(d.webkit&&d.version<4){return n;
}if(h()&&g(n)){return n;
}var o=n.ownerDocument;
var q=o.createElement("font");
var t,p,s;
var u=n.getElementsByTagName("SPAN");
while(u.length>0){t=u[0];
s=t.parentNode;
p=q.cloneNode(false);
$telerik.mergeElementAttributes(t,p,false);
if(t.style.cssText&&t.style.cssText!=""){p.style.cssText=t.style.cssText;
}if(t.className){p.className=t.className;
}if(t.style.fontFamily){p.face=t.style.fontFamily;
if($telerik.isFirefox){var r=this._getFontFamilyValue(t.attributes.style.nodeValue);
p.face=r?r:p.face;
}this._removeElementStyleAttribute(p,"fontFamily");
}if(t.style.fontSize){var m=null;
if(-1!=t.style.fontSize.indexOf("px")){m=this._fontSizesRevPx[parseInt(t.style.fontSize,10)];
}if(typeof(m)!="undefined"&&null!=m){p.size=m+1;
this._removeElementStyleAttribute(p,"fontSize");
}}if(t.style.color){p.color=b.Utils._rgbToHex(t.style.color);
this._removeElementStyleAttribute(p,"color");
}if($telerik.isIE&&t.innerHTML==" "){p.innerText=t.innerHTML;
}else{b.Utils.setElementInnerHtml(p,t.innerHTML);
}s.replaceChild(p,t);
u=n.getElementsByTagName("SPAN");
}return n;
},_removeElementStyleAttribute:function(m,n){if(m.style&&m.style[n]){if(m.style.removeAttribute){m.style.removeAttribute(n);
}else{if(m.style.removeProperty){n=n.replace(/([A-Z])/g,"-$1").toLowerCase();
m.style.removeProperty(n);
}}if(m.style[n]){m.style[n]=null;
}if(!m.style.cssText){m.removeAttribute("style");
}}},_getFontFamilyValue:function(o){var m;
var n=o.match(/(font-family:\s*)([^;]+);/i);
if(n){m=n[2];
}return m;
},_fixFontFamilyValues:function(n,m){var o=n.attributes.style.nodeValue;
o=o.replace(n.style.fontFamily,m.face.replace(/\s+/g," "));
n.attributes.style.nodeValue=o;
}};
b.ConvertFontToSpanFilter.registerClass("Telerik.Web.UI.Editor.ConvertFontToSpanFilter",b.Filter);
b.ConvertInlineStylesToAttributesFilter=function(){b.ConvertInlineStylesToAttributesFilter.initializeBase(this);
this.IsDom=true;
this.Enabled=true;
this.Name="ConvertInlineStylesToAttributesFilter";
this.Description="This filter converts XHTML compliant inline style attributes to Email compliant element attributes.";
};
b.ConvertInlineStylesToAttributesFilter.prototype={getHtmlContent:function(m){var n=$telerik.$.proxy;
$telerik.$("body",m).each(n(function(p,o){this.convertCSSProperty(o,"bgColor","backgroundColor");
this.convertCSSProperty(o,"background","backgroundImage");
},this));
$telerik.$("table,td",m).each(n(function(p,o){this.convertCSSProperty(o,"bgColor","backgroundColor");
this.convertCSSProperty(o,"background","backgroundImage");
this.convertCSSProperty(o,"width","width");
this.convertCSSProperty(o,"height","height");
},this));
$telerik.$("img",m).each(n(function(p,o){b.Utils.convertImgCssAlignProperty(o);
if($telerik.isIE){o.style.styleFloat="";
}else{o.style.cssFloat="";
}o.style.verticalAlign="";
this.convertCSSProperty(o,"width","width");
this.convertCSSProperty(o,"height","height");
},this));
return m;
},getDesignContent:function(n){var m=new b.CleanAttributesFilter();
n=m.getHtmlContent(n);
n=m.getDesignContent(n);
return n;
},convertCSSProperty:function(n,o,m){b.Utils.convertCSSProperty(n,o,m);
}};
b.ConvertInlineStylesToAttributesFilter.registerClass("Telerik.Web.UI.Editor.ConvertInlineStylesToAttributesFilter",b.Filter);
b.AttributesFilterBase=function(m){b.AttributesFilterBase.initializeBase(this);
this.settings=m;
};
b.AttributesFilterBase.prototype={getHtmlContent:function(n){var o=this.convertAttribute,p=this.settings,m=$telerik.$(n);
Array.forEach(p,function(q){m.find(q.tags.join(",")).each(function(s,r){Array.forEach(q.attributes,function(t){if(typeof(t.method)==="function"){t.method(r);
r.removeAttribute(t.attr);
}else{o(r,t.attr,t.style);
}});
});
});
return n;
},getDesignContent:function(m){return this.getHtmlContent(m);
},convertAttribute:function(n,o,m){b.Utils.convertAttribute(n,o,m);
n.removeAttribute(o);
},convertCSSToAttribute:function(n,o,m){b.Utils.convertCSSProperty(n,o,m);
}};
b.AttributesFilterBase.registerClass("Telerik.Web.UI.Editor.AttributesFilterBase",b.Filter);
b.CleanAttributesFilter=function(){var m=[{tags:["body","table"],attributes:[{attr:"bgColor",style:"backgroundColor"},{attr:"background",style:"backgroundImage"}]},{tags:["p","h1","h2","h3","h4","h5","h6","div","ul","li"],attributes:[{attr:"align",style:"textAlign"}]},{tags:["td"],attributes:[{attr:"bgColor",style:"backgroundColor"},{attr:"background",style:"backgroundImage"},{attr:"borderColor",style:"borderColor"},{attr:"width",style:"width"},{attr:"height",style:"height"},{attr:"noWrap",style:"whiteSpace"}]},{tags:["img"],attributes:[{method:l.convertImgAlignAttribute,attr:"align"},{method:l.convertBorderAttribute,attr:"border"},{attr:"hspace",style:["marginLeft","marginRight"]},{attr:"vspace",style:["marginTop","marginBottom"]}]},{tags:["ul","ol"],attributes:[{method:l.convertTypeAttribute,attr:"type"}]}];
b.CleanAttributesFilter.initializeBase(this,[m]);
this.IsDom=true;
this.Enabled=true;
this.Name="CleanAttributesFilter";
this.Description="This filter fixes deprecated attributes to make the content XHTML compliant.";
};
b.CleanAttributesFilter.registerClass("Telerik.Web.UI.Editor.CleanAttributesFilter",b.AttributesFilterBase);
b.StripDomEventAttributesFilter=function(){var m=[],n=["onabort","onactivate","onafterprint","onbeforeactivate","onbeforecopy","onbeforecut","onbeforedeactivate","onbeforepaste","onbeforeprint","onbeforeunload","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","oncopy","oncuechange","oncut","ondblclick","ondeactivate","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","ongotpointercapture","onhashchange","onhelp","oninput","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmessage","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onmscontentzoom","onmsgesturechange","onmsgesturedoubletap","onmsgestureend","onmsgesturehold","onmsgesturestart","onmsgesturetap","onmsgotpointercapture","onmsinertiastart","onmslostpointercapture","onmsmanipulationstatechanged","onmspointercancel","onmspointerdown","onmspointerenter","onmspointerleave","onmspointermove","onmspointerout","onmspointerover","onmspointerup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","onpopstate","onprogress","onratechange","onreset","onresize","onscroll","onseeked","onseeking","onselect","onselectstart","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","onunload","onvolumechange","onwaiting"];
Array.forEach(n,function(p){m.push({attr:p});
});
var o=[{tags:["*"],attributes:m}];
b.StripDomEventAttributesFilter.initializeBase(this,[o]);
this.IsDom=true;
this.Enabled=true;
this.Name="StripDomEventAttributesFilter";
this.Description="This filter removes all common event attributes.";
};
b.StripDomEventAttributesFilter.registerClass("Telerik.Web.UI.Editor.StripDomEventAttributesFilter",b.AttributesFilterBase);
var f=/(\n?\s*[a-zA-Z-]+: ?expression(\())/i;
b.StripCssExpressionsFilter=function(){b.StripCssExpressionsFilter.initializeBase(this);
this.IsDom=false;
this.Enabled=true;
this.Name="StripCssExpressionsFilter";
this.Description="Removes all declarations of CSS expression within style attributes";
};
b.StripCssExpressionsFilter.prototype={getHtmlContent:function(m){return this.getDesignContent(m);
},getDesignContent:function(m){m=this.sanitizeTags(m);
m=this.sanitizeStyleTags(m);
return m;
},sanitizeTags:function(m){var o=/<[\w:]+(?=\s)(?:="(?:\\"|[^"])*"|='(?:\\'|[^'])*'|[^>])*\/?>/gi,n=this;
return m.replace(o,function(q,p){return n.sanitizeContent(q,f);
});
},sanitizeStyleTags:function(m){var o=/(<style(?:="(?:\\"|[^"])*"|='(?:\\'|[^'])*'|[^>])*\/?>)((?:.|\n)*?)(<\/style>)/gi,n=this;
return m.replace(o,function(s,u,p,t,q){var r=n.sanitizeContent(p,f);
return u+r+t;
});
},sanitizeContent:function(m,s){var q=m.match(s);
while(q){var p=q[1],n=q.index+q[0].indexOf(p),t=n+p.length-1,r=0;
do{var o=m.charAt(t);
if(o=='"'||o=="'"||o=="/"){m=this.stripStringPair(o,m,t);
o=m.charAt(t);
}m=this.removeChar(m,t);
if(o=="("){r++;
}else{if(o==")"){r--;
}}}while(r>0&&m.length>t);
m=this.removeRange(m,n,t);
if(m[n]==";"){m=this.removeChar(m,n);
}q=m.match(s);
}return m;
},stripStringPair:function(n,m,p){var o=new RegExp(n+"(?:\\\\\\\\|\\\\"+n+"|[^"+n+"])+"+n);
return m.substring(0,p)+m.substring(p).replace(o,"");
},removeRange:function(m,n,o){return m.substring(0,n)+m.substring(o);
},removeChar:function(n,m){return this.strRemove(n,m,1);
},strRemove:function(o,m,n){return this.removeRange(o,m,m+n);
},strInsert:function(n,m,o){return n.substring(0,m)+o+n.substring(m);
}};
b.StripCssExpressionsFilter.registerClass("Telerik.Web.UI.Editor.StripCssExpressionsFilter",b.Filter);
b.ConvertToXhtmlFilter=function(){b.ConvertToXhtmlFilter.initializeBase(this);
this._uniqueIds={};
this.Name="ConvertToXhtmlFilter";
this.Description="This filter converts the HTML from the editor content area to valid XHTML";
this.Enabled=true;
this.IsDom=true;
};
b.ConvertToXhtmlFilter.prototype={getHtmlContent:function(m){if(!m){return"";
}var o=this;
o._setContentToEmptyWrappers(m);
o._removeMSWordParagraphs(m);
o._fixNestedBlockElements(m);
o._markExistingParagraphs(m);
var r=new Telerik.Web.StringBuilder();
var n=l.isEditorContentArea(m)?m.childNodes:[m];
for(var q=0;
q<n.length;
q++){o._appendNodeXhtml(n[q],r);
}var p=r.toString();
p=o._removeAdditionalParagraphs(p);
return p;
},_setContentToEmptyWrappers:function(m){$telerik.$("p,div",m).each(function(o,n){if(n.innerHTML==""||(n.nodeName=="DIV"&&n.childNodes.length==1&&n.firstChild.nodeName=="BR")){$telerik.$(n).html("&nbsp;");
}});
},_removeMSWordParagraphs:function(m){var o=$telerik.$("P",m);
for(var n=0;
n<o.length;
n++){if(/^\r?\n?\s*(<O:P|<\?xml:)/i.test(b.Utils.getOuterHtml(o[n]).trim())){b.Utils.removeNode(o[n]);
}}},_fixNestedBlockElements:function(m){var n=new b.NestedElementsFix(m);
n.applyFix();
},_markExistingParagraphs:function(m){if(!m||!$telerik.isIE){return;
}$telerik.$("P",m).attr("_rdEditor_exists","1").each(function(n){b.Utils.removeNonXhtmlCompliantParents(this);
});
},_removeAdditionalParagraphs:function(m){m=m.replace(/<p><\/p>|<p([^>]+)><\/p>|<p[^\/+]\/>/gi,function(n){return(!n.match(/_rdEditor_exists/ig))?"":n;
});
m=m.replace(/(<p[^>]*) _rdEditor_exists=['"]1['"]([^>]*>)/ig,"$1$2");
return m;
},_convertAttribute:function(m){return String(m).replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"'");
},_getAttributeValue:function(n,o,p){var m=n.nodeName;
var r=n.nodeValue;
if(m!="style"){if(($telerik.isIE8&&m=="complete"&&r=="complete")||($telerik.isIE8&&m=="shape"&&o.nodeName.toLowerCase()=="a"&&o[m]!=o.getAttribute(m))||($telerik.isIE8&&m.toLowerCase()=="althtml"&&o.nodeName.toLowerCase()=="object")){return;
}if($telerik.isIE&&(m=="type"||m=="value"||m=="selected")){if(!r){return;
}}else{if(!n.specified){if($telerik.isIE&&r==""&&typeof(o[m])=="string"&&o[m]!=""){r=o[m];
}else{return;
}}}if(!r){return;
}if(!isNaN(r)){r=o.getAttribute(m);
}if($telerik.isIE&&(m=="href"||m=="src")){r=o.getAttribute(m,2);
}p.append(" "+(n.expando?m:m.toLowerCase())+'="'+this._convertAttribute(r)+'"');
}else{var q=this._getElementCssText(o);
if(q){q=this._convertRgbToHex(q);
q=this._stripBorderRepetition(q);
q=this._cssPropertiesToLowerCase(q);
q=this._convertAttribute(q);
q=q.replace(/(url\s*\(\s*)&quot;(.*)&quot;\s*\)/ig,"$1$2)");
if($telerik.isSafari){q=q.replace(/(background-image:\surl)\((.+?)\)/ig,"$1('$2')");
q=q.replace(/(background-repeat:\sno-repeat)(?:\sno-repeat)+/ig,"$1");
}p.append(' style="'+q+'"');
}}},_cssPropertiesToLowerCase:function(m){return m.replace(/([^:;]*):/ig,function(o,n){return n.toLowerCase()+":";
});
},_convertRgbToHex:function(m){if($telerik.isFirefox||$telerik.isSafari||$telerik.isIE9Mode){m=m.replace(/rgb *\( *\d+ *, *\d+ *, *\d+ *\)/gi,function(o,p,n){return b.Utils._rgbToHex(o);
});
}return m;
},_replaceBorderRepetition:function(p,o,n){var m=p.match(o);
if(m&&m.length==4){var q=m[0].substring(m[0].indexOf(":"));
if(q==m[1].substring(m[1].indexOf(":"))&&q==m[2].substring(m[2].indexOf(":"))&&q==m[3].substring(m[3].indexOf(":"))){p=p.replace(o,"").replace(/^\s+|\s+$/g,"");
p+=n+q;
}}return p;
},_combineBorderStyles:function(q){var p=new RegExp(/border-(width|style|color):([^;]*);/gi);
var o=q.match(p);
if(o&&o.length==3){var m="border:";
var r=[];
r[0]=o[0].substring(o[0].indexOf(":")+1).trim();
r[1]=o[1].substring(o[1].indexOf(":")+1).trim();
r[2]=o[2].substring(o[2].indexOf(":")+1).trim();
if(r[0].match(/\s/)||r[1].match(/\s/)||r[2].match(/\s/)){return q;
}var n=function(s){for(var t=0;
t<3;
t++){if(o[t].indexOf(s)==0){m+=r[t]+" ";
break;
}}};
n("border-width");
n("border-style");
n("border-color");
m=m.replace(/;/g,"").replace(/currentcolor/gi,"").replace(/initial/gi,"").replace(/\s[\s]+/g," ").replace(/^\s+|\s+$/g,"");
m+=";";
q=q.replace(p,"");
q=m+q;
}return q;
},_stripBorderRepetition:function(n){if(!n){return;
}if(!n.match(/; *$/)){n+=";";
}var m=new RegExp(/border(?:-(top|bottom|left|right))-width:([^;]*);/gi);
n=this._replaceBorderRepetition(n,m,"border-width");
m=new RegExp(/border(?:-(top|bottom|left|right))-style:([^;]*);/gi);
n=this._replaceBorderRepetition(n,m,"border-style");
m=new RegExp(/border(?:-(top|bottom|left|right))-color:([^;]*);/gi);
n=this._replaceBorderRepetition(n,m,"border-color");
m=new RegExp(/border-(top|bottom|left|right):([^;]*);/gi);
n=this._replaceBorderRepetition(n,m,"border");
n=this._combineBorderStyles(n);
return n.replace(/^\s+|\s+$/g,"");
},_canHaveChildren:function(m){switch(m.tagName.toUpperCase()){case"AREA":case"BASE":case"BASEFONT":case"COL":case"FRAME":case"HR":case"IMG":case"BR":case"INPUT":case"ISINDEX":case"LINK":case"META":case"PARAM":return false;
}return true;
},_appendElementNode:function(w,A){if(w.tagName.charAt(0)=="/"){if($telerik.isIE6&&w.nodeName=="/ABBR"){A.append("</abbr>");
}return;
}if(w.nodeName=="!"){A.append(w.text);
return;
}var v=w.nodeName;
if(w.scopeName){if(w.scopeName=="HTML"){v=v.toLowerCase();
}else{v=w.scopeName+":"+v;
}}else{v=v.toLowerCase();
}if($telerik.isFirefox&&v=="br"&&w.parentNode.nodeName.toLowerCase()=="pre"){if(w.getAttribute("_moz_dirty")==""){A.append("\r\n");
return;
}}if(v){A.append("<"+v);
}if("img"==v){if($telerik.isIE6||$telerik.isIE7){var z=document.createElement("img");
z.mergeAttributes(w);
if(z.width){A.append(' width="'+w.getAttribute("width",2)+'"');
}if(z.height){A.append(' height="'+w.getAttribute("height",2)+'"');
}}if(!w.getAttribute("alt",2)){A.append(' alt=""');
}}if($telerik.isIE&&("area"==v||"a"==v)){if(w.shape&&v=="area"&&!document.documentMode){A.append(' shape="'+w.shape.toLowerCase()+'"');
}if(w.coords&&v=="area"&&!document.documentMode){A.append(' coords="'+w.getAttribute("coords")+'"');
}var o=w.getAttribute("href",2);
if(o){o=o.replace("about:blank","");
o=o.replace("about:","");
o=o.replace(/&amp;/gi,"&").replace(/&/gi,"&amp;");
o=o.replace(/[\s\u00a0]/gi,"%20");
A.append(' href="'+o+'"');
w.removeAttribute("href",0);
}}if($telerik.isIE8&&"option"==v&&w.selected){A.append(' selected="selected"');
}var u;
try{var x=this._getNodeAttributes(w);
u=x.length;
for(var r=0;
r<u;
r++){var m=x[r];
if(!this._isJqueryAttribute(m.nodeName)){this._getAttributeValue(m,w,A);
}}}catch(q){if($telerik.isIE&&q.message.indexOf("Not enough storage is available to complete this operation")!=-1){var n=w.outerHTML.replace(/^\s+/gi,"");
n=n.replace(/^([^\s]+)([^>]+?)>[\s\S]+$/gi,"$2");
A.append(n);
}}var y;
switch(v){case"script":A.append(">"+w.text+"</"+v+">");
break;
case"textarea":A.append(">"+w.value+"</"+v+">");
break;
case"iframe":var s=w.innerHTML;
if($telerik.isIE){s=s.replace(/\soriginalAttribute="[^"]+"/gi,"");
s=s.replace(/\soriginalPath="[^"]+"/gi,"");
}if($telerik.isFirefox){s=s.replace(/\&amp;/g,"&").replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&quot;/g,'"');
}A.append(">"+s+"</iframe>");
break;
case"object":A.append(">");
y="";
if(w.altHtml){y=w.altHtml;
}else{y=w.innerHTML;
}if($telerik.isIE){y=y.replace(/\soriginalAttribute="[^"]+"/gi,"");
y=y.replace(/\soriginalPath="[^"]+"/gi,"");
}A.append(y);
A.append("</object>");
break;
case"title":case"style":case"comment":case"noscript":y=w.innerHTML;
if($telerik.isIE&&y.length==0){y=w.ownerDocument.title;
}A.append(">"+y+"</"+v+">");
break;
default:if(!($telerik.isIE9Mode&&!this._canHaveChildren(w))&&(w.hasChildNodes()||(true==w.canHaveChildren||(w.canHaveChildren==null&&this._canHaveChildren(w))))){if(v){A.append(">");
}var p=w.childNodes;
u=p.length;
for(var t=0;
t<u;
t++){if(p[t].nodeName!="O:P"){this._appendNodeXhtml(p[t],A);
}}if(v){A.append("</"+v+">");
}}else{if($telerik.isIE6&&v=="abbr"){A.append(">");
}else{if(v){A.append(" />");
}}}break;
}},_jqueryAttrRegExp:[/^sizzle-[0-9]{10,}$/i,/^jQuery[0-9]{10,}$/i],_isJqueryAttribute:function(m){return b.Utils.some(this._jqueryAttrRegExp,function(n){return n.test(m);
});
},_appendTextNode:function(m,o){var p=String(m.nodeValue);
var n=m.parentNode.nodeName.toLowerCase();
if(!$telerik.isIE&&(n=="style"||n=="script")){o.append(p);
}else{p=p.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");
p=p.replace(/[\u00a0]/g,"&nbsp;");
o.append(p);
}},_appendCDataNode:function(m,n){n.append("<![CDATA[\n"+m.nodeValue+"\n]]>");
},_appendCommentNode:function(o,p){var m="";
try{m=o.nodeValue;
}catch(n){}if(!m&&o.text){m=o.text;
}else{m="<!--"+m+"-->";
}p.append(m);
},_appendNodeXhtml:function(m,n){if(m.uniqueID){if(this._uniqueIds[m.uniqueID]){return;
}else{this._uniqueIds[m.uniqueID]=true;
}}switch(m.nodeType){case 1:this._appendElementNode(m,n);
break;
case 3:this._appendTextNode(m,n);
break;
case 4:this._appendCDataNode(m,n);
break;
case 8:this._appendCommentNode(m,n);
break;
}},_getElementCssText:function(p){var m=p.style.cssText;
if(!m){return"";
}if(!$telerik.isFirefox){return m;
}var t=/(font-family:\s*)([^;]+);/i;
var u;
var q=p.attributes.style;
if(q&&q.nodeValue){u=q.nodeValue;
}if(u&&t.test(u)&&t.test(m)){var o=m.match(t),n;
if(o){n=o[2];
}var s=u.match(t),r;
if(s){r=s[2];
}if(r&&n&&r!==n){r=r.replace(/[\s]+/g," ");
m=m.replace(n,r);
}}return m;
},_getNodeAttributes:function(m){var n=m.attributes;
if(!n){return n;
}if($telerik.isFirefox){this.reverseNodeAttributes(m);
}return m.attributes;
},reverseNodeAttributes:function(n){var o=[];
var m;
for(m=0;
m<n.attributes.length;
m++){o.push({attrName:n.attributes[m].nodeName,attrValue:n.attributes[m].nodeValue});
}for(m=0;
m<o.length;
m++){n.removeAttribute(o[m].attrName);
}for(m=o.length-1;
m>=0;
m--){n.setAttribute(o[m].attrName,o[m].attrValue);
}}};
b.ConvertToXhtmlFilter.registerClass("Telerik.Web.UI.Editor.ConvertToXhtmlFilter",b.Filter);
b.IndentHTMLContentFilter=function(){b.IndentHTMLContentFilter.initializeBase(this);
this.Name="IndentHTMLContentFilter";
this.Description="This filter indents the HTML content so it is more readable when you view the code";
this.Enabled=true;
this.IsDom=false;
this._indentPattern="    ";
this._protectedData=null;
var m="P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DL|DT|DD|TITLE|META|LINK|BASE|SCRIPT|LINK|TD|TH|AREA|OPTION";
var n="HTML|HEAD|BODY|STYLE|FORM|TABLE|TBODY|THEAD|TR";
var o=n+"|DL|UL|OL";
this._ignoreTags=new RegExp("(<PRE[^>]*>|<!--|<SCRIPT[^>]*>)([\\s\\S]*?)(<\\/PRE>|-->|<\\/SCRIPT>)","gi");
this._tagsNLBefore=new RegExp("<("+m+")[^>]*>","gi");
this._tagsNLAfter=new RegExp("<\\/("+m+")[^>]*>","gi");
this._tagsNLNoCloseAfter=new RegExp("<(BR|HR)[^>]*\\/?>","gi");
this._tagsNLBeforeAndAfter=new RegExp("<\\/?("+n+")[^>]*>","gi");
this._tagsIncIndent=new RegExp("^<("+o+")[\\s\\/>]","i");
this._tagsDecIndent=new RegExp("^<\\/("+o+")[\\s\\>]","i");
this._shrinkNL=new RegExp("\\s*\\n+\\s*","gi");
};
b.IndentHTMLContentFilter.prototype={getHtmlContent:function(o){var s=o.trim();
if(s.match(/^\s*<body/i)){s=s.substring(s.indexOf(">")+1,s.length-7);
}this._protectedData=[];
var w=this;
var m=function(C,z,A,B,D,y){Array.add(w._protectedData,A);
return z+"RADEDITORFORMATTED_"+w._protectedData.length+B;
};
s=s.replace(this._ignoreTags,m);
var x="$&";
if(d.safari&&d.version<3){x="$0";
}s=s.replace(this._tagsNLBefore,"\n"+x);
s=s.replace(this._tagsNLAfter,x+"\n");
s=s.replace(this._tagsNLNoCloseAfter,x+"\n");
s=s.replace(this._tagsNLBeforeAndAfter,"\n"+x+"\n");
var n=s.split(this._shrinkNL);
var v=new Telerik.Web.StringBuilder();
var q="";
var p;
for(p=0;
p<n.length;
p++){var r=n[p];
if(r.length==0){continue;
}if(this._tagsDecIndent.test(r)){if(q.length>this._indentPattern.length){q=q.substring(this._indentPattern.length);
}else{q="";
}}v.append(q);
v.append(r);
v.append("\n");
if(this._tagsIncIndent.test(r)){q+=this._indentPattern;
}}s=v.toString();
for(p=0;
p<this._protectedData.length;
p++){var u=new RegExp("RADEDITORFORMATTED_"+(p+1));
var t=this._protectedData[p].replace(/\$/gi,"$$$$");
s=s.replace(u,t);
}return s;
}};
b.IndentHTMLContentFilter.registerClass("Telerik.Web.UI.Editor.IndentHTMLContentFilter",b.Filter);
b.MakeUrlsAbsolute=function(){b.MakeUrlsAbsolute.initializeBase(this);
this.Name="MakeUrlsAbsolute";
this.Description="This filter makes all src and href attributes in the editor content have absolute URLs";
this.Enabled=true;
this.IsDom=true;
};
b.MakeUrlsAbsolute.prototype={getHtmlContent:function(p){this._updateElements(p,"A","href");
this._updateElements(p,"AREA","href");
this._updateElements(p,"IMG","src");
this._updateElements(p,"EMBED","src");
var n=new b.IECleanAnchorsFilter();
if(p.tagName=="HTML"){var q=(typeof(p.ownerDocument)!="undefined")?p.ownerDocument:p.document;
var m=n.getHtmlContent(q.body.innerHTML);
if(q.body.innerHTML!==m){$telerik(q.body).html(m);
}}else{var o=n.getHtmlContent(p.innerHTML);
if($telerik.isIE&&o.match(/^\s*<(script|style|!--RADEDITORSAVEDTAG_script)/i)){p.innerHTML="&nbsp;"+n.getHtmlContent(p.innerHTML);
p.removeChild(p.firstChild);
}else{if(p.innerHTML!==o){try{b.Utils.setElementInnerHtml(p,o);
}catch(r){}}}}return p;
},_getElements:function(n,o){var m=n.getElementsByTagName(o);
if(!m){m=n.ownerDocument.getElementsByTagName(o);
}return m;
},_updateElements:function(o,t,m){var u=o.ownerDocument.createElement("div");
var p=this._getElements(o,t);
if(p){for(var r=0;
r<p.length;
r++){var n=p[r].getAttribute(m,2);
if("href"==m&&n&&!/^https?\:\/\//i.test(n)){u.innerHTML='<a href="'+n.replace(/\"/gi,"%22").replace(/[\s\u00a0]/gi,"%20")+'">test</a>';
var s;
if($telerik.isIE){s=p[r].innerHTML;
}try{p[r].setAttribute("href",u.childNodes[0].href);
}catch(q){}if($telerik.isIE){if((s.indexOf("www.")==0&&p[r].innerHTML.match("[a-z]+://"))||(s.indexOf("mailto:")==-1&&p[r].innerHTML.match("mailto:"))){p[r].innerHTML=s;
}}}else{if("src"==m&&n){u.innerHTML='<img src="'+n.replace(/\"/gi,"%22").replace(/[\s\u00a0]/gi,"%20")+'" />';
try{p[r].setAttribute("src",u.childNodes[0].src);
}catch(q){}}}}}u.innerHTML="";
u=null;
}};
b.MakeUrlsAbsolute.registerClass("Telerik.Web.UI.Editor.MakeUrlsAbsolute",b.Filter);
b.StripPathsFilter=function(m){b.StripPathsFilter.initializeBase(this);
this.Name="StripPathsFilter";
this.Description="This filter strips a specific part from URLs (href, src attributes)";
this.Enabled=true;
this.IsDom=true;
this._pathsToStrip=m;
};
b.StripPathsFilter.prototype={getHtmlContent:function(m){this._updateElements(m,"A","href");
this._updateElements(m,"AREA","href");
this._updateElements(m,"IMG","src");
this._updateElements(m,"EMBED","src");
return m;
},_getElements:function(n,o){var m=n.getElementsByTagName(o);
if(!m){m=n.ownerDocument.getElementsByTagName(o);
}return m;
},_updateElements:function(p,w,n){var r=this._getElements(p,w);
if(r){for(var t=0;
t<r.length;
t++){var q=r[t];
var o=$telerik.isIE?q.getAttribute(n,2):q[n];
if(o){var m=o.length;
for(var s=0,u=this._pathsToStrip.length;
s<u;
s++){var v=this._pathsToStrip[s];
if(v&&o.toLowerCase().indexOf(v.toLowerCase())==0){o=o.substring(v.length);
}}if(m>o.length){q.setAttribute(n,o);
}}}}}};
b.StripPathsFilter.registerClass("Telerik.Web.UI.Editor.StripPathsFilter",b.Filter);
b.ConvertCharactersToEntities=function(){b.ConvertCharactersToEntities.initializeBase(this);
this.set_isDom(false);
this.set_enabled(true);
this.set_name("ConvertCharactersToEntities");
this.set_description("This filter converts reserved characters to their html entity names.");
this.entities=b.Utils.getEntitiesCollection();
};
b.ConvertCharactersToEntities.ampersandReplacerInEntities="_reEditor_TELERIK_Entities";
b.ConvertCharactersToEntities.ampersandCharacterReplacer="_reEditor_TELERIK_Character";
b.ConvertCharactersToEntities.ampersandEntityReplacer="_reEditor_TELERIK_Entity";
b.ConvertCharactersToEntities.prototype={getHtmlContent:function(m){if(m==""){return m;
}var q=this.parseHtml(m);
var s="";
var r=this.createRegEx();
var n=this.entities;
for(var o=0;
o<q.length;
o++){var p=q[o].content;
if(q[o].isTagOrComment){s+=p;
continue;
}p=p.replace(new RegExp("&amp;","gm"),b.ConvertCharactersToEntities.ampersandEntityReplacer);
p=this.reverseEntitiesToCharacters(p);
p=p.replace(new RegExp("&","gm"),b.ConvertCharactersToEntities.ampersandCharacterReplacer);
p=p.replace(r,function(v,w,u){for(var t in n){if(n[t]==v){return b.ConvertCharactersToEntities.ampersandReplacerInEntities+t+";";
}}return v;
});
s+=p;
}s=this.restoreMarkedSymbols(s);
return s;
},parseHtml:function(n){var w=/<\/?\w+(:\w+)*(?:\s+\w+(?:\-\w+)*(:\w+)*(?:\s*=\s*(?:"(?:\s|.)*?"|'(?:\s|.)*?'|[^'">\s]+)?)*)*\s*\/?>/gmi;
var m=this.getComments(n);
var o=this.breakContent(m,n);
if(o.length==0){o.push({isComment:false,content:n});
}var v=[];
for(var s=0;
s<o.length;
s++){var p=o[s].content;
if(p==""){continue;
}if(o[s].isComment){v.push(this.newElement(p,true));
continue;
}var u=[];
var t=w.exec(p);
while(t){u.push(t);
t=w.exec(p);
}var x=0;
for(var r=0;
r<u.length;
r++){if(x<u[r].index){var y=p.substring(x,u[r].index);
v.push(this.newElement(y,false));
}v.push(this.newElement(u[r][0],true));
x=u[r].index+u[r][0].length;
}if(p.length>x){var q=p.substring(x,p.length);
v.push(this.newElement(q,false));
}}return v;
},breakContent:function(m,n){var r="-->";
var o=[];
for(var s=0;
s<m.length;
s++){var q=n.substring(m[s].startIndex,m[s].endIndex+r.length);
if(s==0){if(m[s].startIndex==0){o.push({isComment:true,content:q});
}else{var p=n.substring(0,m[s].startIndex);
o.push({isComment:false,content:p});
o.push({isComment:true,content:q});
}}else{var u=m[s-1].endIndex+r.length;
var v=n.substring(u,m[s].startIndex);
o.push({isComment:false,content:v});
o.push({isComment:true,content:q});
}if(s==m.length-1){var t=n.substring(m[s].endIndex+r.length,n.length);
o.push({isComment:false,content:t});
}}return o;
},getComments:function(p){var u=/(<!--)|(-->)/gm;
var v="<!--";
var q="-->";
var n=[];
var o=[];
var t=u.exec(p);
while(t){var m=t[0];
var r=t.index;
var s=o.length>0?o[o.length-1]:k;
if(m==v){if(!s||s.commentStart==false){o.push({commentStart:true,index:r});
}}else{if(m==q){if(o.length!=0&&s.commentStart){n.push({startIndex:s.index,endIndex:r});
o.splice(o.length-1,1);
}}}t=u.exec(p);
}return n;
},restoreMarkedSymbols:function(n){var m=n.replace(new RegExp(b.ConvertCharactersToEntities.ampersandCharacterReplacer,"gm"),"&amp;");
m=m.replace(new RegExp(b.ConvertCharactersToEntities.ampersandReplacerInEntities,"gm"),"&");
m=m.replace(new RegExp(b.ConvertCharactersToEntities.ampersandEntityReplacer,"gm"),"&amp;");
return m;
},createRegEx:function(){var o="[";
var m=this.entities;
for(var n in m){o+=m[n];
}o+="]";
return new RegExp(o,"g");
},newElement:function(m,n){return{content:m,isTagOrComment:n};
},reverseEntitiesToCharacters:function(o){var m=this.entities;
for(var n in m){o=o.replace(new RegExp("&"+n+";","gm"),m[n]);
}return o;
}};
b.ConvertCharactersToEntities.registerClass("Telerik.Web.UI.Editor.ConvertCharactersToEntities",b.Filter);
b.PdfExportFilter=function(){b.PdfExportFilter.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("PdfExportFilter");
this.set_description("This filter fixes some pdf export issues.");
};
b.PdfExportFilter.prototype={getHtmlContent:function(m){this.set_document(m.ownerDocument);
this.filterContent(m);
this.set_document(null);
return m;
},filterContent:function(m){var q=m.getElementsByTagName("TABLE");
for(var n=0,o=q.length;
n<o;
n++){var p=q[n];
this._forceWidthToTable(p);
this._forceColGroupToTable(p);
}},set_document:function(m){this._document=m;
},_forceWidthToTable:function(m){var n=m.getAttribute("width");
m.style.width=n||m.style.width||0;
m.removeAttribute("width");
},_forceColGroupToTable:function(q){var n=q.getElementsByTagName("colgroup");
if(n.length==0){var p=this._document.createElement("colgroup");
var m=this._getTableColCount(q);
for(var o=0;
o<m;
o++){p.appendChild(this._document.createElement("col"));
}q.insertBefore(p,q.firstChild);
}},_getTableColCount:function(r){var n=0;
if(r){if(r.rows.length>0){var m=r.rows[0].cells;
for(var p=0,q=m.length;
p<q;
p++){var o=m[p].getAttribute("colSpan")||1;
n+=parseInt(o,10);
}}}return n;
}};
b.PdfExportFilter.registerClass("Telerik.Web.UI.Editor.PdfExportFilter",b.Filter);
b.FixParagraphsWithSingleBrFilter=function(){b.FixParagraphsWithSingleBrFilter.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("FixParagraphsWithSingleBrFilter");
this.set_description("This filter converts single BR elements to &nbsp; enetity in paragraphs");
this._parentElementsSelector="p";
this._brRegExp=/^\s*<br[^>]*>\s*$/ig;
this._nbspRegExp=/^\s*&nbsp;\s*$/ig;
};
b.FixParagraphsWithSingleBrFilter.prototype={getHtmlContent:function(m){return this._applyRegExpToContent(m,this._brRegExp,"&nbsp;");
},getDesignContent:function(m){return this._applyRegExpToContent(m,this._nbspRegExp,"<br />");
},_applyRegExpToContent:function(m,n,o){$telerik.$(this._parentElementsSelector,m).each(function(q,p){if(p.innerHTML.match(n)){$telerik.$(p).html(o);
}});
return m;
}};
b.FixParagraphsWithSingleBrFilter.registerClass("Telerik.Web.UI.Editor.FixParagraphsWithSingleBrFilter",b.Filter);
b.CleanResizableHandles=function(){b.CleanResizableHandles.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("CleanResizableHandles");
this.set_description("Removes the elements of the Resizable's handles");
};
b.CleanResizableHandles.prototype={getHtmlContent:function(m){$telerik.$(".rrHandle[rel='rrWidget']",m).remove();
return m;
}};
b.CleanResizableHandles.registerClass("Telerik.Web.UI.Editor.CleanResizableHandles",b.Filter);
b.StripCommentsFilter=function(){b.StripCommentsFilter.initializeBase(this);
this.set_isDom(true);
this.set_enabled(true);
this.set_name("StripCommentsFilter");
this.set_description("This filter strips comments is strip option is set in the get_html method.");
};
b.StripCommentsFilter.prototype={getHtmlContent:function(m){$telerik.$('span[class^="reComment"], font[class^="reComment"]',m).each(function(){b.Utils.removeNode(this);
});
return m;
}};
b.StripCommentsFilter.registerClass("Telerik.Web.UI.Editor.StripCommentsFilter",b.Filter);
b.MetaTagAttributesFilter=function(){var m=this;
b.MetaTagAttributesFilter.initializeBase(m);
m.set_isDom(false);
m.set_enabled(true);
m.set_name(i);
m.set_description("Removes meta tag attributes such as http-equiv='refresh'");
};
b.MetaTagAttributesFilter.prototype={getDesignContent:function(m){var o=/(<meta[^>]*?)(http-equiv\s*=\s*[\'\"]refresh[\'\"])([^>]*?>)/gi,n="";
n=m.replace(o,"$1$3");
return n;
}};
b.MetaTagAttributesFilter.registerClass(j+e+i,b.Filter);
$telerik.toEditorFiltersManager=function(m){return m;
};
$telerik.findEditorFiltersManager=$find;
b.FiltersManager=function(){b.FiltersManager.initializeBase(this);
this._filters=[];
this._enableXhtmlFilter=true;
this._convertToXhtmlFilter=new b.ConvertToXhtmlFilter();
};
b.FiltersManager.prototype={clear:function(){Array.clear(this._filters);
},get_enableXhtmlFilter:function(){return this._enableXhtmlFilter;
},set_enableXhtmlFilter:function(m){this._enableXhtmlFilter=m;
},add:function(m){Array.add(this._filters,m);
},addAt:function(m,n){Array.insert(this._filters,n,m);
},remove:function(m){Array.remove(this._filters,m);
},removeFilterByName:function(o){for(var n=0;
n<this._filters.length;
n++){var m=this._filters[n];
if(m&&o==m.get_name()){this.removeAt(n);
}}},removeAt:function(m){Array.removeAt(this._filters,m);
},getFilterAt:function(m){return this._filters[m];
},getFilterByName:function(o){for(var n=0;
n<this._filters.length;
n++){var m=this._filters[n];
if(m&&o==m.get_name()){return m;
}}},getDesignContent:function(n){var m=n;
for(var q=0;
q<this._filters.length;
q++){var p=this._filters[q];
if((!p.get_isDom())&&(false!=p.get_enabled())&&p.getDesignContent){try{m=p.getDesignContent(m);
}catch(o){alert("Error while executing filter "+p.get_name()+" - "+o.toString());
}}}return m;
},getDesignContentDom:function(m){for(var p=0;
p<this._filters.length;
p++){var o=this._filters[p];
if((o.get_isDom())&&(false!=o.get_enabled())&&o.getDesignContent){try{m=o.getDesignContent(m);
}catch(n){alert("Error while executing filter "+o.get_name()+" - "+n.toString());
}}}return m;
},getHtmlContent:function(n){var q,p;
for(q=0;
q<this._filters.length;
q++){p=this._filters[q];
if((p.get_isDom())&&(false!=p.get_enabled())&&p.getHtmlContent){try{n=p.getHtmlContent(n);
}catch(o){alert("Error while executing filter "+p.get_name()+" - "+o.toString());
}}}var m;
if(this.get_enableXhtmlFilter()){try{m=this._convertToXhtmlFilter.getHtmlContent(n);
}catch(o){alert("Error while executing filter XHTML - "+o.toString());
}}else{m=l.isEditorContentArea(n)?n.innerHTML:l.getOuterHtml(n);
}for(q=0;
q<this._filters.length;
q++){p=this._filters[q];
if((!p.get_isDom())&&(false!=p.get_enabled())&&p.getHtmlContent){try{m=p.getHtmlContent(m);
}catch(o){alert("Error while executing filter "+p.get_name()+" - "+o.toString());
}}}return m;
}};
b.FiltersManager.registerClass("Telerik.Web.UI.Editor.FiltersManager",Sys.Component);
})($telerik.$);
(function(a,n){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI;
var b=c.Editor;
var g=window;
var d=g.$telerik;
var f=g.document;
var i="NotFound";
var e=/\w/;
var k=/\s/;
var l="[\\t\\n\\r\\u0020]";
var j="(?:\\u00A0|"+l+"+(?!"+l+"))";
b.EditorFindReplaceEngine=function(o){var p=this;
b.EditorFindReplaceEngine.initializeBase(p);
p._findPolyfill=null;
p._supportsFind=false;
};
b.EditorFindReplaceEngine.prototype={initialize:function(){var p=this;
var o=p.get_editor();
p._supportsFind=p._supportsFindAPI();
b.EditorFindReplaceEngine.callBaseMethod(this,"initialize");
if(!p._supportsFind){p._findPolyfill=new b.EditorFindReplaceEngine.FindPolyfill({rootContentElement:o.get_contentArea()});
}},find:function(q,o){var r=this.get_wholeWord();
var p=this.get_caseSensitive();
return this.replaceEngine(q,null,o,"find",r,p,true);
},findPrevious:function(o){return this.find(o,true);
},findNext:function(o){return this.find(o);
},replace:function(q,r,o){var s=this.get_wholeWord();
var p=this.get_caseSensitive();
return this.replaceEngine(q,r,o,"replace",s,p,true);
},replaceAll:function(q,r,o){var s=this.get_wholeWord();
var p=this.get_caseSensitive();
return this.replaceEngine(q,r,o,"replaceAll",s,p,true);
},dispose:function(){this._findPolyfill=null;
b.EditorFindReplaceEngine.callBaseMethod(this,"dispose");
},_replace:function(p,t){if(this._findPolyfill&&this.isHtmlMode()){var v=p.get_textArea();
return this._findPolyfill.replaceInTextarea(v,t);
}var q=t;
if(q){q=q.replace(/&/gi,"&amp;").replace(/</gi,"&lt;").replace(/>/gi,"&gt;");
}var u=this.getSelection().getText();
if(u){if(d.isIE&&(!d.isIE10Mode||d.isIE10)){try{var r=new b.GenericCommand("EditorFindReplaceEngine",p.get_contentWindow(),p);
p.pasteHtml(q);
p.executeCommand(r);
}catch(o){var s=this.getSelection().getRange();
s.text=q;
s.select();
}}else{p.pasteHtml(q,"EditorFindReplaceEngine");
}return true;
}else{return false;
}},isSelectionInContentArea:function(p,q){var u=b.Utils,t=b.DomRange.toDomRange(q||this.getSelection().getRange()),s=p.get_mode()==Telerik.Web.UI.EditModes.Html,r=p.get_textArea(),o=s?r.parentNode:p.get_contentArea();
return u.isAncestorOrSelf(o,t.commonAncestorContainer);
},getSelection:function(){var o=this.getContentWindow();
return new b.Selection(o);
},getContentWindow:function(){var o=this.get_editor();
var r=this.isHtmlMode();
var p=o.get_textArea();
var q=p.ownerDocument;
return r?(q.defaultView||q.parentWindow):o.get_contentWindow();
},_moveCursorToStart:function(){var o=this.get_editor();
var p=this.isHtmlMode();
var q=this._supportsFind;
var r=p?o.get_textArea():n;
if(!q){if(p){r.selectionStart=0;
r.selectionEnd=0;
}else{o.focusFirstText();
}return;
}if(p){r.select();
if(r.selectionStart!==n){r.selectionStart=r.selectionEnd=0;
}}else{o.get_document().execCommand("SelectAll",false,null);
this.getSelection().collapse(true);
}},replaceEngine:function(M,B,o,E,O,q,P){var v=this;
var t;
var w=v._findPolyfill;
var u;
var r;
var A;
var J;
var N=v._supportsFind;
var z=v.isHtmlMode();
if(null==M||""==M){return;
}u=this.get_editor();
r=this.getContentWindow();
J=u._getCurrentArea();
if(r.document.body.innerHTML==""){return i;
}if(d.isIE){u.setActive();
}var s=r.document;
var x=0;
if(O){x=x+2;
}if(q){x=x+4;
}if(E=="replaceAll"){var G;
this._moveCursorToStart();
var D=0;
if(N&&f.body.createTextRange){var I=this.getSearchableRangeIE(s,o);
while(I.findText(M,o?-1:1,x)&&this.isSelectionInContentArea(u,I)){D++;
I.scrollIntoView();
this.selectRange(I);
G=this._replace(u,B);
I=this.getSearchableRangeIE(s,o);
this.selectRange(I);
if(!G){break;
}}}else{if(N&&r.find){while(r.find(M,q,o,false,O,false,false)&&(z||this.isSelectionInContentArea(u))){D++;
G=this._replace(u,B);
if(!G){break;
}}}else{if(!N){do{t=u.getDomRange();
A=w[z?"findInString":"find"]({stringToFind:M,backwards:o,caseSensitive:q,range:t,searchArea:J,replaceAll:true,useRegExpForSpace:!z});
if(A){v._selectMatch(A,t);
v._replace(u,B);
D++;
}}while(A);
}}}if(D>0){return{replaceCount:D,message:"AllReplaced"};
}else{return"NotFound";
}}if(E=="replace"){this._replace(u,B);
}if(!N){t=u.getDomRange();
A=w[z?"findInString":"find"]({stringToFind:M,backwards:o,caseSensitive:q,range:t,searchArea:J,useRegExpForSpace:!z});
if(A){v._selectMatch(A,t);
return;
}else{return i;
}}var y=false;
var L=(P&&!this._wrapping);
var K=this;
var F=function(){K._wrapping=true;
K.selectContentEdge(s,!o);
return K.replaceEngine(M,B,o,E,O,q,P);
};
if(!r.find&&d.isIE){var p=o?-1:1;
var H=this.getSearchableRangeIE(s,o);
if((y=H.findText(M,p,x))){this._wrapping=false;
H.scrollIntoView();
this.selectRange(H);
}else{if(L){return F();
}}}else{this.getSelection().collapse(o);
var C=this.getRange(s);
if((y=r.find(M,q,o,P,O,false,false))||L){if(!y){return F();
}else{if(!this.isSelectionInContentArea(u)){if(this._wrapping){y=this._wrapping=false;
this.selectContentEdge(s,!o);
}else{if(P){return F();
}else{this.selectRange(C);
u.setFocus();
}}}}this._wrapping=false;
}}if(!y){return"NotFound";
}},selectContentEdge:function(p,u){var q=this.get_editor();
var r=this.isHtmlMode();
var o=r?q.get_textArea():q.get_contentArea();
var s;
if(r){o.select();
if(o.selectionStart!==n){o.selectionStart=o.selectionEnd=(u?0:o.value.length);
}else{s=this.getRange(p);
s.collapse(u);
}}else{var t=b.DomRange.toDomRange;
s=t(this.getRange(p));
s.selectNodeContents(o);
s.collapse(u);
s.select();
}},selectRange:function(p){var o=b.DomRange.toDomRange(p);
o.select();
},getRange:function(p){var r=this.getSelection().getRange(),o=p.body;
if(o.createTextRange&&!p.selection){var t=b.DomRange.toDomRange;
var s=t(o.createTextRange());
var q=t(r);
s.setStart(q.startContainer,q.startOffset);
s.setEnd(q.endContainer,q.endOffset);
s.select();
r=s.getBrowserRange();
}return r;
},getSearchableRangeIE:function(p,o){var q=this.getRange(p);
q.collapse(o);
return q;
},isHtmlMode:function(){return this.get_editor().get_mode()==Telerik.Web.UI.EditModes.Html;
},_selectMatch:function(q,r){var t=this;
var p=t.isHtmlMode();
var o=t.get_editor();
if(q&&p){var s=o.get_textArea();
s.selectionStart=q.startOffset;
s.selectionEnd=q.endOffset;
}else{if(q){b.Utils.scrollTo(q.startContainer,o);
if(q.startContainer!=q.endContainer){b.Utils.scrollTo(q.endContainer,o);
}r=r||b.DomRange.createRange(o.get_document());
r.setStart(q.startContainer,q.startOffset);
r.setEnd(q.endContainer,q.endOffset);
r.select();
}}},_supportsFindAPI:function(){var o=this.getContentWindow();
return !!(f.body.createTextRange||(o.find&&!h(o.find,o)));
}};
a.registerControlProperties(b.EditorFindReplaceEngine,{wholeWord:false,caseSensitive:false,editor:null});
b.EditorFindReplaceEngine.FindPolyfill=function(o){var r=this;
var p=o||{};
var q=p.rootContentElement;
r._textNodesTraverser=p.textTraverser||new b.TextNodesTraverser(q);
r._rootContentElement=q;
};
b.EditorFindReplaceEngine.FindPolyfill.prototype={find:function(q){var B=this;
var A=B._textNodesTraverser;
var u=q||{};
var o=u.backwards;
var p=u.caseSensitive;
var v=u.range;
var w=u.rootContentElement||B._rootContentElement;
var y=u.stringToFind;
var x=u.startOffset;
var r=u.endOffset;
var z;
var t;
var s;
if(v){z=A.traverse(v,o);
s=B.findContent(z,y,{backwards:o,startOffset:x>=0?x:B.getTextStartOffset(v,z),endOffset:r>=0?r:B.getTextEndOffset(v,z),caseSensitive:p});
}else{z=A.traverseFrom(o?w.lastChild:w.firstChild,o);
s=B.findContent(z,y,{backwards:o,caseSensitive:p});
}t=z;
while(!s){t=A.getNextFragment(t,o);
if(t){s=B.findContent(t,y,{backwards:o,caseSensitive:p});
}else{if(u.replaceAll){break;
}else{if(v){s=B.find({stringToFind:y,backwards:o,caseSensitive:p});
return s;
}else{break;
}}}}return s;
},findContent:function(F,C,o){if(!F||(F&&F.isEmpty())){return null;
}var y=a.extend({backwards:false,caseSensitive:false,useRegExpForSpace:true},o||{});
var E=F.get_textContent();
var w=F.get_nodeLengthSums();
var D=w.length;
var x=F.get_nodes();
var v;
var z;
var A=null;
var B=null;
var p=null;
var q=null;
var u;
var t;
var r;
var s=this.getRegExpMatch(E,C,y);
if(!s){return null;
}u=s.index;
t=u+s[0].length;
for(r=0;
r<D;
r++){v=w[r];
z=w[r-1];
if(B===null&&u<v){A=r;
if(z){B=u-z;
}else{B=u;
}}if(q===null&&t<=v){p=r;
if(z){q=t-z;
}else{q=t;
}}if(B!==null&&q!==null){break;
}}return{startContainer:x[A],startOffset:B,endContainer:x[p],endOffset:q};
},getTextStartOffset:function(o,p){return this._getTextOffset(o,p,true);
},getTextEndOffset:function(o,p){return this._getTextOffset(o,p,false);
},_getTextOffset:function(u,v,x){var r=v.get_nodes();
var q=v.get_nodeLengthSums();
var s=r.length;
var w=v.get_textLength();
var o=x?u.startContainer:u.endContainer;
var t=x?u.startOffset:u.endOffset;
for(var p=0;
p<s;
p++){if(r[p]===o){return(q[p-1]?q[p-1]+t:t);
}}return(x?0:w);
},getRegExpMatch:function(u,t,q){var r=this.createRegExp(t,q);
var p;
if(q.backwards){u=u.substr(0,q.startOffset>=0?q.startOffset:u.length);
p=r.exec(u);
var o;
while(p){o=p;
p=r.exec(u);
}return o;
}else{var s=q.endOffset||0;
p=r.exec(u);
while(p&&p.index<s){p=r.exec(u);
}return p;
}},createRegExp:function(r,t){var u=new Telerik.Web.StringBuilder();
var p=t.caseSensitive?"g":"ig";
for(var q=0,s=r.length;
q<s;
q++){var o=r.charAt(q);
if(e.test(o)){u.append(o);
}else{if(t.useRegExpForSpace&&k.test(o)){u.append(j);
}else{u.append(m(o));
}}}return new RegExp(u.toString(),p);
},findInString:function(q){var t=this;
var s=q.searchArea;
var o=s.value;
var r=q.stringToFind;
q.startOffset=s.selectionStart;
q.endOffset=s.selectionEnd;
var p=t.getRegExpMatch(o,r,q);
if(!p&&!q.replaceAll){q.startOffset=q.endOffset=q.backwards?o.length:0;
p=t.getRegExpMatch(o,r,q);
}return p?{startOffset:p.index,endOffset:p.index+p[0].length}:null;
},replaceInTextarea:function(s,q){var r=s.selectionStart;
var p=s.selectionEnd;
if(r==p){return false;
}var o=s.value;
s.value=o.substr(0,r)+q+o.substr(p,o.length);
s.selectionStart=r;
s.selectionEnd=r+q.length;
return true;
}};
b.EditorFindReplaceEngine.registerClass("Telerik.Web.UI.Editor.EditorFindReplaceEngine",Sys.Component);
function m(o){var p=o.charCodeAt(0);
var q=p.toString(16);
while(q.length<4){q="0"+q;
}return"\\u"+q;
}function h(p,o){var r=o.HTMLElement;
var q=1;
if(r){return(!!p&&(p instanceof r));
}else{return(!!p&&typeof(p)==="object"&&p.nodeType===q&&!!p.nodeName);
}}})($telerik.$);
(function(a,g){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI;
var c=b.Editor;
var f=function(h){return h&&h.nodeType==3;
};
var e=function(h){return f(h)&&c.Utils.isTextNodeCompletelyEmpty(h);
};
var d=function(h){return h&&h.nodeType==1&&c.Utils.canHaveChildren(h)&&!!h.childNodes.length;
};
c.TextNodesTraverser=function(h){this._root=h;
};
c.TextNodesTraverser.prototype={traverse:function(i,h){var j=this._getStartNode(i,h);
return this.traverseFrom(j,h);
},traverseFrom:function(k,h){var l=this;
var i=new c.TextFragment();
var j;
if(k===l._root){return i;
}l._stopTraversing=false;
l._backwards=!!h;
l._collectTextNodes(k,i);
while(!i.get_nodes().length){j=l._getSibling(k)||k.parentNode;
if(!j||j===l._root){return null;
}i=l.traverseFrom(j,h);
}if(h){i.reverseNodes();
}while(i&&i.isEmpty()){i=l.getNextFragment(i,h);
}return i;
},getNextFragment:function(i,h){var j=i.getLast();
if(!j){return;
}var m=this;
var l=m.getNextNodeToTraverse(j,h);
while(l&&(e(l)||(!f(l)&&!d(l)))){l=m.getNextNodeToTraverse(l,h);
}if(!l){return;
}var k=m.traverseFrom(l,h);
if(k&&!!k.get_nodes().length){while(k&&k.isEmpty()){k=m.getNextFragment(k,h);
}return k;
}return;
},getNextNodeToTraverse:function(j,h){this._backwards=!!h;
var k=this._getSibling(j);
if(k){return k;
}var i;
while(!this._getSibling(j)&&!i){j=j.parentNode;
if(!j||j===this._root){return null;
}if(this._isEnd(j)){i=j;
}}i=i||this._getSibling(j);
while(!this._getSibling(i)){i=i.parentNode;
if(!i||i===this._root){return null;
}}return this._getSibling(i);
},_collectTextNodes:function(j,i){while(j&&!this._stopTraversing&&j!=this._root){if(d(j)){var h=this._getChild(j);
this._collectTextNodes(h,i);
}else{if(f(j)){i.add(j);
}}j=this._getNext(j);
if(!j||this._isEnd(j)){this._stopTraversing=true;
return;
}}},_getChild:function(h){return this._backwards?h.lastChild:h.firstChild;
},_getSibling:function(h){return this._backwards?h.previousSibling:h.nextSibling;
},_isEnd:function(h){return c.Utils.isBlockElement(h)||h===this._root||(h.nodeType==1&&!c.Utils.canHaveChildren(h));
},_getNext:function(h){while(!this._getSibling(h)){h=h.parentNode;
if(h&&this._isEnd(h)){return null;
}}return this._getSibling(h);
},_getStartNode:function(l,h){var j=h?l.startContainer:l.endContainer;
var k=h?l.startOffset:l.endOffset;
if(f(j)){return j;
}else{if(c.Utils.canHaveChildren(j)&&j.childNodes[k]){var i=j.childNodes[k];
return f(i)?(h?i.previousSibling:i.nextSibling)||i.parentNode:i;
}else{return j;
}}}};
c.TextFragment=function(){var h=this;
h._nodes=[];
h._nodeLengthSums=[];
h._content=new Telerik.Web.StringBuilder();
h._textLength=0;
};
c.TextFragment.prototype={add:function(h){var k=this;
var i=k.get_nodeLengthSums();
var j=i[i.length-1]||0;
k._nodes.push(h);
k._nodeLengthSums.push(j+h.length);
k._content.append(h.nodeValue);
k._textLength+=h.length;
},get_textContent:function(){return this._content.toString();
},get_textsCollection:function(){return this._content.get_buffer();
},get_nodes:function(){return this._nodes;
},get_nodeLengthSums:function(){return this._nodeLengthSums;
},clear:function(){this._nodes.length=0;
this.get_textsCollection().length=0;
},get_textLength:function(){return this._textLength;
},reverseNodes:function(){var m=this;
var l;
var k=m._nodes.length;
m._nodes.reverse();
m._content.get_buffer().reverse();
m._nodeLengthSums=[];
var j=m._nodeLengthSums;
for(var h=0;
h<k;
h++){l=j[j.length-1]||0;
j.push(l+m._nodes[h].length);
}},getLast:function(h){var i=this.get_nodes();
return h?i[0]:i[i.length-1];
},isEmpty:function(){var h=c.Utils;
return h.every(this.get_nodes(),h.isTextNodeCompletelyEmpty);
}};
})();
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,i){var h="_reSelectedElement";
var c=function(l,k){var j=l?l.commonAncestorContainer:undefined;
return j&&(k===j||a.contains(k,j));
};
var e=function(j){return j.nodeType==1||j.nodeType==3;
};
var d=function(j){var k=j.firstChild;
var l=j.lastChild;
return !k||(i.isTag(k,"br")&&k===l);
};
var g=function(j){j.removeClass(h);
if(!j.attr("class")){j.removeAttr("class");
}};
var f=function(j){return j&&i.isSingleChild(j)&&(i.isZwspTextNode(j)||i.isTag(j,"br"));
};
b.RestorePoint=function(k,j){var l=this;
l.Window=k;
l.Document=k.document;
l.container=(j)?j:l.Document.body;
l.rangeHolder=new b.RangeHolder();
l.update();
l.Update=l.update;
l.Restore=l.restore;
l.Select=l.select;
};
b.RestorePoint.prototype={update:function(){var r=this;
var o=r.getRange(true);
var j=r.container;
var k=d(j);
var m;
if(!c(o,j)||!e(o.commonAncestorContainer)||k){r.HtmlText=j.innerHTML;
r._noContent=k;
return;
}var l=a(j);
var p=r.rangeHolder;
var q=b.RangeEdges.commonNode(o);
if(f(q)){r._storeSelectedElement(q.parentNode);
}else{if(q&&!i.isTextNode(q)&&!i.canHaveChildren(q)&&!i.isTag(q,"br")){r._storeSelectedElement(q);
}else{if(i.isTextNode(o.startContainer)&&i.isTextNode(o.endContainer)){p.markRangeEdges(o);
r.HtmlText=j.innerHTML;
l.find(p.get_markerSelector()).each(function(s,t){i.removeNode(t);
});
o.select();
}else{p.markRangeEdges(o);
r.HtmlText=j.innerHTML;
m=l.find("."+h);
if(m.length){g(m);
}else{var n=l.find(p.get_markerSelector());
p.selectWithinMarkers(n);
}}}}},restore:function(j){this.select(j);
},select:function(j){var r=this;
i.setElementInnerHtml(r.container,r.HtmlText);
var k=a(r.container).find("."+h);
if(r._noContent){r._selectIn(r.container);
}else{if(k.length){g(k);
var q=k.get(0);
var o;
if(!i.canHaveChildren(q)){o=r.getRange();
o.selectNode(q);
o.select();
}else{if(i.isZwspTextNode(q.firstChild)){o=r.getRange();
var m=q.firstChild;
var n=m.length-1;
i._setCursorInTextNode(o,m,n,n);
}else{r._selectIn(q);
}}}else{var p=r.rangeHolder;
var l=a(r.container).find(p.get_markerSelector());
if(j&&l.length>1){l.first().remove();
l=l.last();
}p.selectWithinMarkers(l);
}}r.fireRestoredEvent();
},_selectIn:function(j){var l=this;
var k=l.getRange();
k.selectNodeContents(j);
k.collapse(true);
k.select();
},_storeSelectedElement:function(j){var k=a(j);
k.addClass(h);
this.HtmlText=this.container.innerHTML;
g(k);
},getRange:function(j){var l=this;
var k=b.DomRange.rangeFromWindow(l.Window);
return j?k:k||b.DomRange.createRange(l.Document);
},fireRestoredEvent:function(){this.trigger("restored",Sys.EventArgs.Empty);
}};
b.RestorePoint.registerClass("Telerik.Web.UI.Editor.RestorePoint",null);
b.SelectionBookmark=function(k,j){this.Window=k;
this.NodePath=this._findNodePath(this.Window.document.documentElement,j);
};
b.SelectionBookmark.prototype={select:function(){var k=this._findNode(this.Window.document.documentElement,this.NodePath);
try{i.selectElement(this.Window,k);
}catch(j){}return k;
},_findNodePath:function(m,l){var k,o;
for(var j=0;
j<m.childNodes.length;
j++){k=m.childNodes[j];
o=this._findNodePath(k,l);
if(""!=o){return""+j+","+o;
}if(k==l){return""+j;
}}return"";
},_findNode:function(m,l){var j=l.split(",");
for(var k=0;
k<j.length;
k++){m=m.childNodes[j[k]];
}return m;
}};
b.SelectionBookmark.registerClass("Telerik.Web.UI.Editor.SelectionBookmark",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
$telerik.toEditorSelection=function(a){return a;
};
$telerik.findEditorSelection=$find;
(function(a,b,d){var c=["img","table"];
b.Selection=function(e){this._window=e;
this.isSafari=$telerik.isSafari;
this.isOpera=$telerik.isOpera;
this.GetRange=this.getRange;
this.GetParentElement=this.getParentElement;
this.IsControl=this.isControl;
this.GetText=this.getText;
this.GetHtmlText=this.getHtml;
this.PasteHtml=this.pasteHtml;
this.Collapse=this.collapse;
};
b.Selection.prototype={selectElement:function(e){return d.selectElement(this._window,e);
},pasteHtml:function(k,f){var p=this,j=p._window.document,o=b.DomRange.toDomRange(p.getRange(true)),g=new b.HtmlCommentsStorage(),q=g.shouldStoreComments();
if(q){k=g.markComments(k);
}var i=j.createElement("div");
i.innerHTML=k;
if(q){g.restoreComments(i);
}var m=new b.NestedElementsFix(i,p);
var e=m.getBlockElements();
var h=j.createElement("span");
p.insertNode(h,o);
p._fireEvent("pasteDom",i,h);
var n=h.parentNode;
while(i.firstChild){n.insertBefore(i.firstChild,h);
}var l=p._getPreviousSibling(h);
n.removeChild(h);
m.set_context(n);
m.applyFix(e);
p._setCursor(l,o);
},insertNode:function(g,f){var i=f||b.DomRange.toDomRange(this.getRange(true));
var e=i.commonAncestorContainer;
if(d.isTextNode(e)&&!e.length&&e.nextSibling){e=e.nextSibling;
}if(d.isTextNode(e)&&/^[\u200b]+$/.test(e.nodeValue)){var h=e.parentNode;
h.insertBefore(g,e);
h.removeChild(e);
}else{i.insertNode(g);
}if(d.isBlockElement(e)&&!a.contains(e,g)){e.appendChild(g);
}if(d.isTextNode(g.previousSibling)&&!g.previousSibling.length){a(g.previousSibling).remove();
}if(d.isTextNode(g.nextSibling)&&!g.nextSibling.length){a(g.nextSibling).remove();
}},_fireEvent:function(h,g,f){if(!this.trigger){return;
}var e=a.extendEventArgs(new Sys.EventArgs(),{eventName:h,element:g,cursor:f});
this.trigger(h,e);
},_getPreviousSibling:function(e){var f=e.previousSibling;
while(f){if(!this._isEmptyTextNode(f)){return f;
}f=f.previousSibling;
}return e.previousSibling;
},_setCursor:function(e,f){if(e){if(d.isTextNode(e)&&!d.isTextNodeEmpty(e)){d._setCursorInTextNode(f,e,e.length,e.length);
}else{if(d.isTag(e,"table")){this._ensureBrAfterTable(e);
this._setCursorInTheFirstTableCell(e,f);
}else{if(d.isTag(e,"img")){this.selectElement(e);
}else{this._setCursorAfterNode(e,f);
}}}}},_setCursorAfterNode:function(f,g){var e=this._getNextNode(f);
if(e){if(d.isTextNode(e)){d._setCursorInTextNode(g,e,0,0);
return;
}else{if(!d.canHaveChildren(e)){g.setStartBefore(e);
}else{g.selectNodeContents(e);
}}}else{g.setStartAfter(f);
}g.collapse(true);
g.select();
},_ensureBrAfterTable:function(e){if(!e.nextSibling){e.parentNode.appendChild(this._window.document.createElement("BR"));
}},_setCursorInTheFirstTableCell:function(g,f){var e=a("td:first",g)[0];
if(e){f.selectNodeContents(e);
if(e.innerHTML!="&nbsp;"){f.collapse(true);
}f.select();
}},_getNextNode:function(f){var g=f;
var e=g.nextSibling;
while(e&&this._isEmptyTextNode(e)){e=e.nextSibling;
}if(e){return e;
}while(!g.nextSibling){g=g.parentNode;
if(d.isEditorContentArea(g)){return null;
}}return f!=g?this._getNextNode(g):null;
},_isEmptyTextNode:function(e){return d.isTextNode(e)&&d.isTextNodeEmpty(e);
},selectRange:function(h){if(!h){return;
}var g=this._window;
if(h.select){h.select();
}else{if(g.getSelection){var i=g.getSelection();
if(i.removeAllRanges){i.removeAllRanges();
i.addRange(h);
}else{var e=h.baseNode;
if(null==e){e=g.document.body;
}var f=h.extentNode;
if(null==f){f=g.document.body;
}i.setBaseAndExtent(e,h.startOffset,f,h.endOffset);
}}}},getBrowserSelection:function(){if(!this._window){return null;
}if(this._window.document.selection&&!window.opera){return this._window.document.selection;
}else{if(this._window.getSelection){return this._window.getSelection();
}}return null;
},getRange:function(g){var k=this._window;
if(!k){return null;
}var e=k.document,f=!!e.selection,j=k.getSelection&&(!f||g);
if(j){var i=k.getSelection();
if(!i||i.rangeCount<1){return null;
}var h=null;
if(i.getRangeAt){h=i.getRangeAt(0);
}else{h=e.createRange();
h.setStart(i.anchorNode,i.anchorOffset);
h.setEnd(i.focusNode,i.focusOffset);
}return h;
}else{if(f){return e.selection.createRange();
}}},getParentElement:function(){var h=this.getRange();
if(!h){return null;
}if(h.commonAncestorContainer){var m=this._window.getSelection();
var j=h.startContainer?h.startContainer:m.baseNode,f=h.endContainer?h.endContainer:m.extentNode,k=h.startOffset!=null?h.startOffset:m.baseOffset,g=h.endOffset!=null?h.endOffset:m.extentOffset;
var e=m.anchorNode.childNodes[m.anchorOffset],i=this._getSingleControlSelectionNode(m);
if(e&&(this._isControlTag(e)||(j==f&&(g-k)==1))){return e;
}else{if(i){return i;
}else{if($telerik.isSafari){if(j&&j===f&&j.nodeName=="TR"){return j;
}var l=(m.anchorNode&&m.anchorNode.parentNode)?m.anchorNode.parentNode.tagName:"";
if(l=="TH"||l=="TD"){return m.anchorNode.parentNode;
}else{if(l=="TR"){return m.anchorNode;
}}}if(!h.commonAncestorContainer.tagName){if(this._window.document==h.commonAncestorContainer&&m.baseNode){return m.baseNode.parentNode;
}return h.commonAncestorContainer.parentNode;
}else{return h.commonAncestorContainer;
}}}}else{if(h.length){return h.item(0);
}else{if(h.parentElement){return h.parentElement();
}else{return null;
}}}},isControl:function(){if(this._window.document.selection){return(this._window.document.selection.type=="Control");
}else{var f=this._window.getSelection();
if(f.toString()!=""){return false;
}var e=f.focusNode;
if(!e||e.nodeType==1){var g=this.getParentElement();
return !!(g&&g.tagName=="IMG");
}return(e.tagName=="IMG");
}},createRangeInIE:function(){return this._window.document.selection.createRange();
},getText:function(){if(this._window.document.selection){var e=this.createRangeInIE();
if(e.length){return"";
}else{if(null!=e.text){return e.text;
}}}else{if(this._window.getSelection){return this._window.getSelection().toString();
}else{return"";
}}},getHtml:function(){var i=this._window.document.selection;
var h=null;
if(i&&!window.opera){if(i.type=="None"){return"";
}h=this.createRangeInIE();
if(h.length){return h.item(0).outerHTML;
}else{if(h.htmlText){return h.htmlText;
}else{return"";
}}}else{if(this._window.getSelection){i=this._window.getSelection();
if(null==i){return"";
}if(i.getRangeAt&&typeof(i.rangeCount)!="undefined"&&i.rangeCount==0){return"";
}if(i.getRangeAt){h=i.getRangeAt(0);
var g=this._window.document.createElement("div");
var e=h.cloneContents();
if(e){g.appendChild(e);
var f=g.innerHTML;
f=d._replaceWhitespaceBetweenTags(f," ");
return f;
}else{return"";
}}else{return i;
}}else{return"";
}}},moveToElementText:function(e){if(!e){return false;
}var g;
if(this.isSafari){g=this._window.document.createRange();
g.selectNodeContents(e);
this.selectRange(g);
this.collapse(true);
}else{if($telerik.isIE){g=this.getRange();
var f=$telerik.getLocation(e);
g.moveToPoint(f.x,f.y);
g.select();
}else{g=this.getRange();
g.selectNodeContents(e);
this.selectRange(g);
this.collapse(true);
}}},collapse:function(g){g=(g==true);
if(this._window.document.selection){var e=this.createRangeInIE();
if(e.collapse){e.collapse(g);
e.select();
}}else{if(this._window.getSelection){var f=this._window.getSelection();
if(!f.isCollapsed){if(g){f.collapseToStart();
}else{f.collapseToEnd();
}}}}},_getSingleControlSelectionNode:function(k){var m=k.anchorNode,g=k.focusNode,l=k.anchorNode.childNodes,f=k.focusNode.childNodes,n=k.anchorOffset,h=k.focusOffset,e=l[n-(l.length==n?1:0)],i=f[h-(f.length==h?1:0)];
if(this._isSingleControlNode(m,i)){return m;
}else{if(this._isSingleControlNode(g,e)){return g;
}}var j=this._surroundsSingleControlNode(k);
if(j){return j;
}},_isSingleControlNode:function(e,g){if(e===g){return true;
}var h=c;
for(var f=0;
f<h.length;
f++){if(this._isSingleTagSelection(e,h[f],g)){return true;
}}return false;
},_isSingleTagSelection:function(e,g,f){return d.isTag(e,g)&&f&&f.previousSibling===e;
},_isControlTag:function(f){var g=c;
for(var e=0;
e<g.length;
e++){if(d.isTag(f,g[e])){return true;
}}return false;
},_surroundsSingleControlNode:function(j){var e=new b.FragmentContainer(),i=b.DomRange.toDomRange(this.getRange(true)),g=new b.RangeIterator(i),f=this._isControlTag;
g.iterate(function(k){e.addNode(k);
});
var h=e.nodes;
if(e.any(f)){switch(h.length){case 1:return h[0];
case 2:case 3:if(d.isTextNode(h[0])&&i.startOffset===h[0].length&&(!h[2]||d.isTextNode(h[2]))){return h[1];
}break;
default:return false;
}}}};
b.Selection.registerClass("Telerik.Web.UI.Editor.Selection",null);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI");
Telerik.Web.UI._localization=function(){this._controls={};
};
Telerik.Web.UI._localization.prototype={merge:function(a,b,e){if(typeof(this._controls[a])=="undefined"){this._controls[a]={};
}if(typeof(this._controls[a][b])=="undefined"){this._controls[a][b]={};
}var c=this._controls[a][b];
for(var d in e){if(typeof(e[d])=="string"){c[d]=e[d];
}}return c;
}};
Telerik.Web.UI._localization.registerClass("Telerik.Web.UI._localization");
Telerik.Web.UI.Localization=new Telerik.Web.UI._localization();
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor.Markdown={};
if(typeof window.exports==="object"&&typeof require==="function"){Telerik.Web.UI.Editor.Markdown=window.exports;
}(function(){function b(e){return e;
}function c(e){return false;
}function a(){}a.prototype={chain:function(f,e){var g=this[f];
if(!g){throw new Error("unknown hook "+f);
}if(g===b){this[f]=e;
}else{this[f]=function(h){return e(g(h));
};
}},set:function(f,e){if(!this[f]){throw new Error("unknown hook "+f);
}this[f]=e;
},addNoop:function(e){this[e]=b;
},addFalse:function(e){this[e]=c;
}};
Telerik.Web.UI.Editor.Markdown.HookCollection=a;
function d(){}d.prototype={set:function(e,f){this["s_"+e]=f;
},get:function(e){return this["s_"+e];
}};
Telerik.Web.UI.Editor.Markdown.Converter=function(){var M=this.hooks=new a();
M.addNoop("plainLinkText");
M.addNoop("preConversion");
M.addNoop("postConversion");
var J;
var I;
var G;
var H;
this.makeHtml=function(P){if(J){throw new Error("Recursive call to converter.makeHtml");
}J=new d();
I=new d();
G=[];
H=0;
P=M.preConversion(P);
P=P.replace(/~/g,"~T");
P=P.replace(/\$/g,"~D");
P=P.replace(/\r\n/g,"\n");
P=P.replace(/\r/g,"\n");
P="\n\n"+P+"\n\n";
P=e(P);
P=P.replace(/^[ \t]+$/mg,"");
P=t(P);
P=A(P);
P=y(P);
P=B(P);
P=P.replace(/~D/g,"$$");
P=P.replace(/~T/g,"~");
P=M.postConversion(P);
G=I=J=null;
return P;
};
function A(P){P=P.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(V,Q,R,S,T,U){Q=Q.toLowerCase();
J.set(Q,o(R));
if(T){return S;
}else{if(U){I.set(Q,U.replace(/"/g,"&quot;"));
}}return"";
});
return P;
}function t(P){P=P.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,L);
P=P.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,L);
P=P.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,L);
P=P.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,L);
P=P.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,L);
return P;
}function L(R,Q){var P=Q;
P=P.replace(/^\n+/,"");
P=P.replace(/\n+$/g,"");
P="\n\n~K"+(G.push(P)-1)+"K\n\n";
return P;
}function y(R,P){R=k(R);
var Q="<hr />\n";
R=R.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,Q);
R=R.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,Q);
R=R.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,Q);
R=n(R);
R=i(R);
R=h(R);
R=t(R);
R=s(R,P);
return R;
}function z(P){P=j(P);
P=r(P);
P=p(P);
P=l(P);
P=f(P);
P=g(P);
P=P.replace(/~P/g,"://");
P=o(P);
P=m(P);
P=P.replace(/  +\n/g," <br>\n");
return P;
}function r(Q){var P=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;
Q=Q.replace(P,function(S){var R=S.replace(/(.)<\/?code>(?=.)/g,"$1`");
R=E(R,S.charAt(1)=="!"?"\\`*_/":"\\`*_");
return R;
});
return Q;
}function f(P){P=P.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,N);
P=P.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,N);
P=P.replace(/(\[([^\[\]]+)\])()()()()()/g,N);
return P;
}function N(ac,R,S,T,U,V,W,X){if(X==undefined){X="";
}var ab=R;
var Q=S.replace(/:\/\//g,"~P");
var P=T.toLowerCase();
var aa=U;
var Z=X;
if(aa==""){if(P==""){P=Q.toLowerCase().replace(/ ?\n/g," ");
}aa="#"+P;
if(J.get(P)!=undefined){aa=J.get(P);
if(I.get(P)!=undefined){Z=I.get(P);
}}else{if(ab.search(/\(\s*\)$/m)>-1){aa="";
}else{return ab;
}}}aa=D(aa);
aa=E(aa,"*_");
var Y='<a href="'+aa+'"';
if(Z!=""){Z=C(Z);
Z=E(Z,"*_");
Y+=' title="'+Z+'"';
}Y+=">"+Q+"</a>";
return Y;
}function l(P){P=P.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,O);
P=P.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,O);
return P;
}function C(P){return P.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");
}function O(ac,R,S,T,U,V,W,X){var ab=R;
var P=S;
var Q=T.toLowerCase();
var aa=U;
var Z=X;
if(!Z){Z="";
}if(aa==""){if(Q==""){Q=P.toLowerCase().replace(/ ?\n/g," ");
}aa="#"+Q;
if(J.get(Q)!=undefined){aa=J.get(Q);
if(I.get(Q)!=undefined){Z=I.get(Q);
}}else{return ab;
}}P=E(C(P),"*_[]()");
aa=E(aa,"*_");
var Y='<img src="'+aa+'" alt="'+P+'"';
Z=C(Z);
Z=E(Z,"*_");
Y+=' title="'+Z+'"';
Y+=" />";
return Y;
}function k(P){P=P.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(R,Q){return"<h1>"+z(Q)+"</h1>\n\n";
});
P=P.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(R,Q){return"<h2>"+z(Q)+"</h2>\n\n";
});
P=P.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(T,R,S){var Q=R.length;
return"<h"+Q+">"+z(S)+"</h"+Q+">\n\n";
});
return P;
}function n(P){P+="~0";
var Q=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;
if(H){P=P.replace(Q,function(W,T,U){var R=T;
var S=(U.search(/[*+-]/g)>-1)?"ul":"ol";
var V=x(R,S);
V=V.replace(/\s+$/,"");
V="<"+S+">"+V+"</"+S+">\n";
return V;
});
}else{Q=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g;
P=P.replace(Q,function(Y,T,U,V){var X=T;
var R=U;
var S=(V.search(/[*+-]/g)>-1)?"ul":"ol";
var W=x(R,S);
W=X+"<"+S+">\n"+W+"</"+S+">\n";
return W;
});
}P=P.replace(/~0/,"");
return P;
}var u={ol:"\\d+[.]",ul:"[*+-]"};
function x(Q,R){H++;
Q=Q.replace(/\n{2,}$/,"\n");
Q+="~0";
var S=u[R];
var T=new RegExp("(^[ \\t]*)("+S+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+S+")[ \\t]+))","gm");
var P=false;
Q=Q.replace(T,function(aa,X,Y,Z){var W=Z;
var V=/\n\n$/.test(W);
var U=V||W.search(/\n{2,}/)>-1;
if(U||P){W=y(v(W),true);
}else{W=n(v(W));
W=W.replace(/\n$/,"");
W=z(W);
}P=V;
return"<li>"+W+"</li>\n";
});
Q=Q.replace(/~0/g,"");
H--;
return Q;
}function i(P){P+="~0";
P=P.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(U,R,S){var Q=R;
var T=S;
Q=q(v(Q));
Q=e(Q);
Q=Q.replace(/^\n+/g,"");
Q=Q.replace(/\n+$/g,"");
Q="<pre><code>"+Q+"\n</code></pre>";
return"\n\n"+Q+"\n\n"+T;
});
P=P.replace(/~0/,"");
return P;
}function K(P){P=P.replace(/(^\n+|\n+$)/g,"");
return"\n\n~K"+(G.push(P)-1)+"K\n\n";
}function j(P){P=P.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(V,R,S,T,U){var Q=T;
Q=Q.replace(/^([ \t]*)/g,"");
Q=Q.replace(/[ \t]*$/g,"");
Q=q(Q);
Q=Q.replace(/:\/\//g,"~P");
return R+"<code>"+Q+"</code>";
});
return P;
}function q(P){P=P.replace(/&/g,"&amp;");
P=P.replace(/</g,"&lt;");
P=P.replace(/>/g,"&gt;");
P=E(P,"*_{}[]\\",false);
return P;
}function m(P){P=P.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4");
P=P.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4");
return P;
}function h(P){P=P.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(S,R){var Q=R;
Q=Q.replace(/^[ \t]*>[ \t]?/gm,"~0");
Q=Q.replace(/~0/g,"");
Q=Q.replace(/^[ \t]+$/gm,"");
Q=y(Q);
Q=Q.replace(/(^|\n)/g,"$1  ");
Q=Q.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(V,T){var U=T;
U=U.replace(/^  /mg,"~0");
U=U.replace(/~0/g,"");
return U;
});
return K("<blockquote>\n"+Q+"\n</blockquote>");
});
return P;
}function s(X,P){X=X.replace(/^\n+/g,"");
X=X.replace(/\n+$/g,"");
var S=X.split(/\n{2,}/g);
var T=[];
var V=/~K(\d+)K/;
var Q=S.length;
var U;
for(U=0;
U<Q;
U++){var W=S[U];
if(V.test(W)){T.push(W);
}else{if(/\S/.test(W)){W=z(W);
W=W.replace(/^([ \t]*)/g,"<p>");
W+="</p>";
T.push(W);
}}}if(!P){Q=T.length;
for(U=0;
U<Q;
U++){var R=true;
while(R){R=false;
T[U]=T[U].replace(/~K(\d+)K/g,function(Z,Y){R=true;
return G[Y];
});
}}}return T.join("\n\n");
}function o(P){P=P.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");
P=P.replace(/<(?![a-z\/?\$!])/gi,"&lt;");
return P;
}function p(P){P=P.replace(/\\(\\)/g,F);
P=P.replace(/\\([`*_{}\[\]()>#+-.!])/g,F);
return P;
}function g(Q){Q=Q.replace(/(^|\s)(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\]])($|\W)/gi,"$1<$2$3>$4");
var P=function(S,R){return'<a href="'+R+'">'+M.plainLinkText(R)+"</a>";
};
Q=Q.replace(/<((https?|ftp):[^'">\s]+)>/gi,P);
return Q;
}function B(P){P=P.replace(/~E(\d+)E/g,function(S,R){var Q=parseInt(R,10);
return String.fromCharCode(Q);
});
return P;
}function v(P){P=P.replace(/^(\t|[ ]{1,4})/gm,"~0");
P=P.replace(/~0/g,"");
return P;
}function e(R){if(!/\t/.test(R)){return R;
}var Q=["    ","   ","  "," "],P=0,S;
return R.replace(/[\n\t]/g,function(T,U){if(T==="\n"){P=U+1;
return T;
}S=(U-P)%4;
P=U+1;
return Q[S];
});
}var w=/(?:["'*()[\]:]|~D)/g;
function D(Q){if(!Q){return"";
}var P=Q.length;
return Q.replace(w,function(R,S){if(R=="~D"){return"%24";
}if(R==":"){if(S==P-1||/[0-9\/]/.test(Q.charAt(S+1))){return":";
}}return"%"+R.charCodeAt(0).toString(16);
});
}function E(T,Q,P){var S="(["+Q.replace(/([\[\]\\])/g,"\\$1")+"])";
if(P){S="\\\\"+S;
}var R=new RegExp(S,"g");
T=T.replace(R,F);
return T;
}function F(R,Q){var P=Q.charCodeAt(0);
return"~E"+P+"E";
}};
})();
Type.registerNamespace("Telerik.Web.UI");
$telerik.toEditor=function(a){return a;
};
$telerik.findEditor=$find;
(function(a,D){var h=window.document;
var y=a.proxy;
var c=Telerik.Web.UI;
var b=c.Editor;
var l=b.EditorEditType;
var k=c.EditorContentAreaMode;
var E=b.Utils;
var s=E.isTag;
var m=c.EventType;
var n="focus";
var q="reInlineEditor";
var r="reInlineEditorSelected";
var o="reFullScreen";
var p="inlineEditCompleted";
var i=".Editor";
var j=".Editor-img";
var f=".reContent";
var v="(orientation: portrait)";
var w="rePortrait";
var u="reLandScape";
var t=b.Orientation;
var C="matchMedia" in window;
var x=Telerik.Web.Platform;
var e=Telerik.Web.Browser;
var B=c.RenderMode;
var d=Sys.UI.DomElement.addCssClass;
var A=Sys.UI.DomElement.removeCssClass;
var g=Function.createDelegate;
var z=/[\u200b]/g;
c.RadEditor=function(G){var F=this;
c.RadEditor.initializeBase(this,[G]);
this._bottomResizer=null;
this._tableElement=null;
this._contentAreaElement=null;
this._contentHiddenTextarea=null;
this._doctypeString=null;
this._originalHeight=null;
this._accessKeyTextbox=null;
this._contentAreaWrapper=null;
this._mode=c.EditModes.Design;
this._divContentAreaInitialized=false;
this._accEditor=null;
this._shortCutManager=new c.ShortCutManager();
this._filtersManager=new c.Editor.FiltersManager();
this._commandsManager=new c.Editor.CommandsManager();
F._modulesManager=null;
this._resizeExtender=null;
this._localization={};
this._contentAreaEventHandlers={};
this._contentAreaExternalEventHandlers={};
this._elementsResizableWidget=null;
this._onToolClickDelegate=null;
this._onWindowResizeDelegate=null;
this._saveContentDelegate=null;
F._onHiddenTextAreaFocusDelegate=null;
this.isIE=$telerik.isIE;
this.isFirefox=$telerik.isFirefox;
this.isOpera=$telerik.isOpera;
this.isIE7=$telerik.isIE7;
this._spellCheckService=null;
this._originalScrollTop=null;
this._cursorPosition=null;
this._isCursorMoving=null;
F._animationSettings={};
};
c.RadEditor.createNew=function(G){var F=new c.RadEditor(h.createElement("div"));
if(!G){F.get_contentAreaElement();
}else{F._contentAreaElement=G;
}F._contentHiddenTextarea=h.createElement("input");
F._initContentAreaHtml("",true);
F.set_editable(true);
F._ieHookToClientArea();
F._addDefaultShortCuts();
F.removeShortCut("ToggleScreenMode");
F.removeShortCut("LinkManager");
F.removeShortCut("ImageManager");
F.removeShortCut("SetToolFocus");
return F;
};
c.RadEditor.prototype={_initializeModulesManager:function(){var F=this;
if(typeof(b.ModulesManager)==="function"&&!F._isInInlineEditMode()){F._modulesManager=new b.ModulesManager(F);
}},_isInInlineEditMode:function(){var F=this;
return(F.get_editType()===l.Inline);
},get_ajaxSpellCheck:function(){return this._ajaxSpellCheck;
},set_ajaxSpellCheck:function(F){this._ajaxSpellCheck=F;
this.raiseEvent("spellCheckLoaded");
},get_spellCheckService:function(){if(!this._spellCheckService){this._spellCheckService=$create(c.SpellCheckService,this.get_spellCheckJSON(),null,null);
this._spellCheckService.add_complete(Function.createDelegate(this,this._responseReceived));
}return this._spellCheckService;
},startSpellCheck:function(){this.get_spellCheckService().spellCheck(this.get_html());
},addCustomWord:function(F){this.get_spellCheckService().addCustomWord(F);
},_responseReceived:function(G,F){},raiseEvent:function(G,F){if(G!="selectionChange"||this.get_mode()==c.EditModes.Design){c.RadEditor.callBaseMethod(this,"raiseEvent",[G,F]);
}},_initializeToolProvider:function(){var G=this,O=G.get_toolProviderID(),L=O?$find(O):null;
if(!L){return;
}var K=L.get_dialogOpener();
G.set_dialogOpener(K);
var F=L.get_contextMenusJSON();
if(F&&F.concat){G.set_contextMenusJSON(F.concat([]));
}var J=L.get_modulesJSON();
if(J&&J.concat){G.set_modulesJSON(J.concat([]));
}var N=G.get_toolContainer();
N.innerHTML="";
G.set_toolJSON([]);
var H=L.get_toolHTML();
N.innerHTML=H;
var I=L.get_toolJSON().concat([]);
G.set_toolJSON(I);
if(L.get_spellCheckJSON){G.set_spellCheckJSON(L.get_spellCheckJSON());
}if(L.get_ajaxSpellCheckScriptReference){var M=L.get_ajaxSpellCheckScriptReference();
if(M){G.set_ajaxSpellCheckScriptReference(M);
}}G.set_links(L.get_links());
G.set_colors(L.get_colors());
G.set_fontNames(L.get_fontNames());
G.set_fontSizes(L.get_fontSizes());
G.set_symbols(L.get_symbols());
G.set_realFontSizes(L.get_realFontSizes());
G.set_snippets(L.get_snippets());
G.set_cssClasses(L.get_cssClasses());
G.set_cssFiles(L.get_cssFiles());
G.set_languages(L.get_languages());
G.set_paragraphs(L.get_paragraphs());
G.set_formatSets(L.get_formatSets());
G.set_enableUndoRedo(L.get_enableUndoRedo());
},get_toolHTML:function(){var F=this.get_toolContainer().cloneNode(true);
return F.innerHTML;
},get_toolContainer:function(){return this._view.toolBarContainer();
},get_headerToolsContainer:function(){return this._view.headerToolbarContainer();
},get_headerContainer:function(){return this._view.headerContainer();
},get_mainTable:function(){return $get(this.get_id()+"Wrapper");
},_ieHookToClientArea:function(){var F=this;
window.setTimeout(function(){if($telerik.isIE){var H=F.get_contentArea();
if(!H){return;
}try{var K=c.Editor.Utils.storeBrowserPosition();
var G=h.activeElement;
if(G&&G.nodeName===F.get_contentAreaElement()){var J=h.body.createTextRange();
if(K&&K.y>0){J.moveToElementText(F.get_contentAreaElement());
}else{J.moveStart("textedit",J.text.length);
}J.collapse(true);
J.select();
if(K&&K.y>0){c.Editor.Utils.restoreBrowserPosition();
}}}catch(I){}}},0);
},_isEditorRightToLeft:function(){var F=this._isRightToLeft;
if(F==null){var G=this.get_element();
if(G){F=this._isRightToLeft=$telerik.isRightToLeft(G);
}}return F;
},initialize:function(I){var F=this;
var J;
F._cleanZeroWidthSpace=true;
c.RadEditor.callBaseMethod(this,"initialize");
this.raiseEvent("init",Sys.EventArgs.Empty);
F._initializeModulesManager();
this._view=Telerik.Web.UI.Editor.ViewFactory.getView(this);
this._sizer=Telerik.Web.UI.Editor.UI.SizerFactory.getSizer(this);
this._initializeToolProvider();
if(this._renderMode==c.RenderMode.Classic){J=this.get_mainTable();
this._originalHeight=J.style.height;
}this._initializeLocalization();
this._addFilters();
this._addDefaultShortCuts();
this._createUI();
var H=this.isVisible();
if(this._renderMode==c.RenderMode.Classic){J=$get(this.get_id()+"_BottomTable");
if(J){J.style.display="";
}}this._createTools();
var G=$get(this.get_id()+"ContentHiddenTextarea");
if(G){this._contentHiddenTextarea=G;
}if(this.get_enableAriaSupport()){this._applyAriaSupport();
}this._initContentAreaHtml(this.get_contentHiddenTextareaValue(),true);
if(!this.get_enableUndoRedo()){this.get_contentWindow()._radEditorEnableUndoRedo=false;
}this._registerClientValidation();
this._registerPostBackHandlers();
this.whitespaceTracker=new c.Editor.EmptyWhitespaceCharTracker(this);
this.whitespaceTracker.startTracking();
this.nodesTracker=new c.Editor.NodesTracker(this);
this.nodesTracker.startTracking();
if(!this._isEditModeEnabled(c.EditModes.Design)){if(this._isEditModeEnabled(c.EditModes.Html)){this.set_mode(c.EditModes.Html);
}else{this.set_mode(c.EditModes.Preview);
}}this._ieHookToClientArea();
this._fixIEVisibilityProblems(true);
this._fixMozillaDOMProblems(true);
if(this._modulesManager){this._modulesManager.initialize();
}this.set_initialContent();
this._applyAccessKey();
if(this.get_isInAccessibleMode()){this._accEditor=new c.AccessibleRadEditorBase(this);
}if(this.get_enableTrackChanges()||this.get_enableComments()){this._trackChangesLoad();
}if(!$telerik.isIE&&!$telerik.isFirefox){this._initializeResizableWidget();
}this._initRightToLeft();
this._enableFormElementsSelecting();
this._enableTextFieldsTyping();
if(F._shouldAutoResizeHeight()){this._sizer.makeAutoResizeHeight(H);
if($telerik.isFirefox){this.add_submit(Function.createDelegate(this._sizer,this._sizer.onSubmitSetEditorHeight));
}if(H){this._postponeResizeIframeHeight();
}this.add_selectionChange(Function.createDelegate(this,this._resizeContentArea));
}else{this._sizer.setContentElementHeight();
}this._makeResizeable(this.get_enableResize());
this.add_commandExecuting(Function.createDelegate(this,this._commandExecutingHandler));
this.add_commandExecuted(Function.createDelegate(this,this._commandExecutedHandler));
this._initializeImmutableElements();
this._initCleanUpModules();
F._initMobileEnterFullScreen();
F._initFindReplace();
F._addOrientationListener();
F._setOrientationDecoration();
if(F.get_mode()==c.EditModes.Design){F.nodesTracker.convertSingleNbspToTrackedZwsp();
}if(I!==true){this._raiseEditorLoad();
}},_raiseEditorLoad:function(){this.raiseEvent("load",Sys.EventArgs.Empty);
this._editorFinishedLoad=true;
if(!$telerik.isIE&&!$telerik.isFirefox){if(!this.isVisible()){this.raiseEvent("firstShow");
}}},_shouldAutoResizeHeight:function(){var F=this;
return F.get_autoResizeHeight()||F._isInInlineEditMode();
},_addInlineEditModeStyles:function(){this._addInlineEditorStyle(q);
},_addInlineEditorSelectedStyles:function(){this._addInlineEditorStyle(r);
},_addInlineEditorStyle:function(F){var G=this;
var H=G.get_element();
a(H).addClass(F);
},_removeInlineEditorSelectedStyles:function(){var F=this;
var G=F.get_element();
a(G).removeClass(r);
},_postponeResizeIframeHeight:function(){setTimeout(Function.createDelegate(this,function(){this._resizeContentArea();
}),300);
},_commandExecutingHandler:function(G,F){if(!G.get_enableImmutableElements()){return;
}var H=G.getSelectedElement();
if(H&&c.Editor.Utils.isImmutableNode(H)){return F.set_cancel(true);
}},_commandExecutedHandler:function(G,F){if(!G.get_enableImmutableElements()){return;
}if(/^(?:Un|Re)do$/.test(F.get_commandName())){c.Editor.Utils.restoreImmutableElements(G);
c.Editor.Utils.revertOriginalImmutables(G);
}},_initializeImmutableElements:function(){var F=this;
if(!F.get_enableImmutableElements()){return;
}c.Editor.Utils.getImmutableElements(this).each(function(G,H){F.setNodeImmutability(H);
});
},setNodeImmutability:function(H){if(!this.get_enableImmutableElements()){return;
}H.setAttribute("contentEditable",false);
$telerik.addCssClasses(H,["reUnselectable"]);
a(H).find("*").addBack().attr("unselectable","on");
var G=this._immutableElements;
if(!G){G=this._immutableElements={};
}var F=new Date().getTime();
if(G[F.toString()]&&G[F.toString()]!=H){while(G[F.toString()]){F++;
}}F=F.toString();
H.setAttribute(c.Editor.Utils.immutableElementId,F);
G[F]=H;
},removeNodeImmutability:function(G){var F=G.getAttribute(c.Editor.Utils.immutableElementId);
G.removeAttribute("contentEditable");
this._cleanUnselectableAttributes(G);
G.removeAttribute(c.Editor.Utils.immutableElementId);
if(!F||!this._immutableElements||!this._immutableElements[F]){return;
}delete this._immutableElements[F];
},_cleanUnselectableAttributes:function(F){$telerik.removeCssClasses(F,["reUnselectable"]);
if(!F.className){F.removeAttribute("class");
}a(F).find("*").addBack().removeAttr("unselectable");
},_initializeResizableWidget:function(){if(this._elementsResizableWidget){this._elementsResizableWidget.dispose();
}this.selectionChangeProxy=a.proxy(this._elementResizingSelectionChangeHandler,this);
this.add_selectionChange(this.selectionChangeProxy);
this.add_modeChange(a.proxy(function(G,F){if(G.get_mode()==2&&this._elementsResizableWidget){this._disposeElementResizableWidget();
}},this));
this.add_submit(a.proxy(function(){if(this._elementsResizableWidget){this._disposeElementResizableWidget();
}},this));
},_elementResizingSelectionChangeHandler:function(){var G=this;
var H=this._getElementForResizing(this.getSelectedElement());
if(H&&!c.Editor.Utils.isImmutableNode(H)){if(G._elementsResizableWidget&&G._elementsResizableWidget._element===H){G._elementsResizableWidget.repaint();
}else{G._disposeElementResizableWidget();
this._elementsResizableWidget=this._getResizable(H);
var F=new Telerik.Web.UI.Editor.GenericCommand("Resize "+H.tagName.toLowerCase(),this.get_contentWindow(),this);
var I=this;
this._elementsResizableWidget.add_resizeStart(function(J){I.get_contentArea().removeAttribute("contenteditable");
});
this._elementsResizableWidget.add_resizeEnd(function(J){I.get_contentArea().setAttribute("contenteditable","true");
I.executeCommand(F);
I._cleanHandlesFromRestorePiont(F);
I._reInitResizable(J);
});
this._markHandlesForContentFilter();
}}else{if(this._elementsResizableWidget){this._disposeElementResizableWidget();
}}},_getCleanResizableHandlesFilter:function(){var F=this.get_filtersManager()?this.get_filtersManager().getFilterByName("CleanResizableHandles"):null;
if(!F){F=new Telerik.Web.UI.Editor.CleanResizableHandles();
}return F;
},_cleanHandlesFromRestorePiont:function(F){if(!F.RestorePoint2){return;
}var G=h.createElement("div");
G.innerHTML=F.RestorePoint2.HtmlText;
F.RestorePoint2.HtmlText=this._getCleanResizableHandlesFilter().getHtmlContent(G).innerHTML;
},_getResizable:function(F){var G={liveResize:true,useTinyHandles:true,ownerDocument:this.get_document()};
if($telerik.isTouchDevice){G.handleSize=16;
}return new Telerik.Web.UI.Widgets.Resizable(F,G);
},_disposeElementResizableWidget:function(){if(this._elementsResizableWidget){this._elementsResizableWidget.dispose();
this._elementsResizableWidget=null;
}if(this._selectionOrgBorder){this._selectionOrgBorder=null;
}},_reInitResizable:function(F){F.dispose();
this._elementsResizableWidget=null;
this._elementResizingSelectionChangeHandler();
},_getElementForResizing:function(H){var G=null,F=H;
if(H&&H.tagName&&H.tagName.toLowerCase()=="img"){return H;
}while(F&&F!=this.get_contentAreaElement()&&F!=$get(this.get_id()+"Center")){if(F.tagName&&F.tagName.toLowerCase()=="table"){G=F;
break;
}F=F.parentNode;
}return G;
},_markHandlesForContentFilter:function(){var G=this._elementsResizableWidget._handlesCollection;
for(var F in G){G[F]._element.setAttribute("rel","rrWidget");
}},_initRightToLeft:function(){if(this._isEditorRightToLeft()){var H=this.get_element();
var I=this.get_contentAreaElement();
Sys.UI.DomElement.addCssClass(H,"reRtl");
var G=I.contentDocument||I.contentWindow?I.contentWindow.document:null;
if(G){this._setElementStyleProperty(G.body,"direction","rtl");
this._setElementStyleProperty(G.body,"textAlign","right");
}}var F=this.get_dialogOpener();
F.set_additionalQueryString(F.get_additionalQueryString()+"&isRtl="+!!this._isEditorRightToLeft());
},_enableFormElementsSelecting:function(){if(this.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}this._formElementsSelection=new Telerik.Web.UI.Editor.FormElementsSelection(this);
this._formElementsSelection.enableFormElementsSelecting();
},_enableTextFieldsTyping:function(){if(this.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}this._textFieldsTyping=new Telerik.Web.UI.Editor.TextFieldsTyping(this);
this._textFieldsTyping.enableTextFieldsTyping();
},dispose:function(){var G=this;
if(this._emptyMessageContainer){$clearHandlers(this._emptyMessageContainer);
this._emptyMessageContainer=null;
}if(this.get_isInAccessibleMode()){this._accEditor=null;
}if(typeof(Sys.WebForms)!="undefined"&&typeof(Sys.WebForms.PageRequestManager)!="undefined"&&this._saveContentDelegate){var J=Sys.WebForms.PageRequestManager.getInstance();
if(J){J.remove_initializeRequest(this._saveContentDelegate);
}J=null;
}if(this._contentHiddenTextarea&&this._contentHiddenTextarea.form&&this._saveContentDelegate){$telerik.removeExternalHandler(this._contentHiddenTextarea.form,"submit",this._saveContentDelegate);
}if(this.whitespaceTracker){this.whitespaceTracker.dispose();
}if(this.nodesTracker){this.nodesTracker.dispose();
}var F=this.get_contentAreaElement();
if(F){if(this._formElementsSelection){this._formElementsSelection.disableFormElementsSelecting();
}if(this._textFieldsTyping){this._textFieldsTyping.disableTextFieldsTyping();
}$clearHandlers(F);
try{F.parentNode.removeChild(F);
}catch(H){}F=null;
}try{this._disposeEvents();
}catch(H){}this._fixMozillaDOMProblems(false);
this._fixIEVisibilityProblems(false);
this._makeResizeable(false);
G._onHiddenTextAreaFocusDelegate=null;
this._onToolClickDelegate=null;
this._registerWindowResizeHandler(false);
if(this._isFullScreen){this._enableBodyScroll();
}this.set_dialogOpener(null);
this._saveContentDelegate=null;
this._registerModeChangeHandler(false);
G._attachEnterFullScreenMobileHandler(false);
G._enterFullScreenMobileDelegate=null;
if(this._insertLink){this._insertLink.dispose();
this._insertLink=null;
}if(this._insertImage){this._insertImage.dispose();
this._insertImage=null;
}if(this._accessKeyTextbox){$clearHandlers(this._accessKeyTextbox);
this._accessKeyTextbox.removeAttribute("accessKey");
this._accessKeyTextbox=null;
}if(this._immutableElements){for(var I in this._immutableElements){delete this._immutableElements[I];
}}if(this._view){this._view.dispose();
}this._removeOrientationListener();
c.RadEditor.callBaseMethod(this,"dispose");
},_applyAccessKey:function(){var F=this.get_element().getAttribute("accessKey");
if(F){this.get_element().removeAttribute("accessKey");
var G=h.createElement("input");
G.setAttribute("name",this.get_id()+"EditorAccessKey");
G.setAttribute("type","text");
G.setAttribute("id",this.get_id()+"EditorAccessKey");
G.setAttribute("accessKey",F);
this._accessKeyTextbox=G;
$addHandlers(this._accessKeyTextbox,{focus:this.setFocus},this);
var H=h.createElement("div");
H.style.width="0px";
H.style.height="0px";
H.style.overflow="hidden";
H.appendChild(this._accessKeyTextbox);
this.get_element().appendChild(H);
}},_resizeContentArea:function(){this._sizer.resizeIframeHeight();
},_makeResizeable:function(F){if(this._renderMode==c.RenderMode.Classic){this._removeCurrentResizeExtender();
if(!F){return;
}if(!this._tableElement){return;
}if(!this._bottomResizer){this._bottomResizer=this._view.resizerHandle();
}if(this._bottomResizer){if(this.isIE){this._bottomResizer.style.styleFloat="right";
}if(this.isOpera&&h.compatMode=="CSS1Compat"){this._bottomResizer.parentNode.removeChild(this._bottomResizer);
this._bottomResizer=null;
}}else{return;
}var G={se:this._bottomResizer};
this._resizeExtender=new c.ResizeExtender(this,this.get_element(),G,this._tableElement);
}else{if(this._renderMode==c.RenderMode.Lite){if(this._resizableWidget){this._resizableWidget.dispose();
}if(!F){return;
}this._initialConstraints=this._calcInitialConstraints();
var H={liveResize:true,enableFrameOverlay:true,handles:[{direction:"SE",element:this._view.resizerHandle()}],constraints:this._initialConstraints};
this._resizableWidget=new Telerik.Web.UI.Widgets.Resizable(this.get_element(),H);
this._resizableWidget.add_resizing(a.proxy(this._onResizable,this));
this._resizableWidget.add_resizeEnd(a.proxy(this._onResizableEnd,this));
}}},_calcInitialConstraints:function(){var G=30;
var H=Math.max(a(this._view.zone("Left")).outerHeight(),a(this._view.zone("Right")).outerHeight());
var F=a(this._view.modulesContainer()).outerHeight()+a(this._view.modesRowContainer()).outerHeight()+a(this._view.toolBarContainer()).outerHeight();
return{minWidth:Math.ceil(a(this._element).innerWidth()),minHeight:Math.ceil(Math.max(H,F)+G)};
},_setSizingConstraints:function(){var H=this,I=H.get_element(),F=a(I),J=H._resizableWidget;
if(J){var G=this._initialConstraints||{minWidth:F.outerWidth(),minHeight:F.outerHeight()};
J.set_constraints(G);
}},_removeCurrentResizeExtender:function(){if(this._resizeExtender){this._resizeExtender.dispose();
this._resizeExtender=null;
}},_getInvisibleParent:function(){return $telerik.getInvisibleParent(this.get_element());
},isVisible:function(){return(this._getInvisibleParent()==null);
},_fixIEVisibilityProblems:function(G){if(typeof(this.get_element().onpropertychange)=="undefined"){return;
}if(G){var F=this._getInvisibleParent();
if(F){this._onIEParentVisibilityChangeDelegate=Function.createDelegate(this,this._onIEParentVisibilityChange);
this._invisibleParent=F;
$telerik.addHandler(this._invisibleParent,"propertychange",this._onIEParentVisibilityChangeDelegate);
}}else{if(this._invisibleParent&&this._onIEParentVisibilityChangeDelegate){$telerik.removeHandler(this._invisibleParent,"propertychange",this._onIEParentVisibilityChangeDelegate);
this._onIEParentVisibilityChangeDelegate=null;
this._invisibleParent=null;
}}},_fixMozillaDOMProblems:function(H){var F=this.get_element();
if(F.onpropertychange||F.onpropertychange===null){return;
}if(H){var G=this._getInvisibleParent();
if(G){this._invisibleParent=G;
this._onMozillaParentVisibilityChangeDelegate=Function.createDelegate(this,this._onMozillaParentVisibilityChange);
G.addEventListener("DOMAttrModified",this._onMozillaParentVisibilityChangeDelegate,false);
}this._onMozillaParentNodeChangedDelegate=Function.createDelegate(this,this._onMozillaParentNodeChanged);
h.addEventListener("DOMNodeInserted",this._onMozillaParentNodeChangedDelegate,false);
}else{if(this._invisibleParent&&this._onMozillaParentVisibilityChangeDelegate){this._invisibleParent.removeEventListener("DOMAttrModified",this._onMozillaParentVisibilityChangeDelegate,false);
this._onMozillaParentVisibilityChangeDelegate=null;
this._invisibleParent=null;
}if(this._onMozillaParentNodeChangedDelegate){h.removeEventListener("DOMNodeInserted",this._onMozillaParentNodeChangedDelegate,false);
this._onMozillaParentNodeChangedDelegate=null;
}}},_onIEParentVisibilityChange:function(G){G=G.rawEvent;
if(!G){return;
}if(G.propertyName=="style.display"||G.propertyName=="className"){var F=$telerik.getCurrentStyle(this._invisibleParent,"display");
if(F!="none"){this.raiseEvent("firstShow");
this.onParentNodeChanged();
this._fixIEVisibilityProblems(false);
}}},_onMozillaParentVisibilityChange:function(F){if(F.attrName=="style"||F.attrName=="class"){var G=F.target;
if((F.currentTarget==F.target)&&"none"!=$telerik.getCurrentStyle(G,"display")){window.setTimeout(Function.createDelegate(this,function(){if(!this._editorFirstVisible){this._editorFirstVisible=true;
this.raiseEvent("firstShow");
this.onParentNodeChanged();
}this.set_editable(true);
}),0);
}}},_onMozillaParentNodeChanged:function(F){if(!F.target||!this.get_element()){return;
}var G=$telerik.isDescendantOrSelf(F.target,this.get_element());
if(G){if($telerik.isFirefox){this.onParentNodeChanged();
}else{window.setTimeout(Function.createDelegate(this,this.onParentNodeChanged),0);
}}},onParentNodeChanged:function(){if(this.get_contentAreaMode()!=c.EditorContentAreaMode.Iframe){return;
}this.whitespaceTracker.stopTracking();
this.nodesTracker.stopTracking();
var F=this.get_html(true);
this.get_contentAreaElement();
var G=this.get_mode();
this.set_mode(G);
this._initContentAreaHtml(F,true);
this.reAttachExternalEvents();
this.set_html(F);
this._enableFormElementsSelecting();
this._enableTextFieldsTyping();
this.whitespaceTracker.startTracking();
this.nodesTracker.startTracking();
},onResizeStart:function(){var F=this.get_element();
this.resizeStartPosition={position:F.style.position,top:F.style.top,left:F.style.left};
this._resizeSelection=this.getSelection().getRange();
this._sizer.onResizeStart();
},onResizeEnd:function(){if(this.resizeStartPosition){var F=this.get_element();
$telerik.$(F).css({position:this.resizeStartPosition.position||"",top:this.resizeStartPosition.top||"",left:this.resizeStartPosition.left||""});
this.resizeStartPosition=null;
}this._sizer.onResizeEnd();
this.get_toolAdapter().repaint(true);
this.refreshContentZoom();
if(!this.isIE){return;
}this.setActive();
if(this._resizeSelection){var G=null;
if(this._resizeSelection.commonParentElement){G=this._resizeSelection.commonParentElement();
}else{if(this._resizeSelection.parentElement){G=this._resizeSelection.parentElement();
}}if(G&&(this.get_document()==G.ownerDocument)){this.getSelection().selectRange(this._resizeSelection);
}this._resizeSelection=null;
}},_onEditorResizing:function(){if(this._sizer&&this._sizer.onResizing){this._sizer.onResizing();
}},_onResizable:function(G,F){this._sizer.onResizing();
this.get_toolAdapter().repaint();
this.refreshContentZoom();
},_onResizableEnd:function(G,F){this.get_toolAdapter().repaint(true);
this.refreshContentZoom();
},_initializeLocalization:function(){this._localization=c.Localization.merge("RadEditor",this.get_language().toLowerCase(),this._localization);
},getSelectedElement:function(N){var I=this;
var H=I.get_contentArea();
if(I.get_renderMode()===B.Mobile){var K=a(H).find(".__reTextHighlight,.__reNodeHighlight");
if(K.length){var J=K.get(0);
var M=K.last().get(0);
return J===M?J:E.findCommonAncestor(J,M);
}}N=N||I.getDomRange();
if(!N){var F=I.get_document().activeElement;
return a(F).is("input[type=text],input[type=password],textarea")?F:D;
}var G=N.commonAncestorContainer;
if(G===H||a.contains(H,G)){var O=b.RangeEdges.commonNode(N);
var L=E.isTextNode(O);
return L||(N.isCollapsed()&&!L&&!E.canHaveChildren(O))?O.parentNode:O;
}},getSelection:function(){return new c.Editor.Selection(this.get_contentWindow());
},getSelectionHtml:function(){return this.getSelection().getHtml();
},getEditorSelectionRange:function(){var F=this.getSelection().getRange();
var G=this.getSelectedElement();
if(F!=null&&G!=null&&G.ownerDocument!=this.get_document()){F=null;
}return F;
},getDomRange:function(){var G=this,I=G.getSelection(),H=I.getRange(true),F=b.DomRange.toDomRange(H);
return F;
},selectElement:function(F,G){if(c.Editor.Utils.selectElement(this.get_contentWindow(),F)&&false!=G){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},selectElementContents:function(J,K){var I=this;
var N=I.getDomRange();
var G=I.get_document();
if(e.ie&&G.selection&&!G.getSelection){return this.selectElement(J,K);
}try{N.selectNodeContents(J);
N.select();
}catch(H){var F=N.commonAncestorContainer;
var O=function(Q){return s(F,Q);
};
if(O("table")){N.selectNode(J);
}else{if(O("tr")||O("tbody")||O("thead")){var P=F.getElementsByTagName("td");
var L=P[0];
var M=P[P.length-1];
N.setStart(L,0);
N.setEnd(M,M.childNodes.length);
}}N.select();
}if(K!==false){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},undo:function(F){this._commandsManager.undo(F);
},redo:function(F){this._commandsManager.redo(F);
},executeCommand:function(H,I,F){var G=(this.get_renderMode()===B.Mobile);
if(!H.get_window()){H.set_window(this.get_contentWindow());
}if(false!=I&&!this.isOpera){this.setFocus();
}var J=H.get_title();
if(G){this._executeCommandEvent("commandExecuting",J);
}this._commandsManager.execute(H,F);
if(G){this._executeCommandEvent("commandExecuted",J);
}},executeBrowserCommand:function(G,F,L,H){if((this.get_enableTrackChanges()||this.get_enableComments())&&G.indexOf("Justify")==0){var I=this.getSelection();
var J=I.getParentElement();
if(J){if(J.getAttribute("Name")!=null){if(J.getAttribute("Name").indexOf("_wp")==0){return;
}}}}var K=this.getLocalizedString(G);
this.executeCommand(new c.Editor.BrowserCommand(K,this.get_contentWindow(),G,L,this));
this.setActive();
this.setFocus();
if(true==H){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},createElement:function(L,J,I,G,H,K){var F=this.get_document().createElement(L);
if(J){F.style.width=J;
}if(I){F.style.height=I;
}if(null!=G){F.id=G;
}if(null!=H){F.name=H;
}if(null!=K){F.value=K;
}return F;
},createRestorePoint:function(){var G=this;
var I=G.get_contentWindow();
var F=G.get_contentArea();
var H=new b.RestorePoint(I,F);
a.observable(H);
H.on({restored:G._onContentRestored},G);
return H;
},_onContentRestored:function(F){var G=this;
var J=G.getDomRange();
G.findContent("div.rrHandle").remove();
var M=E.getAllChildNodesBy(G.get_contentArea(),function(O){return O.nodeType===3;
});
var N=G.nodesTracker;
var K=/^[\u00A0]$/;
var L=/[\u200b]/;
var I=function(O){return E.isTextNode(O)&&K.test(O.nodeValue)&&E.isSingleChild(O)&&!E.isTableCell(O.parentNode);
};
Array.forEach(M,function(O){if(L.test(O.nodeValue)){N.trackNode(O);
}else{if(I(O)){N.convertSingleNbspToTrackedZwsp(O);
}}});
var H=E.isZwspTextNode(J.commonAncestorContainer);
N.update(J,H);
if(!e.ie){J.select();
}},getToolState:function(I,G){switch(I){case"Undo":return this.get_commandsManager().isUndoAvailable()?c.Editor.CommandStates.Off:c.Editor.CommandStates.Disabled;
case"Redo":return this.get_commandsManager().isRedoAvailable()?c.Editor.CommandStates.Off:c.Editor.CommandStates.Disabled;
case"FormatPainterApply":case"FormatPainterClear":return(this.get_currentFormatting())?c.Editor.CommandStates.Off:c.Editor.CommandStates.Disabled;
case"MobileEdit":var H=this.get_toolAdapter();
if(H&&H.isEditEnabled){return H.isEditEnabled()?c.Editor.CommandStates.On:c.Editor.CommandStates.Off;
}else{return c.Editor.CommandStates.Off;
}break;
default:var F=c.Editor.UpdateCommandsArray[I];
if(F&&F.getState){return F.getState(this.get_contentWindow(),this,G);
}}},getToolValue:function(H,G){var F=c.Editor.UpdateCommandsArray[H];
if(F&&F.getValue){if(F.set_editor){F.set_editor(this);
}return F.getValue(this.get_contentWindow(),G);
}},_addFilters:function(){var F=this;
var G=this.get_filtersManager();
G.clear();
var H=this.usesContentFilter("ConvertToXhtml");
G.set_enableXhtmlFilter(H);
if(this.usesContentFilter("ConvertInlineStylesToAttributes")){G.add(new c.Editor.ConvertInlineStylesToAttributesFilter());
}else{if(H){G.add(new c.Editor.CleanAttributesFilter());
if($telerik.isFirefox||$telerik.isSafari){G.add(new c.Editor.MozillaRemoveLastBrFilter());
}}}F._addEnabledFilter("RemoveScripts",new c.Editor.StripScriptsFilter());
F._addEnabledFilter("EncodeScripts",new c.Editor.EncodeScriptsFilter());
F._addEnabledFilter("FixUlBoldItalic",new c.Editor.FixUlBoldItalic());
G.add(new c.Editor.FixNestedLists());
F._addEnabledFilter("StripCssExpressions",new c.Editor.StripCssExpressionsFilter());
F._addEnabledFilter("StripDomEventAttributes",new c.Editor.StripDomEventAttributesFilter());
F._addEnabledFilter("ConvertFontToSpan",new c.Editor.ConvertFontToSpanFilter());
F._addEnabledFilter("OptimizeSpans",new c.Editor.OptimizeSpans());
F._addEnabledFilter("FixEnclosingP",new c.Editor.FixEnclosingP());
F._addEnabledFilter("ConvertCharactersToEntities",new c.Editor.ConvertCharactersToEntities());
if($telerik.isIE){G.add(new c.Editor.IEKeepObjectDesignFilter());
G.add(new c.Editor.IEKeepObjectParamsFilter());
G.add(new c.Editor.IEKeepCommentsFilter());
G.add(new c.Editor.IEFixEmptyParagraphs());
F._addEnabledFilter("IECleanAnchors",new c.Editor.IECleanAnchorsFilter());
}if(!$telerik.isIE&&!$telerik.isOpera){if(!$telerik.isSafari){G.add(new c.Editor.MozillaKeepFlash(this.get_mozillaFlashOverlayImage()));
}else{G.add(new c.Editor.FixParagraphsWithSingleBrFilter());
}G.add(new c.Editor.MozillaKeepStylesString());
G.add(new c.Editor.MozillaKeepStylesDom());
F._addEnabledFilter("MozEmStrong",new c.Editor.MozEmStrongFilter());
}F._addEnabledFilter("ConvertTags",new c.Editor.ConvertTagsFilter());
if($telerik.isOpera||$telerik.isSafari||$telerik.isChrome||$telerik.isSpartan){G.add(new c.Editor.CleanResizableHandles());
}G.add(new c.Editor.StripJunkFilter());
G.add(new c.Editor.RemoveExtraBrakes());
G.add(new b.MetaTagAttributesFilter());
F._addEnabledFilter("MakeUrlsAbsolute",new c.Editor.MakeUrlsAbsolute());
F._addEnabledFilter("IndentHTMLContent",new c.Editor.IndentHTMLContentFilter());
F._addEnabledFilter("PdfExportFilter",new c.Editor.PdfExportFilter());
},_addEnabledFilter:function(G,F){if(this.usesContentFilter(G)){this.get_filtersManager().add(F);
}},applyFiltersForEmbedContent:function(H){var I=H+"";
var F=this.get_filtersManager().getFilterByName("IEKeepObjectParamsFilter");
var G=this.get_filtersManager().getFilterByName("MozillaKeepFlash");
if(F){I=F.getDesignContent(I);
}if(G){var J=this.get_document().createElement("div");
Telerik.Web.UI.Editor.Utils.setElementInnerHtml(J,I);
J=G.getDesignContent(J);
I=J.innerHTML;
}return I;
},usesContentFilter:function(F){if(typeof(F)==="string"){F=c.EditorFilters[F];
}var G=F&&!!(this.get_contentFilters()&F);
return G;
},addShortCut:function(F,G){if(this._shortCutManager){this._shortCutManager.addShortCut(F,G);
}},removeShortCut:function(F){if(this._shortCutManager){this._shortCutManager.removeShortCut(F);
}},setShortCut:function(F,G){if(this._shortCutManager){this._shortCutManager.setShortCut(F,G);
}},_addDefaultShortCuts:function(){var G="CTRL",J="F11",I="F10";
if(x&&x.mac){G="CMD";
J=G+"+F11";
I=G+"+F10";
}var H=[["SelectAll",G+"+A"],["Copy",G+"+C"],["Paste",G+"+V"],["Cut",G+"+X"],["Bold",G+"+B"],["Italic",G+"+I"],["Underline",G+"+U"],["Copy",G+"+INS"],["Paste",G+"SHIFT+INS"],["ToggleScreenMode",J],["LinkManager",G+"+K"],["ImageManager",G+"+G"],["SetToolFocus",I]];
if(this.get_enableUndoRedo()){H.push(["Undo",G+"+Z"]);
H.push(["Redo",G+"+Y"]);
}for(var F=0;
F<H.length;
F++){this.addShortCut(H[F][0],H[F][1]);
}if(this.isIE){this.addShortCut("InsertTab","TAB");
}else{this.addShortCut("InsertTabMozilla","TAB");
}this.addShortCut("InsertShiftTab","SHIFT+TAB");
this.addShortCut("EnterNewLine","ENTER");
if(this.get_newLineMode()==Telerik.Web.UI.EditorNewLineModes.Br){if(this.isIE){this.addShortCut("ShiftEnter","SHIFT+ENTER");
this.addShortCut("InsertParagraph",G+"+ENTER");
}else{if(this.isFirefox){this.addShortCut("EnterParagraphMozilla",G+"+ENTER");
}else{if($telerik.isSafari){this.addShortCut("InsertParagraphSafari",G+"+ENTER");
}}}}if($telerik.isSafari){this.addShortCut("ShiftEnterSafari","SHIFT+ENTER");
}},bubbleKeyEventToBrowser:function(){this._shortcutHit=false;
},attachEventHandler:function(F,G){this._attachCashableEvent(F,G,this._contentAreaExternalEventHandlers);
},attachInternalHandler:function(F,G){this._attachCashableEvent(F,G,this._contentAreaEventHandlers);
},_attachCashableEvent:function(G,H,F){if(G.startsWith("on")){G=G.replace("on","");
}this._attachExternalHandler(G,H);
if(!F[G]){F[G]=[];
}F[G].push(H);
},_attachExternalHandler:function(G,H){var F=this.get_contentAreaMode()==c.EditorContentAreaMode.Div?this.get_contentArea():this.get_document();
$telerik.addExternalHandler(F,G,H);
},reAttachExternalEvents:function(){var G=this._contentAreaExternalEventHandlers;
for(var F in G){var H=G[F];
for(var I=0;
I<H.length;
I++){this._attachExternalHandler(F,H[I]);
}}},detachEventHandler:function(G,H){if(G.startsWith("on")){G=G.replace("on","");
}var F=this.get_contentAreaMode()==c.EditorContentAreaMode.Div?this.get_contentArea():this.get_document();
$telerik.removeExternalHandler(F,G,H);
},_getContentElement:function(){var G=this;
if(G.get_contentAreaMode()==k.Div){return G.get_contentArea();
}else{var F=G.get_document();
return F.documentElement||F;
}},_disposeEvents:function(){var G=this;
var F=a(G._getContentElement());
this._detachCashableEvents(this._contentAreaExternalEventHandlers);
this._contentAreaExternalEventHandlers={};
this._detachEvents();
F.offEvent(m.Down+i);
F.offEvent(m.Up+i);
F.offEvent(m.Down+j);
F.offEvent(m.Up+j);
},_detachEvents:function(){this._detachCashableEvents(this._contentAreaEventHandlers);
this._contentAreaEventHandlers={};
this._attachBodyHandlers(false);
},_detachCashableEvents:function(G){for(var I in G){var F=G[I];
if(F.length!=null){for(var K=0;
K<F.length;
K++){var J=F[K];
if(typeof(J)=="function"){try{this.detachEventHandler(I,J);
}catch(H){}}}}}},get_TopZone:function(){return $get(this.get_id()+"Top");
},_createTools:function(){var F=this;
if(!F._onToolClickDelegate){F._onToolClickDelegate=Function.createDelegate(F,F._onToolClick);
}F._createHeaderTools();
if(!F.get_toolAdapter()){var H=F.get_toolContainer();
var G=eval(F.get_toolAdapterType());
F.set_toolAdapter($create(G,{editor:F,toolJSON:F.get_toolJSON(),contentAreaMode:F.get_contentAreaMode()},{toolClick:F._onToolClickDelegate},null,H));
}},_createHeaderTools:function(){var H=this;
if(!H.get_headerToolsToolAdapter()){var I=H.get_headerToolsJSON();
if(I.length){var F=eval(H.get_headerToolsToolAdapterType());
var G={editor:H,headerToolsJSON:I};
var J={toolClick:H._onToolClickDelegate};
H.set_headerToolsToolAdapter($create(F,G,J,null,H.get_headerToolsContainer()));
}}},_onToolClick:function(G,F){if((this.get_enableTrackChanges()||this.get_enableComments())&&G._name=="Cut"&&F._commandName=="Cut"){if(!this._canEditSelection()){alert(this.get_localization()["caneditselection"]);
return false;
}}this.fire(G.get_name(),F);
},getContextMenuByTagName:function(F){var G=this.get_toolAdapter();
if(G&&G.getContextMenuByTagName){return G.getContextMenuByTagName(F);
}},updateTools:function(F,G){if(F&&F.get_tools){Array.forEach(F.get_tools(),function(H){G(H);
});
}},getToolByName:function(G){var F=this;
return F._getTool(F.get_toolAdapter(),G);
},getHeaderToolByName:function(G){var F=this;
return F._getTool(F.get_headerToolsToolAdapter(),G);
},_getTool:function(F,G){if(F&&F.getToolByName){return F.getToolByName(G);
}return null;
},getLocalizedString:function(G,F){if(!G){return F;
}var H=this.get_localization()[G];
if(null==H){H=this.get_localization()[G.toLowerCase()];
}return H;
},zoomContent:function(G){var F=this.get_contentArea();
var I=F.style;
var H=I.zoom=G||"100%";
if((e.ff||e.operaPresto)&&H.indexOf("%")!=-1){H=parseInt(H,10)/100;
}if(e.ff){I.MozTransform=(H==1)?"":String.format("translate({0}px, {1}px) scale({2})",F.offsetWidth*((H-1)/2),F.offsetHeight*((H-1)/2),H);
}if(e.operaPresto){var J=(H==1)?"":String.format("translate({0}px, {1}px) scale({2})",F.offsetWidth*((H-1)/2.04),F.offsetHeight*((H-1)),H);
I.OTransform=J;
}},refreshContentZoom:function(){var F=this.get_contentArea().style.zoom;
this.zoomContent(F);
},setFocus:function(){var I=this;
var K=I._renderMode==c.RenderMode.Mobile;
var J=I.get_mode()==c.EditModes.Html;
if(K&&!J){return;
}try{if($telerik.isIE&&I.getSelection().isControl()&&!I._isInInlineEditMode()){return;
}var G=I.get_mode()!=c.EditModes.Html?I.get_contentWindow():I.get_textArea();
if(I.get_contentAreaMode()==c.EditorContentAreaMode.Div){G=I.get_contentArea();
}if(G&&G.focus){if($telerik.isIE){var F=I.get_document().activeElement;
if(F&&F==G){return;
}}if(!I._isInInlineEditMode()){G.focus();
}}}catch(H){}},focusFirstText:function(){var F=this.domRangeToFirstText();
F.select();
},domRangeToFirstText:function(){var G=this;
var F=G.get_contentArea();
var H=F.children.length?E.firstTextChild(F.children[0]):E.firstTextChild(F);
var I=b.DomRange.createRange(G.get_document());
I.setStart(H,0);
I.setEnd(H,0);
return I;
},setActive:function(){if(this._emptyMessageContainer){this._hideEmptyMessage();
}if($telerik.isIE&&this.getSelection().isControl()){return;
}var F=this._getCurrentArea();
if(F&&F.setActive&&F.isContentEditable!==false){F.setActive();
}},setActiveIfElementIsNotInContent:function(){if(this._emptyMessageContainer){this._hideEmptyMessage();
}if($telerik.isIE&&this.getSelection().isControl()){return;
}var H=this._getCurrentArea();
var F=this.get_document().activeElement;
var G=E.isAncestorOf(H,F);
if(H&&H.setActive&&!G&&H.isContentEditable!==false){H.setActive();
}},_getCurrentArea:function(){var F=this;
return F.get_mode()==c.EditModes.Html?F.get_textArea():F.get_contentArea();
},set_visible:function(G){var F=this.get_element();
if(F){F.style.display=G?"":"none";
}this.set_editable(G);
},enableEditing:function(I,G,M){var F=this.get_toolAdapter();
var H=function(){};
if(!G){G=c.EditingOptions.All;
}this._editingOptions=G;
this._optionalIgnoredTools=M;
if(this.usesEditingOption("ContextMenus")){if(F){F.enableContextMenus(I);
}}if(this.usesEditingOption("EditModes")){if(!I){this._originalEditModeRef=this.set_mode;
this.set_mode=H;
}else{if(this._originalEditModeRef){this.set_mode=this._originalEditModeRef;
this._originalEditModeRef=null;
}}}if(this.usesEditingOption("Tools")){if(F){if(!I){F.setToolState(null,c.Editor.CommandStates.Disabled);
if(M){var J=[];
for(var K in M){var N=F.getToolByName(K);
if(N){J[J.length]=N;
}}F.setToolState(J);
}this._originalSetToolStateRef=F.setToolState;
F.setToolState=H;
}else{if(this._originalSetToolStateRef){F.setToolState=this._originalSetToolStateRef;
this._originalSetToolStateRef=null;
}}}}if(this.usesEditingOption("Modules")){var L=this._modulesManager;
if(L){L.setModulesVisible(I);
}}if(this.usesEditingOption("Typing")){if(!I){this._disableTypingDelegate=$telerik.cancelRawEvent;
this.attachInternalHandler("keypress",this._disableTypingDelegate);
}else{if(this._disableTypingDelegate){this.detachEventHandler("keypress",this._disableTypingDelegate);
this._disableTypingDelegate=null;
}}}if(this.usesEditingOption("Tab")){if(!I){this.removeShortCut("InsertTab");
}else{this.setShortCut("InsertTab","TAB");
}}if(I){if(F){F.setToolState(null,c.Editor.CommandStates.Off);
}this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},usesEditingOption:function(F){if(typeof(F)==="string"){F=c.EditingOptions[F];
}return F&&!!(F&this._editingOptions);
},set_editable:function(F){var I=this;
var H=(I.get_renderMode()===B.Mobile);
if(e.ie||e.operaPresto||this.get_contentAreaMode()==c.EditorContentAreaMode.Div){window.setTimeout(function(){try{I.get_contentArea().setAttribute("contentEditable",""+F);
if(e.ie){I.get_document().execCommand("2D-Position",false,true);
}}catch(J){}},0);
}else{var G=function(){try{I.get_document()["designMode"]=F?"on":"off";
if(F){I.get_document().execCommand("UseCSS",false,true);
I.get_document().execCommand("styleWithCSS",false,false);
}}catch(J){}};
if(H||e.edge){G();
}else{setTimeout(G,0);
}}},get_editable:function(){if(e.ie||e.operaPresto||this.get_contentAreaMode()==c.EditorContentAreaMode.Div){var F=this.get_contentArea().getAttribute("contentEditable",2);
return typeof F==="boolean"?F:F=="true";
}else{return(this.get_document()["designMode"]=="on");
}},enableContentArea:function(F){if(this.isIE){this.get_contentArea().setAttribute("contentEditable",""+F);
}},showExternalDialog:function(S,F,T,L,I,H,R,M,G,O,P,J){var N=this.getDomRange();
var K=this;
var Q=function(V,U){window.setTimeout(function(){if(N){try{N.select();
}catch(W){}}if(I&&U!=null){var X=I(V,U);
if(false==X){return;
}K.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}K.setFocus();
},50);
};
this.get_dialogOpener().openUrl(S,F,T,L,Q,H,R,M,G,O,P,J);
},showDialog:function(H,F,G){var K=this.getDomRange();
var J=this;
var M=function(Q,P){window.setTimeout(function(){if(K&&H!="FindAndReplace"){try{K.select();
}catch(R){}}if(G&&P!=null){var S=G(Q,P);
if(false==S){return;
}J.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}J.setFocus();
},50);
};
if(e.iemobile){var N=this.get_toolAdapter();
if(N.hideKeyboard){N.hideKeyboard();
}}var I=this.get_dialogOpener();
if(H=="InsertLink"||H=="InsertImage"||H=="InsertTableLight"){var L=this.get_skin();
if(L=="Bootstrap"){F.height=220;
F.width=370;
F.stripPopupHeight=true;
}if(L=="Glow"||L=="Silk"){F.height=230;
F.width=370;
F.stripPopupHeight=true;
}if(this.get_isSkinTouch()){F.height=287;
F.width=386;
}I.openLight(H,F,M);
}else{I.open(H,F,M);
}if(this.isIE){var O=this.get_dialogOpener()._getDialogContainer(H);
if(!O||O._DRAG_ATTACHED){return;
}O._DRAG_ATTACHED=true;
O.add_dragEnd(function(){if(K){try{K.select();
}catch(P){}finally{J.get_toolAdapter()._showToolbarHolder(false);
}}});
}},_getModeButtonsWrapper:function(){return this._view?this._view.modeButtonsContainer():null;
},_registerModeChangeHandler:function(F){var G=this._getModeButtonsWrapper();
if(!G){return;
}if(F){this._onModeButtonClickDelegate=Function.createDelegate(this,this._onModeButtonClick);
$addHandler(G,"click",this._onModeButtonClickDelegate);
}else{if(this._onModeButtonClickDelegate){$removeHandler(G,"click",this._onModeButtonClickDelegate);
this._onModeButtonClickDelegate=null;
}}},_onModeButtonClick:function(F){var G=this._view.getModeFromEvent(F)||this.get_mode();
if(G!=this.get_mode()){this.set_mode(G);
}return $telerik.cancelRawEvent(F);
},_changeModeUI:function(F){this._view.changeMode(F);
},_isEditModeEnabled:function(F){return F&this.get_editModes()?true:false;
},get_mode:function(){return this._mode;
},set_mode:function(K){if(!this.validateMaxHtmlLength()){this.displayMaxHtmlLengthErrorMessage();
return false;
}if(!this.validateMaxTextLength()){this.displayMaxTextLengthErrorMessage();
return false;
}this._setEditableDelegate=Function.createDelegate(this,function(){if(this._setEditableDelegate){this.remove_editReady(this._setEditableDelegate);
var L=(this._mode==G.Design);
this.set_editable(L);
this.toggleEnhancedEdit(L);
this._setEditableDelegate=null;
}});
this.add_editReady(this._setEditableDelegate);
var I=this._mode;
var G=c.EditModes;
if(K!=G.Design&&this._emptyMessageContainer){this._hideEmptyMessage();
}this.whitespaceTracker.reset();
this.nodesTracker.reset();
var J=Telerik.Web.UI.Editor.Utils;
if(K==G.Preview&&I!=G.Html){J.setTargetsForPreview(this);
}else{if(I==G.Preview){J.restoreTargetsAfterPreview(this);
}}if(I==G.Html||K==G.Html){if(K==G.Html&&this.get_enableImmutableElements()){J.replaceImmutableElements(this);
}var H=this.get_html(true);
this._mode=K;
this._showTextArea(this._mode==G.Html);
this.set_html(H);
if(K==G.Preview){J.setTargetsForPreview(this);
}if(K!=G.Html&&this.get_enableImmutableElements()){J.restoreImmutableElements(this);
}}else{this._mode=K;
this._showTextArea(this._mode==G.Html);
}this._changeModeUI(K);
if(this._mode!=G.Preview){this.setFocus();
if(!(this.isFirefox&&(!this.get_document()||!this.get_contentArea()))){this.set_editable(true);
}if(this._mode==G.Design){this.toggleEnhancedEdit(true);
}}else{this.set_editable(false);
this.toggleEnhancedEdit(false);
}if(K==G.Design&&$telerik.isFirefox){this.get_contentAreaElement().blur();
}else{this.setFocus();
}var F=this.get_contentAreaElement();
if(J.isTag(F,"iframe")){a(F)[this._mode==G.Html?"addClass":"removeClass"]("reHtmlMode");
}this.raiseEvent("modeChange",Sys.EventArgs.Empty);
if(this._sizer){this._sizer.modeChanged(K);
}if(this._resizableWidget){this._setSizingConstraints();
}},get_enableImmutableElements:function(){return this._enableImmutableElements;
},set_enableImmutableElements:function(H){var G=this._enableImmutableElements;
H=!!H;
if(G==H){return;
}if(!this.get_contentArea||!this.get_contentArea()){this._enableImmutableElements=H;
return;
}if(H){this._enableImmutableElements=H;
this._initializeImmutableElements();
}else{if(this._immutableElements){var F=this;
c.Editor.Utils.getImmutableElements(F).each(function(J,I){F.removeNodeImmutability(I);
});
this._enableImmutableElements=H;
}}},_getHtmlModeTextarea:function(){var H=this;
if(!H._htmlModeTextarea){var G=H.get_contentAreaElement();
var I=H._htmlModeTextarea=G.ownerDocument.createElement("textarea");
var F=a(I);
F.addClass("reTextArea reTextAreaHidden").appendTo(G.parentNode);
if(this.get_renderMode()==c.RenderMode.Mobile){F.addClass("t-flex");
}}return H._htmlModeTextarea;
},get_textArea:function(){return this._getHtmlModeTextarea();
},_showTextArea:function(J){var G=this;
var F=G.get_contentAreaElement();
var H=G._getHtmlModeTextarea();
var I=G.get_contentAreaMode()==c.EditorContentAreaMode.Div;
if(J){var K=G._sizer;
if(($telerik.isSafari||$telerik.isIE9)&&!I){G.hideViewElement(F);
}else{K.hideDesignViewElement(F);
}a(H).removeClass("reTextAreaHidden");
}else{if(($telerik.isSafari||$telerik.isIE9)&&!I){G.showViewElement(F);
}else{F.style.display="";
}a(H).addClass("reTextAreaHidden");
}if(G._isInInlineEditMode()){G._setShowToolbarHandlerToHiddenTextArea(H,J);
}},_setShowToolbarHandlerToHiddenTextArea:function(G,H){var F=this;
if(G){if(H){F._onHiddenTextAreaFocusDelegate=y(F._onHiddenTextAreaFocus,F);
a(G).onEvent(n,F._onHiddenTextAreaFocusDelegate);
}else{a(G).offEvent(n,F._onHiddenTextAreaFocusDelegate);
F._onHiddenTextAreaFocusDelegate=null;
}}},_onHiddenTextAreaFocus:function(F){var G=this;
var H=G.get_toolAdapter();
F.stopPropagation();
H._showToolbarHolder(true);
G._addInlineEditorSelectedStyles();
},hideViewElement:function(F){F.style.width="0px";
F.style.height="0px";
},showViewElement:function(F){F.style.width="100%";
F.style.height="2px";
},_setContentAsText:function(G){var F=this.get_textArea();
if(F){F.value=G;
}},_getContentAsText:function(){var F=this.get_textArea();
if(F&&F.value){var G=F.value;
return G;
}return"";
},set_html:function(G,K,J,I){var H=c.EditModes;
if(this.get_mode()!=H.Html){var F=new c.Editor.GenericCommand(K?K:"Set HTML",this.get_contentWindow(),this);
this._initContentAreaHtml(G);
this.executeCommand(F,J);
if(false!=I){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}if(this.get_emptyMessage()&&(!G||G.trim().length==0)&&this.get_mode()==H.Design){this._setEmptyMessage();
c.Editor.CommandList.SetToolFocus("SetToolFocus",this,null);
}}else{this._setContentAsText(G);
}},get_html:function(Q,Y){var K=null;
var I="";
var F;
var M=this;
var Z=M.whitespaceTracker;
var W=M.nodesTracker;
var U=M.get_mode();
var V=c.EditModes;
var R=M.get_fullPage();
var L=M.get_document();
var N=M.get_enableImmutableElements();
if(U==V.Preview){E.restoreTargetsAfterPreview(M);
Z.reset();
W.reset();
}if(U==V.Html){var O=M._getContentAsText();
O=M._cleanZeroWidthSpace?O.replace(z,""):O;
return Q?M._filterContent(O):O;
}if(N){F=E.getImmutableElements(M);
if(F.length){if(!M._immutableElements){M._initializeImmutableElements();
}E.replaceImmutableElements(M);
}}Z.removeZeroWidthNodes();
W.removeZeroWidthNodes();
if(R){if(L){K=L.getElementsByTagName("HTML")[0];
K=E.cloneNodeWithChildren(K);
var G=M._getAllSheets(K);
for(var P=0;
P<G.length;
P++){var S=G[P];
var T=S.getAttribute("id");
if(T&&T.indexOf("RADEDITORSTYLESHEET")==0){S.parentNode.removeChild(S);
}}if(e.ie||$telerik.isOpera){var H=K.getElementsByTagName("BODY")[0];
H.removeAttribute("contentEditable");
}}}else{var J=M.get_contentArea();
K=Q&&J?E.cloneNodeWithChildren(J):J;
}if(K){if(Y&&(c.EditorStripHtmlOptions&&Y)==c.EditorStripHtmlOptions.Comments){var X=new c.Editor.StripCommentsFilter();
K=X.getHtmlContent(K);
}if(Q){I=M.get_filtersManager().getHtmlContent(K);
}else{I=R?$telerik.getOuterHtml(K):K.innerHTML;
}W.restoreZeroWidthNodes();
Z.restoreZeroWidthNodes();
}if(R&&M._doctypeString){I=M._doctypeString+"\n"+I;
}if(N&&F&&F.length){I=E.setImmutablesHtml(I,M);
E.restoreImmutableElements(M);
}I=M._cleanZeroWidthSpace?I.replace(z,""):I;
I=Q?I.trim():I;
return I;
},_filterContent:function(K){var J=this;
var N=J._isFullPage(K);
J.set_fullPage(N);
if(N){J._doctypeString=J._extractDoctype(K);
}var G=J.get_contentAreaElement();
var I=G.ownerDocument;
if(N){var L=I.createElement("iframe");
var F=a(L).insertAfter(G).hide();
var M=L.contentWindow.document;
M.open();
M.write(K);
M.close();
K=J.get_filtersManager().getHtmlContent(M.body.parentNode);
K=J._doctypeString+"\n"+K;
F.remove();
}else{var H=I.createElement("div");
E.setElementInnerHtml(H,K);
a(H).addClass("reContentArea");
K=J.get_filtersManager().getHtmlContent(H);
}return K.trim();
},_isFullPage:function(F){return F&&F.toLowerCase().indexOf("<html")!=-1;
},set_initialContent:function(F){if(F!=null){this._initialContent=F;
}else{this._initialContent=this.get_html(true);
}},get_initialContent:function(){return this._initialContent;
},get_text:function(J){var G=this;
var H="";
var I=G.get_mode()==c.EditModes.Html;
var F=I?G.get_textArea():G.get_contentArea();
if(F){H=F[I?"value":"innerHTML"];
}var K=b.Utils._stripAllExceptNewLines(G,H);
K=K.replace(/<\/?[^>]*>/ig,"\n");
K=E._convertEntitiesToCharacters(K);
if(J){if(J.trimText){K=K.replace(/(^\s+)|(\s+$)/g,"");
}if(J.removeMultipleSpaces){K=K.replace(/ +/g," ");
}}return K;
},_getUniqueStyleSheetId:function(F){return"RADEDITORSTYLESHEET"+F;
},_getAllSheets:function(H){if(!H){alert(this.get_localization()["getallsheetscalledwithnodocumenterror"]);
}var G=H.getElementsByTagName("link");
var J=H.getElementsByTagName("style");
var F=[];
var K;
for(K=0;
G[K];
K++){var I=G[K].rel?G[K].rel:G[K].getAttribute("rel");
if(typeof(I)=="string"&&I.toLowerCase().indexOf("style")+1){Array.add(F,G[K]);
}}for(K=0;
J[K];
K++){Array.add(F,J[K]);
}return F;
},_getClassName:function(H){var I=H&&H.selectorText?H.selectorText:"";
var G=I.lastIndexOf(".");
if(G==-1){return"";
}var F=I.indexOf(" ",G);
if(-1==F){F=I.indexOf(":",G);
}if(-1==F){F=I.length;
}return I.substring((G+1),F);
},_createCssFilterObject:function(){if(this._cssClassesHash){return;
}var F=this.get_cssClasses();
if(F&&F.length>0){var I={};
var H=F.length;
for(var G=0;
G<H;
G++){var J=F[G][0];
var K=F[G][1];
I[J.replace(/(.*?)\./ig,function(L){return L.toUpperCase();
})]=K;
}this._cssClassesHash=I;
}},_getFilteredCssClasses:function(I){this._createCssFilterObject();
if(I&&this._cssClassesHash){var F=[];
var H=I.length;
for(var G=0;
G<H;
G++){var K=I[G];
var J=this._checkCssFilter(K[1].selectorText);
if(J){K[2]=J;
F[F.length]=K;
}}return F;
}else{return I;
}},_checkCssFilter:function(F){if(!F||!this._cssClassesHash){return null;
}return this._cssClassesHash[F.replace(/(.*?)\./ig,function(G){return G.toUpperCase();
})];
},getCssArray:function(K){var I=this.get_document();
var H=[];
for(var G=0;
G<I.styleSheets.length;
G++){var J=I.styleSheets[G];
try{this._getStyleSheetRules(H,J,K);
}catch(F){}}H=this._getFilteredCssClasses(H);
return H;
},_getStyleSheetRules:function(J,Q,R){var H=Q.href;
if(H&&H.indexOf("WebResource.axd?")>-1){return;
}if(H&&H.indexOf(this.get_contentAreaCssFile())>-1){return;
}if($telerik.isIE&&Q.imports){for(var L=0;
L<Q.imports.length;
L++){this._getStyleSheetRules(J,Q.imports[L],R);
}}var F;
try{F=(Q.rules)?Q.rules:Q.cssRules;
}catch(I){return;
}var G=F&&F.length?F.length:0;
for(var K=0;
K<G;
K++){var O=F[K];
if(O&&O.cssText){var S=O.cssText.toLowerCase();
if(S.indexOf("@import")>=0&&O.parentStyleSheet&&O.styleSheet&&O.parentStyleSheet!=O.styleSheet){this._getStyleSheetRules(J,O.styleSheet,R);
continue;
}}var P=O&&O.selectorText?O.selectorText:"";
var M=P.lastIndexOf(".");
if(M<0){continue;
}M=P.lastIndexOf(":");
if(M>0){continue;
}var N=this._getClassName(O);
if(N!="reContentArea"){J[J.length]=[N,O];
}}},copyStyleSheets:function(T,W){if(null==T&&null==W){return;
}var G=0;
var X=null;
if(W.styleSheets.length==0){if(W.createStyleSheet){W.createStyleSheet();
}else{var H=W.createElement("style");
H.media="all";
H.type="text/css";
var P=W.getElementsByTagName("head")[0];
P.appendChild(H);
X=H;
}}if(W.styleSheets[0]){X=W.styleSheets[0];
}for(var K=0;
K<T.styleSheets.length;
K++){try{var U=T.styleSheets[K];
var I=U.href;
var N=false;
if($telerik.isFirefox){if(U.ownerNode&&U.ownerNode.tagName.toLowerCase()=="style"){N=true;
}}if(I&&!N){continue;
}if(U.media){var M=U.media;
if(M.mediaText!=null){M=M.mediaText;
}if(M&&M!="all"&&M!="screen"){continue;
}}var F=(U.rules)?U.rules:U.cssRules;
for(var L=0;
L<F.length;
L++){var R=F[L];
if(X.addRule){var S=R.selectorText;
var O=R.style.cssText;
if(O&&S){X.addRule(S,O,G);
}}else{if(X.insertRule){X.insertRule(R.cssText,G);
}else{var V=R.selectorText+"{"+R.style.cssText+"}";
var Q=W.createTextNode(V);
X.appendChild(Q);
}}G++;
}}catch(J){}}},_contentAreaCommonInitialization:function(){var F=c.Editor.PopupController;
if(F){F.detachFromDocument(this.get_document());
F.attachToDocument(this.get_document());
}this._initEvents();
if(this.isVisible()){this.raiseEvent("firstShow");
}if(this.get_mode()!=c.EditModes.Preview){this.set_editable(true);
}else{this.set_editable(false);
}this.toggleEnhancedEdit(true);
if(this.get_document()&&this.get_contentArea()){this.raiseEvent("editReady",Sys.EventArgs.Empty);
}this._divContentAreaInitialized=true;
},_contentFrameLoadFunction:function(){this._execLoadFunctionSecondTime=false;
try{this.set_document(this.get_contentAreaElement().contentWindow.document);
this.set_contentWindow(this.get_contentAreaElement().contentWindow);
var F=this.get_document().body;
this.set_contentArea(F);
this.get_filtersManager().getDesignContentDom(F);
var M=0;
c.Editor.Utils.addStyleSheet(this.get_contentAreaCssFile(),this.get_document(),this._getUniqueStyleSheetId(M++));
var O=this.get_tableLayoutCssFile();
if(O){c.Editor.Utils.addStyleSheet(O,this.get_document(),this._getUniqueStyleSheetId(M++));
}var G=this.get_cssFiles(),J,N;
if(G.length>0){for(J=0;
J<G.length;
J++){N=this._getUniqueStyleSheetId(M++);
c.Editor.Utils.addStyleSheet(G[J],this.get_document(),N);
}}else{if(!this.get_fullPage()){this.copyStyleSheets(h,this.get_document());
var L=this._getAllSheets(h);
for(J=0;
J<L.length;
J++){N=this._getUniqueStyleSheetId(M++);
var K=L[J];
if(K.tagName=="LINK"){var H=K.href;
if(!H||H.indexOf("WebResource.axd?")>-1){continue;
}if(K.rel&&K.rel.toLowerCase()!="stylesheet"){continue;
}if(K.media&&K.media!="all"&&K.media!="screen"){continue;
}c.Editor.Utils.addStyleSheet(K.getAttribute("href"),this.get_document(),N);
}}}}this._contentAreaCommonInitialization();
}catch(I){}},_extractDoctype:function(F){var G=new RegExp("(<!DOCTYPE[^>]+>)","g");
var H=F.match(G);
return H?H[0]:"";
},_setEmptyMessage:function(F){if(this.get_mode()!=c.EditModes.Design){return;
}if(F!=null){var H=this.get_contentArea().innerHTML.trim();
if(H&&H!="<br>"&&H!="<p>&nbsp;</p>"&&H!="<br />"){return;
}}var J=this.get_emptyMessage();
if(J){if(!this._emptyMessageContainer){var I=this._emptyMessageContainer=h.createElement("div");
var G=this.get_contentAreaElement();
G.parentNode.insertBefore(I,G);
I.style.zIndex=G.style.zIndex+1;
I.style.position="absolute";
$telerik.addCssClasses(I,["reEmptyMessage"]);
if($telerik.isIE&&!$telerik.isIE9Mode){I.style.filter="alpha(opacity=40)";
}else{I.style.opacity="0.4";
}c.Editor.Utils.setElementInnerHtml(I,J);
this.add_selectionChange(Function.createDelegate(this,this._hideEmptyMessageOnSelectionChange));
$addHandlers(I,{mousedown:this._hideEmptyMessageOnMouseDown},this);
$addHandlers(G,{blur:this._setEmptyMessage},this);
}else{this._emptyMessageContainer.style.display="";
}}},_hideEmptyMessageOnSelectionChange:function(F){this._hideEmptyMessage();
},_hideEmptyMessageOnMouseDown:function(F){if(this._emptyMessageContainer){if(F.rawEvent.preventDefault){F.rawEvent.preventDefault();
}F.returnValue=false;
this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
var G=this;
setTimeout(function(){G.setFocus();
},0);
return false;
}},_hideEmptyMessage:function(){this._emptyMessageContainer.style.display="none";
},_initContentAreaHtml:function(I,H){if(!I||I.trim().length==0){this._setEmptyMessage();
}var J=this.get_filtersManager().getDesignContent(I);
var K=null;
if(this._isFullPage(J)){this.set_fullPage(true);
K=J;
this._doctypeString=this._extractDoctype(K);
}else{this.set_fullPage(false);
}if(this.get_fullPage()&&this.get_contentAreaMode()==c.EditorContentAreaMode.Div){alert(this.get_localization()["settoiframeforfullhtmlerror"]);
J=E.stripHtmlHeadBodyTags(J);
this.set_fullPage(false);
}J=this._markExistingEmptyParagraphs(J);
if(this.get_contentAreaMode()==c.EditorContentAreaMode.Div){this.set_contentArea(this.get_contentAreaElement());
var F=this.get_contentArea();
this.set_document(F.ownerDocument);
this.set_contentWindow(window);
if(J.match(/<form[\s>]/i)){alert(this.get_localization()["formelementsaresupportedbyiframeerror"]);
J="";
}this._setContentAreaHtml(F,J);
if(!this._divContentAreaInitialized){this._contentAreaCommonInitialization();
}}else{if(K||H){this._recreateIframe(K,J);
}else{this._setContentAreaHtml(this.get_contentArea(),J);
}}var G=this._checkForBrokenParagraphs();
if(G){this._fixBrokenParagraphs(J);
}},_recreateIframe:function(L,J){L=L||($telerik.isSafari?"<!DOCTYPE html><html><head><style></style></head><body></body></html>":"<head><style></style></head><body"+($telerik.isOpera?" style='height:100%'":"")+"></body>");
var I=this;
var F=I.get_contentAreaElement();
if($telerik.isFirefox){var K=Function.createDelegate(I,function(){if(this._execLoadFunctionSecondTime){this._setContentAreaHtml(this.get_contentArea(),J);
this._contentFrameLoadFunction();
}});
$addHandler(F,"load",K);
}try{var G=F.contentWindow.document;
G.open();
G.write(L);
G.close();
I._execLoadFunctionSecondTime=false;
if(G.body){E.setElementInnerHtml(G.body,E.stripHtmlHeadBodyTags(J));
I._contentFrameLoadFunction();
}else{I._execLoadFunctionSecondTime=true;
}}catch(H){}},_setContentAreaHtml:function(F,G){E.setElementInnerHtml(F,G);
this.get_filtersManager().getDesignContentDom(F);
},_markExistingEmptyParagraphs:function(F){var G=F+"";
G=G.replace(/<p><\/p>|<p([^>]+)><\/p>|<p[^\/+]\/>/gi,'<p$1 _rdEditor_exists="1">&nbsp;</p>');
return G;
},_checkForBrokenParagraphs:function(){var I=false;
var H=this.get_contentArea().getElementsByTagName("p");
for(var F=H.length-1;
F>=0;
F--){var G=H[F];
if(!G.hasChildNodes()){if(!G.getAttribute("_rdEditor_exists")){I=true;
}}G.removeAttribute("_rdEditor_exists");
}return I;
},_fixBrokenParagraphs:function(F){if(this.get_contentAreaMode()!=c.EditorContentAreaMode.Div){F=Telerik.Web.UI.Editor.Utils.stripHtmlHeadBodyTags(F);
}var G=this.get_contentArea();
F=F.replace(/<p ([^>]+)>|<p>/ig,'<div $1 _rdEditor_temp="1">');
F=F.replace(/<\/p>/gi,"</div>");
c.Editor.Utils.setElementInnerHtml(G,F);
var K=G.getElementsByTagName("DIV");
for(var H=K.length-1;
H>=0;
H--){var J=K[H];
if(J.getAttribute("_rdEditor_temp")){var L=this.get_document().createElement("P");
$telerik.getOuterHtml(J.cloneNode(false)).replace(/([a-z0-9\-_]+)=/gi,function(O,N){var P;
if(N.toLowerCase()!=="_rdeditor_temp"){P=J.getAttribute(N);
if(!P&&N==="class"){P=J.className;
}L.setAttribute(N,P);
}});
for(var I=0;
I<J.childNodes.length;
I++){L.appendChild(J.childNodes[I].cloneNode(true));
}if(J.swapNode){J.swapNode(L);
}else{var M=J.parentNode;
M.insertBefore(L,J);
M.removeChild(J);
}}}this.get_filtersManager().getDesignContentDom(G);
},_createUI:function(){var J=this;
if(this._created){return;
}this._registerModeChangeHandler(true);
this._tableElement=this.get_mainTable();
var F=$get(this.get_id()+"Center");
var G=this.get_contentAreaElement();
if(F){if($telerik.isMobileSafari&&this.get_contentAreaMode()==c.EditorContentAreaMode.Iframe){var H=h.createElement("div");
a(H).addClass("reIframeWrapperIOS");
H.appendChild(G);
F.appendChild(H);
this._contentAreaWrapper=H;
}else{F.appendChild(G);
}}else{var I=a(J.get_element()).find(f);
I.append(G);
var K=J.get_findReplaceOverlay();
if(K){a(K.get_element()).insertBefore(I);
}}this._created=true;
},repaint:function(){c.RadEditor.callBaseMethod(this,"repaint");
var F=this.get_toolAdapter();
F.repaint(true);
this._sizer.onRepaint(this.isVisible());
},_updateEditorSize:function(F,G){this.repaint();
},_fixMoreSizeIssues:function(){this.repaint();
},_setElementStyleProperty:function(F,G,H){F.style[G]=H;
},setSize:function(G,F){this._sizer.setEditorSize(G,F);
this.refreshContentZoom();
},pasteHtml:function(K,J,I,H,G){if(!this.get_editable()){return;
}this._disposeElementResizableWidget();
if(K.match(/^<script/ig)){K="<span id='_rdEditor_temp'>&nbsp;</span>"+K;
}var F=new c.EditorCommandEventArgs(J,null,K);
if(false==this._executeCommandEvent("pasteHtml",J,F)){return;
}if(K!=F.get_value()){K=F.get_value();
}var L=this.getLocalizedString(J);
var M=this.get_mode();
if(c.EditModes.Design==M){this.setFocus();
this._fireDeleteSelectionCmd(true);
var Q=new c.Editor.PasteHtmlCommand(L,this.get_contentWindow(),K,I,this);
this.executeCommand(Q,null,G);
if(H!=false){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}}else{if(c.EditModes.Html==M){var S=this.get_textArea();
if(this.isIE&&this.get_document().selection){S.setActive();
var R=h.selection.createRange();
R.text=K;
}else{if(S.setSelectionRange){var P=S.selectionStart;
var O=S.selectionEnd;
var N=K;
S.value=S.value.substring(0,P)+N+S.value.substring(O);
S.setSelectionRange(P+N.length,P+N.length);
this.setFocus();
}}}}a("#_rdEditor_temp",this.get_document()).remove();
},_nonEditableCommands:["XhtmlValidator","Copy","Print","SelectAll","AboutDialog","Help","Zoom"],_isCommandEditable:function(F){return Array.indexOf(this._nonEditableCommands,F)==-1;
},fire:function(G,F){var J=this;
if(!J.get_editable()&&this._editorFinishedLoad&&J._isCommandEditable(G)){return;
}if(G!="Copy"){this._saveTypedContent(true,"editor.fire Copy executing");
}this.setActive();
if(false==this._executeCommandEvent("commandExecuting",G,F)){return;
}if(this._optionalIgnoredTools&&!this._optionalIgnoredTools[G]){return;
}this._pendingTextTypeCmd=null;
var H=c.Editor.CommandList[G];
var K=false;
if(H){K=(false!=H(G,this,F));
}else{alert("The command "+G+" is not implemented yet.");
}if(K){if(!$telerik.isOpera){this.setFocus();
}this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}this._executeCommandEvent("commandExecuted",G,F);
try{if(G=="Undo"&&!$telerik.isIE&&this.get_contentArea().innerHTML.toLowerCase().trim()=="<br>"){this.get_contentArea().innerHTML="<br>";
}}catch(I){}},_executeCommandEvent:function(H,G,F){if(!F){F=new c.EditorCommandEventArgs(G);
}this.raiseEvent(H,F);
return !(F.get_cancel&&F.get_cancel());
},_onWindowResize:function(){var F=this._getViewportBounds();
this.setSize(F.width,F.height,false);
},_registerWindowResizeHandler:function(F){if(F){this._onWindowResizeDelegate=Function.createDelegate(this,this._onWindowResize);
$addHandler(window,"resize",this._onWindowResizeDelegate);
}else{if(this._onWindowResizeDelegate){$removeHandler(window,"resize",this._onWindowResizeDelegate);
this._onWindowResizeDelegate=null;
}}},_getViewportBounds:function(){var F=$telerik.getClientBounds();
var G=h.documentElement.scrollLeft||h.body.scrollLeft;
var H=h.documentElement.scrollTop||h.body.scrollTop;
F.scrollLeft=G;
F.scrollTop=H;
return F;
},_handleParentsWithOverflow:function(L){var F,K;
if(false==L){if(!this._parentsWithOverflow){return;
}F=this._parentsWithOverflow;
var H=F.length;
for(var G=0;
G<H;
G++){var I=F[G];
if(I[0]){K=I[0].style;
K.overflow=I[1];
K.height=I[2];
K.tableLayout=I[3];
K.position=I[4];
}}this._parentsWithOverflow=null;
}else{this._parentsWithOverflow=[];
F=this._parentsWithOverflow;
var J=this.get_element().parentNode;
while(J&&J.tagName!="BODY"){K=J.style;
F[F.length]=[J,K.overflow,K.height,K.tableLayout,K.position];
if(K.position==="fixed"){K.position="static";
}K.tableLayout="auto";
K.overflow="visible";
K.height="auto";
J=J.parentNode;
}}},isFullScreen:function(){return this._isFullScreen;
},_disableBodyScroll:function(){var F=h.body;
this._preFullScreenBodyStyle=[F.scroll,F.style.margin,""];
F.scroll="no";
F.style.margin="0px";
if(F){this._preFullScreenBodyStyle[2]=F.style.overflow;
F.style.overflow="hidden";
}this._handleParentsWithOverflow(true);
},_enableBodyScroll:function(){var F=h.body;
if(!this._preFullScreenBodyStyle){return;
}F.scroll=this._preFullScreenBodyStyle[0];
try{F.style.margin=this._preFullScreenBodyStyle[1];
}catch(G){}F.style.overflow=this._preFullScreenBodyStyle[2];
this._handleParentsWithOverflow(false);
this._preFullScreenBodyStyle=null;
},_setToolOn:function(I,G){var F=this;
var H=F.getToolByName(I);
if(H){H.setOn(G);
}H=F.getHeaderToolByName(I);
if(H){H.setOn(G);
}},toggleScreenMode:function(){var G=this;
var M=e.operaPresto||x.ios||x.android;
if(G.get_renderMode()==c.RenderMode.Mobile){G._executeToggleScreenModeCmd();
G._setToolOn("ToggleScreenMode",G._isFullScreen);
G.raiseEvent("toggleScreenMode",Sys.EventArgs.Empty);
G.focusFirstText();
if(G._elementsResizableWidget){G._disposeElementResizableWidget();
}return;
}var I=G.get_element();
if(!G._isFullScreen){this._disableBodyScroll();
G._isFullScreen=true;
d(I,o);
var J=I.style.height;
if(J=="auto"||isNaN(parseInt(J,10))){J=I.offsetHeight+"px";
}var K=I.style.width;
if(K=="auto"||isNaN(parseInt(K,10))){K=I.offsetWidth+"px";
}G._preFullScreenBounds={width:K,height:J};
G._onWindowResize();
if(M){I.style.position="fixed";
I.style.left="0px";
I.style.top="0px";
}else{G._preFullScreenBrowserRect=G._getViewportBounds();
var H=$telerik.getLocation(I);
setTimeout(function(){c.Editor.Utils.restoreBrowserPosition(H.x,H.y);
},0);
}G._registerWindowResizeHandler(true);
if(this._resizeExtender){this._resizeExtender.enable(false);
$telerik.setVisible(this._bottomResizer,false);
}}else{G._registerWindowResizeHandler(false);
this._enableBodyScroll();
G._isFullScreen=false;
A(I,o);
var F=G._preFullScreenBounds;
G.setSize(F.width,F.height,false);
if(M){I.style.position="";
I.style.left="";
I.style.top="";
}else{var L=G._preFullScreenBrowserRect;
c.Editor.Utils.restoreBrowserPosition(L.scrollLeft,L.scrollTop);
}if(this._resizeExtender){this._resizeExtender.enable(true);
$telerik.setVisible(this._bottomResizer,true);
}}G.set_editable(true);
if(!x.ios){G.setFocus();
}G.refreshContentZoom();
G._setToolOn("ToggleScreenMode",G._isFullScreen);
this.raiseEvent("toggleScreenMode",Sys.EventArgs.Empty);
},validateMaxTextLength:function(I){var H=this.get_maxTextLength();
if(H>0){if(!I){I="";
}var F=this.get_text({removeMultipleSpaces:true})+I;
var G=b.Utils._getCharactersCount(F);
return H>=G;
}return true;
},validateMaxHtmlLength:function(F){var G=this.get_maxHtmlLength();
if(G>0){if(!F){F="";
}return G>=this.get_html(true).length+F.length;
}return true;
},displayMaxHtmlLengthErrorMessage:function(){alert(this.get_localization()["exceededhtmllength"]+" "+this.get_maxHtmlLength()+". "+this.get_localization()["reducetheconentlength"]+".");
},displayMaxTextLengthErrorMessage:function(){alert(this.get_localization()["exceededtextlength"]+" "+this.get_maxTextLength()+". "+this.get_localization()["reducetheconentlength"]+".");
},get_contentHiddenTextareaValue:function(){if(this._contentHiddenTextarea){return c.Editor.Utils.decodePostbackContent(this._contentHiddenTextarea.value);
}else{return"";
}},set_contentHiddenTextareaValue:function(F){this._contentHiddenTextarea.value=c.Editor.Utils.encodePostbackContent(F);
},get_localization:function(){return this._localization;
},_createIframe:function(){var F=h.createElement("iframe");
F.frameBorder="0";
F.src="javascript:'<html></html>';";
var G=F.style;
G.width="100%";
G.height="2px";
G.margin="0px";
G.padding="0px";
if(this.get_renderMode()==c.RenderMode.Mobile){F.className="t-flex";
}return F;
},get_contentAreaElement:function(){if((this.get_contentAreaMode()==c.EditorContentAreaMode.Iframe)&&(this._contentAreaElement&&(!this._contentAreaElement.contentWindow||!this._contentAreaElement.contentWindow.document))){if(this._contentAreaElement.parentNode){this._contentAreaElement.parentNode.removeChild(this._contentAreaElement);
}this._contentAreaElement=null;
}if(!this._contentAreaElement){var F;
if(this.get_contentAreaMode()==c.EditorContentAreaMode.Div){F=h.createElement("div");
F.setAttribute("id",this.get_id()+"_contentDiv");
F.className="reContentArea";
}else{F=this._createIframe();
if(!$telerik.isIE){F.innerHTML="Your browser does not support inline frames or is currently configured not to display inline frames.";
}F.setAttribute("id",this.get_id()+"_contentIframe");
}F.setAttribute("title","Rich text editor with ID "+this.get_id());
this._contentAreaElement=F;
if(this.get_enableAriaSupport()){this._contentAreaElement.setAttribute("role","textbox");
}}return this._contentAreaElement;
},findContent:function(G){var F=this.get_contentArea();
if(typeof(G)==="function"){return a(E.getAllChildNodesBy(F,G));
}else{return a(this.get_contentArea()).find(G);
}},get_shortCutManager:function(){return this._shortCutManager;
},get_filtersManager:function(){return this._filtersManager;
},get_commandsManager:function(){return this._commandsManager;
},get_modulesManager:function(){return this._modulesManager;
},get_useClassicDialogs:function(){return this.get_dialogOpener().get_useClassicDialogs();
},set_useClassicDialogs:function(F){this.get_dialogOpener().set_useClassicDialogs(F);
},get_qualifiedSkin:function(){var F=this.get_skin();
return"RadEditor."+F;
},_applyAriaSupport:function(){this.get_element().setAttribute("role","presentation");
var L=this.get_toolContainer();
this._applyAriaForLayoutTables();
var I;
if(L){L.setAttribute("role","toolbar");
var M=L.getElementsByTagName("ul");
for(I=0;
I<M.length;
I++){M[I].setAttribute("role","presentation");
}}var J=this._getModeButtonsWrapper();
J.setAttribute("role","presentation");
var F=J.getElementsByTagName("*");
for(I=0;
I<F.length;
I++){var G=F[I];
var K=G.tagName.toLowerCase()=="a"?"button":"presentation";
G.setAttribute("role",K);
}var H=this._contentHiddenTextarea;
if(H){H.setAttribute("aria-hidden","true");
}},_applyAriaForLayoutTables:function(){var I=this.get_mainTable();
if(I){I.setAttribute("role","presentation");
var L=I.getElementsByTagName("tr");
for(var G=0;
G<L.length;
G++){var K=L[G];
K.setAttribute("role","presentation");
var J=K.getElementsByTagName("td");
for(var H=0;
H<J.length;
H++){J[H].setAttribute("role","presentation");
}}}var F=$get(this.get_id()+"_BottomTable");
if(F){F.setAttribute("role","presentation");
}},_updateHiddenTextarea:function(){var F=this;
var G=F.get_html(true);
if(F.get_mode()==c.EditModes.Preview){E.restoreTargetsAfterPreview(F);
}if(F.get_enableImmutableElements()){var H=new RegExp(" "+E.immutableElementId+"=['\"]?[0-9]{13}['\"]?","gm");
G=G.replace(H,"");
}F.set_contentHiddenTextareaValue(G);
return G;
},_registerClientValidation:function(){if(typeof(Page_ClientValidate)=="function"){var F=Page_ClientValidate;
Page_ClientValidate=Function.createDelegate(this,function(I){var G=this.get_element();
if(G){var H=this._updateHiddenTextarea();
G.value=H;
G.setAttribute("value",H);
}G=null;
return F(I);
});
}},saveContent:function(G,F){if(this._saveContentDelegate){var H=null;
if(!this.validateMaxHtmlLength()){H=1;
}else{if(!this.validateMaxTextLength()){H=2;
}}if(H){if(F){if(F.set_cancel){F.set_cancel(true);
}}else{if(H==1){this.displayMaxHtmlLengthErrorMessage();
}else{if(H==2){this.displayMaxTextLengthErrorMessage();
}}}$telerik.cancelRawEvent(G);
return false;
}else{this.raiseEvent("submit",Sys.EventArgs.Empty);
this._updateHiddenTextarea();
}}},_registerPostBackHandlers:function(){this._saveContentDelegate=Function.createDelegate(this,this.saveContent);
var G=this._contentHiddenTextarea.form;
if(G){$telerik.addExternalHandler(G,"submit",this._saveContentDelegate);
}if(typeof(__doPostBack)!="undefined"){var L=this._saveContentDelegate;
var J=__doPostBack;
__doPostBack=function(O,N){L();
J(O,N);
};
}if(typeof(Sys.WebForms)!="undefined"&&typeof(Sys.WebForms.PageRequestManager)!="undefined"){var I=Sys.WebForms.PageRequestManager.getInstance();
if(I){if(null!=I._originalDoPostBack){var M=this._saveContentDelegate;
var K=I._originalDoPostBack;
I._originalDoPostBack=function(O,N){M();
K(O,N);
};
}if(null!=I._onSubmitStatements&&!$telerik.isIE){var H=this;
var F={};
Array.add(I._onSubmitStatements,function(){var N=H.saveContent(null,F);
return(N!=D)?N:true;
});
}else{I.add_initializeRequest(this._saveContentDelegate);
}}I=null;
}G=null;
},toggleEnhancedEdit:function(H){if(this.get_contentAreaMode()==c.EditorContentAreaMode.Div){var F=this.get_contentArea();
if(typeof(H)=="undefined"||null==H){H=(F.className.indexOf("reContentAreaToggle")>-1)?false:true;
}if(H){Sys.UI.DomElement.addCssClass(F,"reContentAreaToggle");
}else{Sys.UI.DomElement.removeCssClass(F,"reContentAreaToggle");
}this.updateToggleTableBorderToolState(H);
return H;
}else{if($telerik.isSafari&&typeof(H)!="undefined"&&false==this.disableContentAreaStylesheet(H)){var G=this;
setTimeout(function(){G.disableContentAreaStylesheet(H);
},200);
}else{return this.disableContentAreaStylesheet(H);
}}},disableContentAreaStylesheet:function(H){var G=this.get_document();
if(!G||!G.getElementById){return false;
}var F=G.getElementById(this._getUniqueStyleSheetId(0));
if(F){if(H==null){H=F.disabled;
}F.disabled=!H;
this.updateToggleTableBorderToolState(H);
return H;
}else{return false;
}},updateToggleTableBorderToolState:function(G){var F=this.getToolByName("ToggleTableBorder");
if(F&&F.setOn){F.setOn(G);
}},pasteHyperLink:function(K,G){var F=this.getSelection().getParentElement();
var J=F?F.parentNode:null;
if(F!=null&&F.tagName=="A"&&($telerik.isFirefox||($telerik.isIE&&F.style.cssText!=""&&!((J.tagName=="FONT"||J.tagName=="SPAN")&&J.children.length==1)))){F.parentNode.removeChild(F);
}else{if($telerik.isSafari&&J&&J.nodeName=="A"){J.parentNode.removeChild(J);
}else{this.fire("Unlink");
}}var H=c.Editor.Utils.getOuterHtml(K);
if($telerik.isIE){H=this._replaceHeadingInsideLink(H);
if(K.getElementsByTagName("P").length==1){H=this.replaceParagraphAndAnchor(H);
var I=F;
while(I){if(I.tagName=="P"){I.parentNode.removeChild(I);
break;
}I=I.parentNode;
}}}H=H.replace(/<br[^>]*><\/a>$/ig,"</a><br />");
this.pasteHtml(H,G);
},replaceParagraphAndAnchor:function(F){var G=F+"";
G=G.replace(/(<A[^>]*>)\s*(<P[^>]*>)/ig,"$2$1");
G=G.replace(/(<\/P[^>]*>)\s*(<\/A[^>]*>)/ig,"$2$1");
return G;
},_replaceHeadingInsideLink:function(F){var G=F+"";
G=G.replace(/(<A[^>]*>)\s*(<h\d{1}[^>]*>)/ig,"$2$1");
G=G.replace(/(<\/h\d{1}[^>]*>)\s*(<\/A[^>]*>)/ig,"$2$1");
return G;
},_saveTypedContent:function(G,F){if(this._pendingTextTypeCmd){this._pendingTextTypeCmd.update();
}if(true!=G){this._pendingTextTypeCmd=null;
}},_attachBodyHandlers:function(H){var F=null;
if(this.get_document()&&this.get_contentArea()){F=this.get_contentArea();
}if(!F){return;
}if(H){this._onResizeStartDelegate=Function.createDelegate(this,this._onResizeStart);
this._onResizeEndDelegate=Function.createDelegate(this,this._onResizeEnd);
this._onDropDelegate=Function.createDelegate(this,this._onDrop);
$telerik.addExternalHandler(F,"resizestart",this._onResizeStartDelegate);
$telerik.addExternalHandler(F,"resizeend",this._onResizeEndDelegate);
$telerik.addExternalHandler(F,"drop",this._onDropDelegate);
if($telerik.isIE||$telerik.isFirefox){this._onDragEndDelegate=Function.createDelegate(this,this._onDragEnd);
this._onDragStartDelegate=Function.createDelegate(this,this._onDragStart);
$telerik.addExternalHandler(F,"dragend",this._onDragEndDelegate);
$telerik.addExternalHandler(F,"dragstart",this._onDragStartDelegate);
}var G=this._shouldAutoResizeHeight();
if(($telerik.isIE6||$telerik.isIE7||$telerik.isIE8)&&!G){this._onEditorResizeDelegate=Function.createDelegate(this,this._onEditorResizing);
$telerik.$(this.get_element()).on("resize",this._onEditorResizeDelegate);
}this._onPasteDelegate=Function.createDelegate(this,F.setActive&&F.ownerDocument.queryCommandSupported("Paste")?this._onPaste:this._onBeforePaste);
$telerik.addExternalHandler(F,"paste",this._onPasteDelegate);
if(G){this._resizeContentAreaDelegate=Function.createDelegate(this,this._resizeContentArea);
$telerik.addExternalHandler(F,"keyup",this._resizeContentAreaDelegate);
}}else{if(this._onResizeStartDelegate){$telerik.removeExternalHandler(F,"resizestart",this._onResizeStartDelegate);
}if(this._onResizeEndDelegate){$telerik.removeExternalHandler(F,"resizeend",this._onResizeEndDelegate);
}if(this._onDropDelegate){$telerik.removeExternalHandler(F,"drop",this._onDropDelegate);
}if(this._onDragEndDelegate){$telerik.removeExternalHandler(F,"dragend",this._onDragEndDelegate);
}if(this._onDragStartDelegate){$telerik.removeExternalHandler(F,"dragstart",this._onDragStartDelegate);
}if(this._onEditorResizeDelegate){$telerik.$(this.get_element()).off("resize",this._onEditorResizeDelegate);
}if(this._resizeContentAreaDelegate){$telerik.removeExternalHandler(F,"keyup",this._resizeContentAreaDelegate);
}$telerik.removeExternalHandler(F,"paste",this._onPasteDelegate);
this._resizeContentAreaDelegate=null;
this._onEditorResizeDelegate=null;
this._onResizeStartDelegate=null;
this._onResizeEndDelegate=null;
this._onDropDelegate=null;
this._onDragEndDelegate=null;
this._onDragStartDelegate=null;
this._onPasteDelegate=null;
this._onBeforePasteDelegate=null;
}},_initEvents:function(){var G=this;
var F=a(this._getContentElement());
if(!this.isIE){this.attachInternalHandler("keypress",function(I){if(G._onKeyPressed(I)){I.preventDefault();
return false;
}});
if(e.webkit||e.edge){if(G.get_renderMode()==c.RenderMode.Mobile){F.onEvent(m.Down+j,"img",Function.createDelegate(G,G._onImageDown));
F.onEvent(m.Up+j,"img",Function.createDelegate(G,G._onImageUp));
}else{this.attachInternalHandler("click",Function.createDelegate(G,function(I){var J=I.srcElement?I.srcElement:I.target;
if(E.isTag(J,"img")){G.selectElement(J);
}}));
}F.onEvent(m.Down+j,"map",g(G,function(I){var J=G.findContent("img[usemap=#"+I.currentTarget.id+"]");
if(J.length){G.selectElement(J[0]);
}I.preventDefault();
}));
}if(this.isFirefox&&this.get_contentAreaMode()!=c.EditorContentAreaMode.Div){this.attachInternalHandler("click",function(I){if(!G.get_editable()){return;
}window.setTimeout(function(){G.set_editable(true);
G.setFocus();
},100);
});
}}this.attachInternalHandler("keypress",this._preventEnterPropagation);
this.attachInternalHandler("keydown",function(I){if(G.isOpera){return G._onKeyDown(I);
}else{G._onKeyDown(I);
}if($telerik.isSafari){var K=G._shortCutManager.isShortCutHit(I);
if(null!=K){var J=K.get_name();
if(J==="InsertShiftTab"){$telerik.cancelRawEvent(I);
G._focusLastVisibleTool();
}switch(J){case"Bold":case"Italic":case"Underline":$telerik.cancelRawEvent(I);
break;
}}}});
F.onEvent(m.Down+i,function(){G.setActiveIfElementIsNotInContent();
G._saveTypedContent(false,"Saving typed content onmousedown");
var I=G.get_toolAdapter();
if(I.isEditEnabled&&I.isEditEnabled()){G.fire("MobileEdit");
}a(h).onEvent(m.Up+i,H);
});
this.attachInternalHandler("keyup",Function.createDelegate(this,this._onKeyUp));
var H=Function.createDelegate(G,function(I){G.raiseEvent("selectionChange",Sys.EventArgs.Empty);
a(h).offEvent(m.Up+i);
if($telerik.isSafari&&E.isTag(G.getSelectedElement(),"img")){setTimeout(function(){G._elementResizingSelectionChangeHandler();
},50);
}});
F.onEvent(m.Up+i,H);
$telerik.addExternalHandler(h.body,"dragend",Function.createDelegate(this,this._onDocumentDragEnd));
this._attachBodyHandlers(true);
},_onImageDown:function(H){var G=this;
var F=a(G._getContentElement());
var I=H.srcElement?H.srcElement:H.target;
G._imageMoveDelegate=G._imageMoveDelegate||Function.createDelegate(G,G._onImageMove);
F.onEvent(m.Move+j,I,G._imageMoveDelegate);
},_onImageUp:function(H){var G=this;
var F=a(G._getContentElement());
if(!G._moved&&G.get_editable()){G.selectElement(H.srcElement?H.srcElement:H.target);
H.preventDefault();
}setTimeout(function(){G._moved=false;
},0);
F.offEvent(m.Move+j);
},_onImageMove:function(F){this._moved=true;
},_initCleanUpModules:function(){this._innerListCleanUp=new b.InnerListDeleteCleanUp(this);
},_cleanUpAfterDelete:function(){this._innerListCleanUp.cleanUp();
},_initMobileEnterFullScreen:function(){var F=this;
F._attachEnterFullScreenMobileHandler(true);
if(F.get_renderMode()==c.RenderMode.Mobile){F.set_editable(false);
}},_attachEnterFullScreenMobileHandler:function(F){var H=this;
if(H.get_renderMode()==c.RenderMode.Mobile){var G=a([H.get_element(),H.get_contentArea()]);
if(F){b.UI.TapEvent.onTap(G,{tap:g(H,H._enterFullScreenMobileHandler),namespace:"reToggleScreenMode"});
}else{b.UI.TapEvent.offTap(G);
}}},_enterFullScreenMobileHandler:function(){var F=this;
F._executeToggleScreenModeCmd();
F._setToolOn("ToggleScreenMode",F._isFullScreen);
F._attachEnterFullScreenMobileHandler(false);
},_executeToggleScreenModeCmd:function(){var F=new b.ToggleScreenMode(this);
return this.executeCommand(F,false,false);
},_toggleMobileEdit:function(){var F=this;
F._hideMobileKeyboard=F._hideMobileKeyboard===true?false:true;
if(F._hideMobileKeyboard){F._showToolBarContainer();
}else{F._hideToolBarContainer();
}},_showToolBarContainer:function(){a(this._view.toolBarContainer()).show();
},_hideToolBarContainer:function(){a(this._view.toolBarContainer()).hide();
},_initFindReplace:function(){var F=this.get_findReplaceOverlay();
if(!F){return;
}this.findReplaceManager=new b.FindReplaceManager(this,F,{localization:this.get_localization()});
},_addOrientationListener:function(){var F=this;
if(C){F._mediaListenerDelegate=Function.createDelegate(F,F._onOrientationChange);
F._mediaQuery=window.matchMedia(v);
F._mediaQuery.addListener(F._mediaListenerDelegate);
}},_removeOrientationListener:function(){var F=this;
if(F._mediaQuery&&F._mediaListenerDelegate){F._mediaQuery.removeListener(F._mediaListenerDelegate);
F._mediaListenerDelegate=null;
}},_onOrientationChange:function(){var H=window.orientation,F=H==90||H==-90,G;
if(x.ios&&e.safari){G=F?t.Portrait:t.LandScape;
}else{G=F?t.LandScape:t.Portrait;
}this._setOrientationDecoration(G);
this.raiseEvent("orientationChange",new b.OrientationEventArgs(G));
},_setOrientationDecoration:function(F){if(window.orientation===D){return false;
}if(!F){F=this._getOrientation();
}var G=F==t.LandScape?u:w;
a(this.get_element()).removeClass(w).removeClass(u).addClass(G);
},_getOrientation:function(){var F=window.orientation;
return(F==-90||F==90)?t.LandScape:t.Portrait;
},_shouldCancelKeyEvent:function(F){if(!$telerik.isFirefox){return false;
}if(!this.get_enableImmutableElements()){return false;
}if(F.ctrlKey||F.altKey){return false;
}var J=c.Editor.Utils,I=this.getSelection().getRange();
if(!I){return false;
}var G=function(K){return J.isTextNode(K)&&J.isImmutableNode(K);
};
if((I.collapsed&&G(I.commonAncestorContainer))||(G(I.startContainer)||G(I.endContainer))){var H=F.keyCode;
if(F.shiftKey&&H==13){return true;
}if(H==8||H==32||H==46){return true;
}if(!J.isSystemKey(H)&&!J.isCursorMovingKey(H)){return true;
}}return false;
},_onKeyDown:function(I){var J=this;
var Q;
if(J.get_mode()==c.EditModes.Preview||J._isTargetTextElement(I)){return;
}if(J._shouldCancelKeyEvent(I)){return $telerik.cancelRawEvent(I);
}var L=I.keyCode;
var F=J.get_contentAreaMode();
var H=J.get_document();
this._startInlineEditModeTabListener(L);
if(F==c.EditorContentAreaMode.Iframe&&$telerik.isMobileSafari){this.setFocus();
}if(L==8||L==46){if(this._fireDeleteSelectionCmd(true,true)){return $telerik.cancelRawEvent(I);
}if(L==46){if($telerik.isOpera&&$telerik.OperaVersion<11){H.execCommand("Delete");
this.get_contentArea().contentEditable=true;
if(F!=c.EditorContentAreaMode.Div){H.designMode="on";
}this.get_contentArea().focus();
return $telerik.cancelRawEvent(I);
}}this._shortcutHit=false;
if(this.getSelectionHtml()){this._saveTypedContent(false,"Saving typed content before allowing delete to proceed..");
var M=this.getLocalizedString("Typing");
if(this.get_enableTrackChanges()){M=Telerik.Web.UI.Editor.TrackChangesCommandStrings.Delete;
}this._pendingTextTypeCmd=new c.Editor.TextTypeCommand(M,this.get_contentWindow(),this);
this._hasDeleteExecuted=true;
}if(this.isIE&&H.selection){var R=function(){var X=J.getSelectedElement();
if(X&&X.tagName=="EMBED"){X.setAttribute("hidden","true");
X.setAttribute("id","FileToDelete");
window.setTimeout(function(){var Y=H.getElementById("FileToDelete");
if(Y.parentNode&&Y.parentNode.removeChild){Y.parentNode.removeChild(Y);
}},100);
$telerik.cancelRawEvent(I);
return true;
}};
var P=R();
if(P){return false;
}try{Q=H.selection.createRange();
var O=null;
if(Q&&Q.duplicate){O=Q.duplicate();
}if(8==I.keyCode){Q.moveStart("character",-1);
}else{Q.moveEnd("character",1);
}if(Q.parentElement().tagName=="EMBED"){Q.select();
R();
if(O&&O.select){O.select();
}}}catch(K){}var S=new c.Editor.Selection(this.get_contentWindow());
if(S&&S.isControl()){var T=S.getRange();
T.execCommand("Delete");
$telerik.cancelRawEvent(I);
}}if(this.get_enableTrackChanges()||this.get_enableComments()){if(L==8||L==46){var W=this.getToolByName("AddComment");
if(W){W.set_enabled(false);
}}}if(!($telerik.isIE&&L==46)){var G=new b.DeleteFix(J);
G.applyFix(I);
}return;
}var V=I.target?I.target:I.srcElement;
if(V&&"INPUT"!=V.tagName){var U=this._shortCutManager.isShortCutHit(I);
if(null!=U&&U.get_name()=="Copy"){this._shortcutHit=false;
return;
}this._shortcutHit=(null!=U);
if(this._shortcutHit){this.fire(U.get_name());
}else{if(c.Editor.Utils.isCursorMovingKey(I.keyCode)){if(!this._hasCursorMoved){this._saveTypedContent(false,"Saving typed content before letting the cursor move");
}this._hasCursorMoved=true;
return;
}if(!I.ctrlKey&&!I.altKey&&(32==I.keyCode||13==I.keyCode||!c.Editor.Utils.isSystemKey(I.keyCode))){this._fireDeleteSelectionCmd();
if(this._hasCursorMoved){this._pendingTextTypeCmd=new c.Editor.TextTypeCommand(this.getLocalizedString("Typing"),this.get_contentWindow(),this);
this.executeCommand(this._pendingTextTypeCmd);
this._hasCursorMoved=false;
return;
}if(!this._pendingTextTypeCmd){this._pendingTextTypeCmd=new c.Editor.TextTypeCommand(this.getLocalizedString("Typing"),this.get_contentWindow(),this);
this.executeCommand(this._pendingTextTypeCmd);
this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}}}if(this._shortcutHit){if($telerik.isIE||$telerik.isSafari||e.edge){var N=U.get_name();
if(this.get_enableTrackChanges()||this.get_enableComments()){if($telerik.isSafari&&N=="Paste"){return;
}if(N=="Enter"){$telerik.cancelRawEvent(I);
return;
}if(N=="Cut"){return;
}}else{if(N=="Cut"||N=="Paste"){return;
}}$telerik.cancelRawEvent(I);
}}}},_startInlineEditModeTabListener:function(G){var F=this;
if(F._isInInlineEditMode()&&G==9&&!F._tabKeyDownFlag){F._tabKeyDownFlag=true;
F._inlineEditModeTabTimeout=window.setTimeout(function(){var H=F.get_toolAdapter();
if(F._tabKeyDownFlag){if(!E.isEditorContentArea(h.activeElement)){H._showToolbarHolder(false);
H._onInlineEditModeBodyClick(h.activeElement);
}F._tabKeyDownFlag=false;
}},100);
}},_clearInlineEditModeTabListener:function(F){if(this._isInInlineEditMode()&&F==9){this._tabKeyDownFlag=false;
}},_fireDeleteSelectionCmd:function(K,G){var I=this;
if(!I.get_editable()){return;
}var J=I.shouldTrackChanges&&I.shouldTrackChanges();
var F=new c.Editor.DeleteSelectionCommand(I,{complete:G});
var H=F.getState(I.get_contentWindow(),I);
if(!J&&(H!==c.Editor.CommandStates.Disabled)){I.executeCommand(F,true,K);
return true;
}return false;
},_preventEnterPropagation:function(F){if(F.keyCode==Sys.UI.Key.enter){if(F.stopPropagation){F.stopPropagation();
}F.cancelBubble=true;
}},_onKeyUp:function(F){this._clearInlineEditModeTabListener(F.keyCode);
this._cleanUpAfterDelete();
if(!this._shortcutHit&&E.isTypingKey(F)){this._normalizeInsertedText();
}if(this._hasDeleteExecuted){if(this._pendingTextTypeCmd){this.executeCommand(this._pendingTextTypeCmd);
}this._pendingTextTypeCmd=null;
this._hasDeleteExecuted=false;
return;
}if(this._pendingTextTypeCmd){return;
}if(this._pendingCutPasteCommand){this.executeCommand(this._pendingCutPasteCommand);
this._pendingCutPasteCommand=null;
}if(this._shortcutHit){return false;
}this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
},_onKeyPressed:function(F){if(!this._pendingTextTypeCmd){this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}if(this._shortcutHit&&!this._pendingCutPasteCommand){return true;
}},_normalizeInsertedText:function(K){var M=this.getDomRange();
var H=function(O){return E.isTextNode(O)&&!E.isZwspTextNode(O);
};
if(!M||!M.isCollapsed()||!H(M.commonAncestorContainer)){return;
}var F=M.commonAncestorContainer;
var L=F.previousSibling;
if(H(L)){var N=M.startOffset;
var G=F.length;
L.data+=F.data;
F.parentNode.removeChild(F);
F=L;
var J=L.length-(N==G?0:G-N);
M.setStart(L,J);
M.setEnd(L,J);
M.select();
}if(K&&K.normalizeRight){var I=F.nextSibling;
if(H(I)){F.data+=I.data;
I.parentNode.removeChild(I);
M.select();
}}},_focusLastVisibleTool:function(){var F=this.get_toolAdapter().get_tools();
if(this.get_isInAccessibleMode()){this._focusLastAccessibleToolElement(F);
}else{this._focusLastVisibleToolElement(F);
}},_focusLastAccessibleToolElement:function(G){var F=G[G.length-1].get_element();
F.parentNode.childNodes[0].focus();
},_focusLastVisibleToolElement:function(G){var F=this._getLastVisibleToolElement(G);
F.focus();
},_getLastVisibleToolElement:function(H){var G;
for(var F=H.length-1;
F<H.length;
F--){G=H[F].get_element();
if(G.style.display!=="none"){return G;
}}},_onPaste:function(I){var H=this;
var L=H.get_stripFormattingOptions();
if(L==c.StripFormattingOptions.NoneSupressCleanMessage||H._isTargetTextElement(I)){return;
}if(H._pasting){return $telerik.cancelRawEvent(I);
}H._pasting=true;
var G=E.getClipboardAsHtml(H);
if(!G){return;
}var K=H.usesContentFilter("RemoveScripts"),F=E.cleanPastedContent(G,L,H.get_localization()["askwordcleaning"],K,H);
if(F){var J=H.getDomRange();
window.setTimeout(function(){J.select();
H.pasteHtml(F,"Paste");
H._normalizeInsertedText({normalizeRight:true});
delete H._pasting;
},5);
}else{delete H._pasting;
}return $telerik.cancelRawEvent(I);
},_onBeforePaste:function(L){var I=this,G=I.get_document(),N=I.getSelection(),P=I.get_stripFormattingOptions(),O=!(P&c.StripFormattingOptions.AllExceptNewLines||P&c.StripFormattingOptions.All);
if(I._isTargetTextElement(L)){return;
}if(O&&!E.containsHtmlAtClipboard(L)){var K=new b.ClipboardImagesProvider().getImages(L);
if(K.length>0){var H=b.DomRange.toDomRange(N.getRange(true));
H.deleteContents();
for(var J=0;
J<K.length;
J++){H.insertNode(K[J]);
}return $telerik.cancelRawEvent(L);
}}if(P==c.StripFormattingOptions.NoneSupressCleanMessage){return;
}if(I._pasting){return $telerik.cancelRawEvent(L);
}I._pasting=true;
I._pendingCutPasteCommand=null;
var F=I.get_contentArea(),R=E.getPasteContainer(F),M=I.getDomRange();
if(G.createRange){var Q=G.createRange();
if(Q.selectNodeContents){Q.selectNodeContents(R);
}N.selectRange(Q);
}else{if(R.setActive){R.setActive();
}}if(!I.afterPasteDelegate){I.afterPasteDelegate=Function.createDelegate(I,I._onAfterPaste);
}window.setTimeout(function(){I.afterPasteDelegate(M,R);
},0);
},_onAfterPaste:function(I,K){var H=this;
var G=K.innerHTML;
if($telerik.isSafari){G=G.replace(/<div[^>]+class=\"telerik_paste_container\"[^>]*><br><\/div>/gi,"<br/>");
G=G.replace(/<div[^>]+class=\"telerik_paste_container\"[^>]*>(.*?)<\/div>/gi,"$1<br/>");
G=G.replace(/<br[/\s]*>$/i,"");
}E.clearPasteContainer(K);
I.select();
var J=H.usesContentFilter("RemoveScripts");
var F=E.cleanPastedContent(G,H.get_stripFormattingOptions(),H.get_localization()["askwordcleaning"],J,H);
H.pasteHtml(F,"Paste");
H._normalizeInsertedText({normalizeRight:true});
delete H._pasting;
},_isTargetTextElement:function(F){return E.isTextElement(F.target?F.target:F.srcElement);
},_onResizeStart:function(F){var H=this.getSelectedElement();
if(H==F.srcElement){var G=this.get_localization()["resizecommand"]||"Resize";
this._pendingResizeCmd=new c.Editor.GenericCommand(G,this.get_contentWindow(),this);
}},onResizing:function(F){if($telerik.isMobileSafari&&this._contentAreaWrapper){this._contentAreaWrapper.style.height=F.height+"px";
}this.get_toolAdapter().repaint();
},_onResizeEnd:function(F){if(this._pendingResizeCmd){this.executeCommand(this._pendingResizeCmd);
}this.refreshContentZoom();
},_onDragStart:function(G){var F=this.get_contentWindow().document;
c.Editor.Utils.storeOriginalPathsAndAttributes(this.get_contentArea());
if($telerik.isFirefox){if(this.get_enableImmutableElements()&&G.target&&c.Editor.Utils.isImmutableNode(G.target)){return $telerik.cancelRawEvent(G);
}return;
}var K=this.get_localization()["movecommand"]||"Move";
this._pendingMoveCommand=new c.Editor.GenericCommand(K,this.get_contentArea(),this);
this._startRange=null;
if(!G.ctrlKey&&!G.ctrlLeft){this._startRange=F.selection?F.selection.createRange():F.body.createTextRange();
if(this._startRange.length){var J=F.body.createTextRange();
var H=this._startRange.item(0);
if("IMG"==H.tagName&&"A"==H.parentNode.tagName&&H.parentNode.childNodes.length==1){H=H.parentNode;
}c.Editor.Utils.storeOriginalPathsAndAttributes(H);
try{J.moveToElementText(H);
this._startRange=J;
}catch(I){}}}},_onDragEnd:function(G){var F=this.get_contentWindow().document;
c.Editor.Utils.restoreOriginalPathsAndAttributes(this.get_contentArea());
if($telerik.isFirefox){return;
}if(this._pendingMoveCommand){if(this._startRange){var J=F.selection?F.selection.createRange():F.body.createTextRange();
if(J.length){var K=F.body.createTextRange();
try{K.moveToElementText(J.item(0));
}catch(I){}J=K;
}try{if(J.compareEndPoints&&0!=J.compareEndPoints("StartToStart",this._startRange)&&0!=J.compareEndPoints("EndToEnd",this._startRange)){this._startRange.execCommand("Delete",false,null);
}}catch(H){}}this.executeCommand(this._pendingMoveCommand);
this._pendingMoveCommand=null;
this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
}},_onDrop:function(F){setTimeout($telerik.$.proxy(function(){c.Editor.Utils.restoreOriginalPathsAndAttributes(this.get_contentArea());
},this),0);
this._saveTypedContent(false,"on drop operation executing");
var G=this.get_localization()["Drop"]||"Drop external content";
this._pendingDockCommand=new c.Editor.GenericCommand(G,this.get_contentWindow(),this);
if(this._elementsResizableWidget){window.setTimeout(g(this,this._elementResizingSelectionChangeHandler),0);
}},_onDocumentDragEnd:function(F){if(!this._pendingDockCommand){return;
}this.executeCommand(this._pendingDockCommand);
this._pendingDockCommand=null;
this.raiseEvent("selectionChange",Sys.EventArgs.Empty);
},_trackChangesLoad:function(){var F=this,G=F.getToolByName("EnableTrackChangesOverride");
if(G){G.setOn(F.get_enableTrackChanges()?0:1);
}this.set_canRejectTrackChange(F.set_canAcceptTrackChange());
if(F.get_enableComments()){Telerik.Web.UI.Editor.TrackChanges.initialize(F);
F.attachInternalHandler("onkeydown",function(H){Telerik.Web.UI.Editor.TrackChanges.checkInsertionPoint(F.getSelectedElement(),F);
});
}}};
a.registerControlProperties(c.RadEditor,{ajaxSpellCheckScriptReference:"",spellAllowAddCustom:true,spellCheckJSON:{},enableUndoRedo:true,headerToolsToolAdapter:null,toolAdapter:null,fullPage:null,dialogOpener:null,ribbonBar:null,links:[],colors:["","#000000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646","#ffffff","#7f7f7f","#ddd9c3","#c6d9f0","#dbe5f1","#f2dcdb","#ebf1dd","#e5e0ec","#dbeef3","#fdeada","#f2f2f2","#595959","#c4bd97","#8db3e2","#b8cce4","#e5b9b7","#d7e3bc","#ccc1d9","#b7dde8","#fbd5b5","#d8d8d8","#3f3f3f","#938953","#548dd4","#95b3d7","#d99694","#c3d69b","#b2a2c7","#92cddc","#fac08f","#bfbfbf","#262626","#494429","#17365d","#366092","#953734","#76923c","#5f497a","#31859b","#e36c09","#a5a5a5","#0c0c0c","#1d1b10","#0f243e","#244061","#632423","#4f6128","#3f3151","#205867","#974806","#c00000","#ff0000","#ffc000","#ffff00","#92d050","#00b050","#00b0f0","#0070c0","#002060","#7030a0"],fontNames:["Arial","Courier New","Garamond","Georgia","MS Sans Serif","Segoe UI","Tahoma","Times New Roman","Verdana"],fontSizes:[1,2,3,4,5,6,7],symbols:["&#8364;","&#162;","&#163;","&#165;","&#164;","&#169;","&#174;","&#8482;","&#177;","&ne;","&#8776;","&#8804;","&#8805;","&#247;","&#215;","&#8734;","&#189;","&#188;","&#190;","&#178;","&#179;","&#8240;","&#182;","&#167;","&#945;","&#946;","&#916;","&#181;","&#937;","&#8721;","&#216;","&ang;","&#186;","&#171;","&raquo;","&#183;","&#8226;","&#8224;","&#8225;","&#402;"],realFontSizes:["8px","9px","10px","11px","12px","13px","14px","16px","18px","20px","22px","24px","26px","28px","32px","36px","48px","72px"],snippets:[],cssClasses:[],cssFiles:[],languages:[],paragraphs:[["<p>","Normal"],["<h1>","<h1>Heading 1</h1>"],["<h2>","<h2>Heading 2</h2>"],["<h3>","<h3>Heading 3</h3>"],["<h4>","<h4>Heading 4</h4>"],["<h5>","<h5>Heading 5</h5>"],["<h6>","<h6>Heading 6</h6>"],["<dir>","<dir>Directory List</dir>"],["<menu>","<menu>Menu List</menu>"],["<pre>","<pre>Formatted</pre>"],["<address>","<address>Address</address>"]],formatSets:[],toolsWidth:null,maxTextLength:null,maxHtmlLength:null,toolProviderID:null,autoResizeHeight:false,toolbarMode:c.EditorToolbarMode.Default,editModes:c.EditModes.All,stripFormattingOptions:c.StripFormattingOptions.None,contentFilters:c.EditorFilters.DefaultFilters,newLineMode:c.EditorNewLineModes.P,contentAreaCssFile:"",tableLayoutCssFile:"",mozillaFlashOverlayImage:"FlashManager.gif",toolAdapterType:"",headerToolsToolAdapterType:"",enableResize:true,headerToolsJSON:[],toolJSON:[],modulesJSON:[],contextMenusJSON:[],skin:"Default",language:"en-us",contentWindow:null,document:null,contentArea:null,contentAreaMode:c.EditorContentAreaMode.Iframe,isInAccessibleMode:false,enableAriaSupport:false,enableComments:false,enableTrackChanges:false,emptyMessage:"",isSkinTouch:false,currentFormatting:null,editType:l.Normal,findReplaceOverlay:null});
a.registerControlEvents(c.RadEditor,["firstShow","pasteHtml","editReady","submit","commandExecuted","commandExecuting","selectionChange","domChange","init","load","modeChange","toggleScreenMode","spellCheckLoaded","pasteDom","pasteBlockElement","orientationChange",p]);
c.RadEditor.registerClass("Telerik.Web.UI.RadEditor",c.RadWebControl);
b.OrientationEventArgs=function(F){b.OrientationEventArgs.initializeBase(this);
this._orientation=F;
};
b.OrientationEventArgs.prototype={get_orientation:function(){return this._orientation;
}};
b.OrientationEventArgs.registerClass("Telerik.Web.UI.Editor.OrientationEventArgs",Sys.EventArgs);
b.DomRangeEventArgs=function(F){b.DomRangeEventArgs.initializeBase(this);
this._range=F;
};
b.DomRangeEventArgs.prototype={get_range:function(){return this._range;
}};
b.DomRangeEventArgs.registerClass("Telerik.Web.UI.Editor.DomRangeEventArgs",Sys.EventArgs);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI");
(function(){var a=Telerik.Web.UI;
a.AccessibleRadEditorBase=function(c){c.set_useClassicDialogs(true);
c.removeShortCut("InsertTab");
c.addShortCut("<h2>","ALT+2");
c.addShortCut("<h3>","ALT+3");
c.addShortCut("<h4>","ALT+4");
c.addShortCut("<h5>","ALT+5");
c.addShortCut("<p>","CTRL+SHIFT+C");
c.addShortCut("TableWizard","CTRL+SHIFT+T");
this.makeAccessibleTools(c);
var b=c.get_toolAdapter();
b.setFocus=function(){var e=$telerik.getElementByClassName(c.get_element(),"reToolbarWrapper","DIV");
if(e){var d=e.getElementsByTagName("INPUT")[0];
window.setTimeout(function(){if(d&&d.focus){d.focus();
}},100);
return false;
}};
c.add_commandExecuting(Function.createDelegate(this,this.editorCommandExecuting));
};
a.AccessibleRadEditorBase.prototype={editorCommandExecuting:function(e,b){if(!b||!b.get_commandName){return;
}var d=b.get_commandName();
if(d=="LinkManager"){if($telerik.isIE){e.get_document().execCommand("CreateLink",true,null);
}else{var j=window.prompt("Enter a URL:","http://");
if(j){e.get_document().execCommand("CreateLink",false,j);
}}e.setFocus();
b.set_cancel(true);
}else{if(d=="MoveFocusToTextEditor"){if($telerik.isIE){e.get_document().body.focus();
}else{e.setFocus();
}b.set_cancel(true);
}else{if(d=="Underline"||d=="Italic"){b.set_cancel(true);
}else{if(d=="<h2>"||d=="<h3>"||d=="<h4>"||d=="<h5>"||d=="<p>"){e.fire("FormatBlock",{value:d});
b.set_cancel(true);
}else{if(d=="InsertTable"){var h=window.prompt("Enter row and column count separated by space, followed by optional heading row index and heading column index","");
if(null!=h){var k=h.split(" ");
var i=k[0]?parseInt(k[0].trim(),10):0;
var c=k[1]?parseInt(k[1].trim(),10):0;
if(i&&c&&!isNaN(i)&&!isNaN(c)){var f=Telerik.Web.UI.Editor.Utils.createTable(i,c);
this.updateHeadingRows(f,k[2]?parseInt(k[2].trim(),10)-1:-1);
this.updateHeadingColumns(f,k[3]?parseInt(k[3].trim(),10)-1:-1);
var g=Telerik.Web.UI.Editor.Utils.getOuterHtml(f);
e.pasteHtml(g,d);
}}b.set_cancel(true);
}}}}}},makeAccessibleTools:function(c){var j=c.get_toolAdapter().get_tools();
for(var e=0;
e<j.length;
e++){var h=j[e];
var k=Object.getType(h);
var g=null;
if(k==Telerik.Web.UI.EditorSplitButton||k.inheritsFrom(Telerik.Web.UI.EditorSplitButton)){g=this.replaceSplitButton(h,c);
}else{if(k==Telerik.Web.UI.EditorDropDown||k.inheritsFrom(Telerik.Web.UI.EditorDropDown)){g=this.replaceDropdown(h,c);
}else{g=this.replaceButton(h,c);
}}if(g){var d=h.get_element();
d.parentNode.insertBefore(g,d);
d.style.display="none";
if(g.tagName.toUpperCase()=="SELECT"){var b=h.get_name();
g.id=c.get_id()+"_"+b;
var f=document.createElement("label");
f.htmlFor=g.id;
f.style.top="-10000px";
f.style.left="-10000px";
f.style.position="absolute";
f.innerHTML=h.get_text();
d.parentNode.insertBefore(f,g);
}}}if($telerik.isIE){this.fixIEFocusProblem(j[0].get_element().previousSibling,true);
this.fixIEFocusProblem(j[j.length-1].get_element().previousSibling,false);
}},fixIEFocusProblem:function(b,e){var d=b.parentNode.parentNode.getElementsByTagName("INPUT");
var f=e?d[1]:d[d.length-2];
var c=true;
b.onfocus=function(g){if(c){if(f){f.focus();
}c=false;
window.setTimeout(function(){b.focus();
window.setTimeout(function(){c=true;
},10);
},10);
}};
},replaceButton:function(f,d){var e=document.createElement("input");
e.type="button";
e.title=f.get_text();
var c=f.get_name();
var b=c;
if(c=="MoveFocusToTextEditor"){b="Custom";
}e.className="reAccessibleTool "+b;
e.onclick=function(){d.fire(c);
};
return e;
},replaceSplitButton:function(d,b){var c=d.get_name();
if(c=="Undo"||c=="Redo"||c=="InsertTable"){return this.replaceButton(d,b);
}else{alert("No implementation for converting split button "+c+" into an accessible tool");
}},replaceDropdown:function(l,b){var h=document.createElement("select");
h.style.width=l.get_element().getElementsByTagName("SPAN")[0].style.width;
var e=[];
if(l.get_name()=="FormatBlock"){e=b.get_paragraphs();
}h.options[0]=new Option("-------------------------------","");
for(var c=0;
c<e.length;
c++){var d=e[c];
var m=d[0];
var k=d[1];
var j=b.get_shortCutManager().findShortCutByName(m);
if(j){k+=" ("+j.get_shortCutString()+")";
}h.options[h.options.length]=new Option(k,m);
}var g=false;
h.onclick=function(){if(g==true){f();
}else{if(h.click){h.click();
}g=true;
}};
h.onkeydown=function(i){if(!i){i=window.event;
}if(i.keyCode==13){f();
}else{return true;
}};
function f(){g=false;
var i=h[h.selectedIndex].value;
if(i){b.fire("FormatBlock",{value:i});
}h.selectedIndex=0;
}return h;
},updateHeadingRows:function(h,b){if(isNaN(b)||b<0){return;
}var k=h.getElementsByTagName("THEAD")[0];
if(!k){k=h.createTHead();
}for(var c=0;
c<=b;
c++){var g=h.rows[0];
var f=k.insertRow(-1);
for(var d=0;
d<g.cells.length;
d++){var e=h.ownerDocument.createElement(c==b?"TH":"TD");
f.insertBefore(e,null);
}h.deleteRow(h.rows.length-1);
}},updateHeadingColumns:function(h,c){if(isNaN(c)||c<0){return;
}for(var f=0;
f<h.tBodies.length;
f++){var l=h.tBodies[f];
for(var d=0;
d<l.rows.length;
d++){var g=l.rows[d];
for(var e=0;
e<g.cells.length;
e++){var b=e==c?"TH":"TD";
this.changeCellType(g.cells[e],b);
}}}},changeCellType:function(b,d){if(b.tagName.toUpperCase()!=d.toUpperCase()){var c=b.ownerDocument.createElement(d.toUpperCase());
b.parentNode.replaceChild(c,b);
}}};
a.AccessibleRadEditor=function(b){a.AccessibleRadEditor.initializeBase(this,[b]);
};
a.AccessibleRadEditor.prototype={initialize:function(){a.AccessibleRadEditor.callBaseMethod(this,"initialize");
},dispose:function(){a.AccessibleRadEditor.callBaseMethod(this,"dispose");
}};
a.AccessibleRadEditor.registerClass("Telerik.Web.UI.AccessibleRadEditor",a.RadEditor);
})();
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a,p,o){function h(s){var r=s.startContainer||(s.length?s.item(0):(s.commonParentElement?s.commonParentElement():s.parentElement()));
return r.nodeType==9?r:r.ownerDocument;
}function q(r){return r.defaultView||r.parentWindow;
}function i(s){if(!s){s=window;
}var r=s.document;
if(s.getSelection||r.getSelection){return s.getSelection()||r.getSelection();
}else{return null;
}}function g(r){var s=i();
return s?r.createRange():r.selection?(r.selection.type=="None"?r.body.createTextRange():r.selection.createRange()):null;
}b.DomRange=function(s,r){this.options=a.extend({preventCalculateEdges:false},r||{});
this.range=s;
this._initialCalculateEdges();
};
b.DomRange.START_TO_START=0;
b.DomRange.START_TO_END=1;
b.DomRange.END_TO_END=2;
b.DomRange.END_TO_START=3;
b.DomRange.toDomRange=function(r){return(!r||b.DomRange.isInstanceOfType(r))?r:new b.DomRange(r);
};
b.DomRange.createRange=function(r){return new b.DomRange(g(r));
};
b.DomRange.rangeFromWindow=function(u){if(!u){return null;
}var r=u.document;
var t=i(u);
if(t){if(t.rangeCount<1){return null;
}var s;
if(t.getRangeAt){s=t.getRangeAt(0);
}else{s=r.createRange();
s.setStart(t.anchorNode,t.anchorOffset);
s.setEnd(t.focusNode,t.focusOffset);
}return new b.DomRange(s);
}else{if(r.selection){return new b.DomRange(r.selection.createRange());
}}return null;
};
b.DomRange.prototype={selectNodeContents:function(r){if(this.range.length){this.range.addElement(r);
}else{this.setEnd(r,r[r.nodeType===1?"childNodes":"nodeValue"].length);
this.setStart(r,0);
}},selectNode:function(r){this.setStartBefore(r);
this.setEndAfter(r);
},setStart:function(r,s){this.startContainer=r;
this.startOffset=s;
this._calculateRangeProperties();
},setEnd:function(r,s){this.endContainer=r;
this.endOffset=s;
this._calculateRangeProperties();
},setStartBefore:function(r){this.setStart(r.parentNode,p.findNodeIndex(r));
},setStartAfter:function(r){this.setStart(r.parentNode,p.findNodeIndex(r)+1);
},setEndBefore:function(r){this.setEnd(r.parentNode,p.findNodeIndex(r));
},setEndAfter:function(r){this.setEnd(r.parentNode,p.findNodeIndex(r)+1);
},insertNode:function(v){var z=this;
var r=z._updateBrowserRange();
var A=z.startContainer;
var t=z.endContainer;
var x=A.parentNode;
var w=z.startOffset;
var s=h(r);
var u=function(E,D,C){var F=C||v;
if(D){E.insertBefore(F,D);
}else{E.appendChild(F);
}if(E===t){z.endOffset++;
}};
if(p.isTextNode(A)){if(w==0){u(x,A);
}else{if(w>=A.length){u(x,A.nextSibling);
}else{var B=A.data;
var y=s.createTextNode(B.substring(0,w));
A.data=B.substring(w);
u(x,A,y);
u(x,A);
if(A===t){this.endOffset-=w;
}}}}else{u(A,A.childNodes[w]);
}this.setStartBefore(v);
},extractContents:function(){var r=this._updateBrowserRange();
if(r.extractContents){return r.extractContents();
}else{var t=document;
var u=t.createDocumentFragment();
var s=t.createElement("div");
s.innerHTML=this.getHtml();
while(s.childNodes.length){u.appendChild(s.firstChild);
}r.pasteHTML("");
return u;
}},deleteContents:function(){if(this.range.deleteContents){var r=this._updateBrowserRange();
r.deleteContents();
}else{this.extractContents();
}},cloneRange:function(){var r=this._updateBrowserRange();
if($telerik.isIE&&r.length){var t=this.cloneControlRange(r);
if(t){return new b.DomRange(t,this.options);
}}var s=null;
var u=this._cloneBrowserRange();
if(u){s=new b.DomRange(u,this.options);
s.setStart(this.startContainer,this.startOffset);
s.setEnd(this.endContainer,this.endOffset);
}return s;
},_cloneBrowserRange:function(){if(this.range.cloneRange){return this.range.cloneRange();
}else{if(this.range.duplicate){return this.range.duplicate();
}else{if($telerik.isIE&&this.range.length){return this.cloneControlRange(this.range);
}}}return null;
},cloneControlRange:function(s){var v=s.length;
if(v){var u=s.item(0);
var r=u.ownerDocument.body;
s=r.createControlRange();
for(var t=0;
t<v;
t++){s.addElement(this.range.item(t));
}return s;
}return null;
},compareBoundaryPoints:function(s,u){var r=this._updateBrowserRange();
if(r.compareBoundaryPoints){var t=r.compareBoundaryPoints(s,u.getBrowserRange());
return t;
}else{if(r.compareEndPoints){return r.compareEndPoints(this._pointPairToCompare(s),u.getBrowserRange());
}else{return 0;
}}},collapse:function(r){if(r){this.endContainer=this.startContainer;
this.endOffset=this.startOffset;
}else{this.startContainer=this.endContainer;
this.startOffset=this.endOffset;
}this._calculateRangeProperties();
},isCollapsed:function(){return this.collapsed;
},surroundContents:function(s){var r=this._updateBrowserRange();
if(r.surroundContents){s.appendChild(r.extractContents());
r.insertNode(s);
}else{s.innerHTML=r.htmlText;
r.pasteHTML(s.outerHTML);
}},toString:function(){var r=this._updateBrowserRange();
if(r.text!=o){return r.text;
}else{if(r.toString){return r.toString();
}else{return"";
}}},inRange:function(s){var r=this._updateBrowserRange();
if(r.inRange){return r.inRange(s.getBrowserRange());
}else{var u=this.compareBoundaryPoints(b.DomRange.START_TO_START,s);
var t=this.compareBoundaryPoints(b.DomRange.END_TO_END,s);
return u<1&&t>-1;
}},getBrowserRange:function(){return this._updateBrowserRange();
},getParentElement:function(){return this.commonAncestorContainer||this._getBrowserRangeParent();
},getText:function(){return this.toString();
},getHtml:function(){var r=this._updateBrowserRange();
if(r.cloneContents){var t=r.cloneContents();
var s=t.ownerDocument.createElement("div");
s.appendChild(t);
return s.innerHTML;
}else{if(r.length){return r.item(0).outerHTML;
}else{return r.htmlText||"";
}}},pasteHTML:function(u){var r=this._updateBrowserRange();
if(r.pasteHTML){r.pasteHTML(u);
}else{if(r.extractContents){var s=r.extractContents().ownerDocument;
var t=s.createElement("div");
t.innerHTML=u;
while(t.childNodes.length){r.insertNode(t.firstChild);
}}}},setCursorInEmptyNode:function(s){s.innerHTML="&#x200b;";
this.setStart(s,0);
try{this.setEnd(s,0);
}catch(r){this.setEnd(s,1);
}finally{if(!$telerik.isOpera){if(!$telerik.isIE||$telerik.isIE9Mode){this.selectNodeContents(s);
}if(!$telerik.isIE){this.deleteContents();
}}this.collapse(!$telerik.isIE||$telerik.isIE9Mode);
this.select();
if(!$telerik.isOpera){s.innerHTML="";
}}},moveStart:function(x,s){if(this.range.moveStart){return this.range.moveStart(x,s);
}else{var t=h(this.range);
var w=t.defaultView.getSelection();
var v;
if(w.modify){var r=this.cloneRange();
r.collapse(true);
r.select();
if(s>0){while(s-->0){v=w.modify("move","forward",x);
}}else{while(s++<0){v=w.modify("move","backward",x);
}}var u=w.getRangeAt(0);
r=this.cloneRange();
this.setStart(u.startContainer,u.startOffset);
r.select();
return v;
}else{return 0;
}}},moveEnd:function(x,s){if(this.range.moveEnd){return this.range.moveEnd(x,s);
}else{var t=h(this.range);
var w=t.defaultView.getSelection();
var v;
if(w.modify){var r=this.cloneRange();
r.collapse(false);
r.select();
if(s>0){while(s-->0){v=w.modify("move","forward",x);
}}else{while(s++<0){v=w.modify("move","backward",x);
}}var u=w.getRangeAt(0);
r=this.cloneRange();
this.setEnd(u.endContainer,u.endOffset);
r.select();
return v;
}else{return 0;
}}},moveToElementText:function(u){var v=this.range;
var r=h(v);
var x=this._createTempNode(r);
var t=this._createTempNode(r);
var w=v.duplicate();
var s=v.duplicate();
u.insertBefore(x,u.firstChild);
u.appendChild(t);
w.moveToElementText(x);
s.moveToElementText(t);
v.setEndPoint("EndToEnd",s);
v.setEndPoint("StartToEnd",w);
u.removeChild(x);
u.removeChild(t);
},snapToRange:function(r,s){switch(r){case b.DomRange.START_TO_START:this.setStart(s.startContainer,s.startOffset);
break;
case b.DomRange.START_TO_END:this.setStart(s.endContainer,s.endOffset);
break;
case b.DomRange.END_TO_END:this.setEnd(s.endContainer,s.endOffset);
break;
case b.DomRange.END_TO_START:this.setEnd(s.startContainer,s.startOffset);
break;
}},select:function(){var r=this._updateBrowserRange();
if(r.select){try{r.select();
}catch(s){}}else{var t=this.clear(r);
if(t){t.addRange(r);
}}},clear:function(r){var t=r||this.range;
var s=h(t);
var v=q(s);
if(v.getSelection||s.getSelection){var u=v.getSelection?v.getSelection():s.getSelection();
u.removeAllRanges();
return u;
}},inspect:function(s){var r=function(t,u){u=typeof u=="undefined"?"":" "+u;
return t.nodeName+u+(s?"":" - "+p.getOuterHtml(t));
};
return"collapsed: "+this.isCollapsed()+"\nstart: "+r(this.startContainer,this.startOffset)+"\nend: "+r(this.endContainer,this.endOffset)+"\ncommon: "+r(this.commonAncestorContainer);
},_pointPairToCompare:function(r){return b.DomRange.START_TO_START==r?"StartToStart":b.DomRange.START_TO_END==r?"EndToStart":b.DomRange.END_TO_END==r?"EndToEnd":b.DomRange.END_TO_START==r?"StartToEnd":"";
},_setStartRangeAtNodeOffset:function(x,y,v){var t=h(this.range);
var A=t.body.createTextRange();
if(p.isTextNode(x)){var z=this._createTempNode(t);
x.parentNode.insertBefore(z,x);
this._selectTempNode(A,z);
A.moveStart("character",y);
}else{var s=x.childNodes;
if(y<s.length){var r=s[y];
if(p.isTextNode(r)){var B=this._createTempNode(t);
x.insertBefore(B,r);
this._selectTempNode(A,B);
}else{A.moveToElementText(s[y]);
}}else{if(y==s.length){var w=s.length==0;
try{if(w){x.innerHTML="a";
}}catch(u){w=false;
}A.moveToElementText(x);
A.collapse(false);
if(w){x.innerHTML="";
}}}}return A;
},normalizeEdges:function(){if(this.endContainer.nodeType==3&&this.endContainer.nodeValue.length==this.endOffset){this._snapToSibling("nextSibling");
}if(this.endContainer.nodeType==3&&this.endOffset==0){this._snapToSibling("previousSibling");
}if(this.startContainer.nodeType==3&&this.startOffset==0&&p.findNodeIndex(this.startContainer)==0){this.startContainer=this.startContainer.parentNode;
if(this.range.setStart){this.range.setStart(this.startContainer,0);
}}if(this._isBrowserRangeCollapsed()){this.startContainer=this.endContainer;
this.startOffset=this.endOffset;
}else{if(p.isTextNode(this.startContainer)&&this.startOffset==this.startContainer.nodeValue.length){var r=this.startContainer,s;
while(r&&!(s=r.nextSibling)){r=r.parentNode;
}if(r&&s){this.startContainer=s;
this.startOffset=0;
}}}this._calculateRangeProperties();
},_snapToSibling:function(r){var s=r=="nextSibling";
var t=this.endContainer;
this.endContainer=this.endContainer.parentNode;
this.endOffset=t[r]?p.findNodeIndex(!s?t:t[r]):(s?this.endContainer.childNodes.length:0);
if(this.range.setEnd){this.range.setEnd(this.endContainer,this.endOffset);
}},_isControlRange:function(){return !!this.range.length;
},_updateBrowserRange:function(){if(this._isControlRange()||p.isTag(this.startContainer,"textarea")){return this.range;
}this._updateBrowserRangeStart();
this._updateBrowserRangeEnd();
this._updateBrowserRangeStart();
return this.range;
},_updateBrowserRangeStart:function(){var r=this.startContainer;
var s=this.startOffset;
if(this.range.setStart){this.range.setStart(r,s);
}else{this.range.setEndPoint("StartToStart",this._setStartRangeAtNodeOffset(r,s));
}},_updateBrowserRangeEnd:function(){var r=this.endContainer;
var s=this.endOffset;
if(this.range.setEnd){this.range.setEnd(r,s);
}else{this.range.setEndPoint("EndToStart",this._setStartRangeAtNodeOffset(r,s,true));
}},_initialCalculateEdges:function(r){if(this.options.preventCalculateEdges){return;
}this._calculateEdge(true,r);
this._calculateEdge(false,r);
this._fixIE_plainTextStartOffset();
this._calculateRangeProperties();
},_fixIE_plainTextStartOffset:function(){var r=this.range.htmlText;
if(r===o||c(r)){return;
}if(this.startContainer===this.endContainer&&(this.endOffset-this.startOffset)>r.length){this.startOffset=this.endOffset-r.length;
}},_calculateEdges:function(r){this._updateBrowserRange();
this._initialCalculateEdges(r);
},_calculateEdge:function(B,J){var L=this.range;
var z=this._isBrowserRangeCollapsed();
var t=h(L);
var r=B?"startContainer":"endContainer";
var G=B?"startOffset":"endOffset";
var u=L[r];
var v=L[G]||0;
if(!u){if(L.length){var D=L.item(0);
u=D.parentNode;
v=p.findNodeIndex(D)+(B?0:1);
}else{var M,w;
var s=L.duplicate();
s.collapse(B);
var I=s.parentElement(),A=I.childNodes.length==0;
if(!p.canHaveChildren(I)||p.isTag(I,"textarea")){u=I;
}else{M=this._createTempNode(t);
w=B?"StartToStart":"StartToEnd";
this._traverseToEdgeNode(w,I,s,M,0);
u=A?I:M.nextSibling;
}if(!u){if(B&&!z){I.removeChild(M);
var H=I;
while(H==I&&this._moveCursorByCharacter(s)){I=s.parentElement();
}this._traverseToEdgeNode(w,I,s,M,0);
u=M.nextSibling;
}if(!u){var K=M.previousSibling;
if(!J&&K&&p.isTextNode(K)){this[r]=K;
this[G]=K.length||K.data.length||K.nodeValue.length;
}else{if(!this.startContainer){this.startContainer=I;
this.startOffset=p.findNodeIndex(M);
}this.endContainer=I;
this.endOffset=I[I.nodeType===1?"childNodes":"nodeValue"].length-1;
}I.removeChild(M);
return;
}}if(M){I.removeChild(M);
}s.setEndPoint(B?"EndToStart":"EndToEnd",L);
if(p.isTextNode(u)){var N=s.text,C=0,E=u.nodeValue,O=e(N),F=n(E),P=n(N),x=E.indexOf(N),y=F.indexOf(P);
if(x==-1&&y>-1){C=f(E,N)-O;
}v=Math.max(y,0)+N.length+C;
}else{if(r=="startContainer"&&p.isAncestorOrSelf(u,L.parentElement())||(A&&r=="endContainer")){v=0;
}else{v=p.findNodeIndex(u);
u=u.parentNode;
}}}}this[r]=u;
this[G]=v;
},_traverseToEdgeNode:function(t,v,s,x,u){var w=this.range,r=1;
do{v.insertBefore(x,x.previousSibling);
s.moveToElementText(x);
r=s.compareEndPoints(t,w);
}while(x.previousSibling&&r>u);
return r;
},_calculateRangeProperties:function(){this.commonAncestorContainer=p.findCommonAncestor(this.startContainer,this.endContainer);
this.collapsed=this.startContainer==this.endContainer&&this.startOffset==this.endOffset;
},_getBrowserRangeParent:function(){var r=this.range;
if(r.commonAncestorContainer){return r.commonAncestorContainer;
}else{if(r.commonParentElement){return r.commonParentElement();
}else{if(r.parentElement){return r.parentElement();
}else{if(r.length){return r.item(0).parentNode;
}else{return null;
}}}}},_isBrowserRangeCollapsed:function(){var s=this.range;
try{if(s.isCollapsed){return s.isCollapsed();
}else{if(s.collapsed!==o){return s.collapsed;
}else{if(s.length!==o){return s.length==0;
}else{if(s.text!==o){return s.text==""&&!d(s.htmlText);
}else{return this.toString()=="";
}}}}}catch(r){return true;
}},_moveCursorByCharacter:function(r){this._storeCursorPosition(r);
r.move("character");
return this._cursorHasMoved(r);
},_storeCursorPosition:function(r){this._cursorPos=this._getCursorPos(r);
},_cursorHasMoved:function(r){var t=this._cursorPos;
var s=this._getCursorPos(r);
return s.x!=t.x||s.y!=t.y;
},_getCursorPos:function(r){return{x:r.offsetLeft,y:r.offsetTop};
},_createTempNode:function(r){var s=r.createElement("span");
s.innerHTML="&#x200b;";
return s;
},_selectTempNode:function(r,s){r.moveToElementText(s);
s.parentNode.removeChild(s);
}};
b.DomRangeMemento=function(t){var s=b.DomRange.toDomRange(t);
this.collapsed=s.isCollapsed();
if(!p.isTextNode(s.startContainer)&&s.startContainer.childNodes[s.startOffset]&&!p.isTextNode(s.startContainer.childNodes[s.startOffset])){this.startContainer=s.startContainer.childNodes[s.startOffset];
this.startOffset=false;
}else{this.startContainer=s.startContainer;
this.startOffset=s.startOffset;
}if(!p.isTextNode(s.endContainer)&&s.endContainer.childNodes[s.endOffset]&&!p.isTextNode(s.endContainer.childNodes[s.endOffset])){this.endContainer=s.endContainer.childNodes[s.endOffset];
this.endOffset=false;
}else{if(!p.isTextNode(s.endContainer)&&!p.isTag(s.endContainer,"img")&&s.endContainer.childNodes>0&&!s.endContainer.childNodes[s.endOffset]){this.endContainer=s.endContainer;
this.endOffset="outside";
}else{this.endContainer=s.endContainer;
this.endOffset=s.endOffset;
}}};
b.DomRangeMemento.prototype={restoreToRange:function(s){this.compensateOffsetInIE9();
this.restoreStart(s);
if(this.endOffset===false){s.setEndBefore(this.endContainer);
}else{if(this.endOffset=="outside"){s.setEnd(this.endContainer,Math.max(1,this.endContainer.childNodes.length-1));
}else{s.setEnd(this.endContainer,this.endOffset);
}}this.restoreStart(s);
if(this.collapsed){s.collapse();
}s.select();
},restoreStart:function(r){if(this.startOffset===false){r.setStartBefore(this.startContainer);
}else{r.setStart(this.startContainer,this.startOffset);
}},compensateOffsetInIE9:function(){if(!$telerik.isIE9){return;
}if(this.beginsWithWhitespace(this.startContainer)){this.startOffset++;
}if(this.beginsWithWhitespace(this.endContainer)){this.endOffset++;
}},beginsWithWhitespace:function(r){return p.isTextNode(r)&&/^\s/.test(r.nodeValue);
}};
function e(r){var s=r.match(/\n/g);
return(s&&s.length)||0;
}var k="\n";
function f(v,r){var u=0;
var s=r.length;
for(var t=0;
t<s;
t++){var w=v[t+u];
if(w!==r[t]&&w===k){u++;
}}return u;
}function n(r){return r.replace(/\n/g,"");
}function c(r){return r.indexOf("<")<r.indexOf(">");
}var m=/^<[^>]+>$/;
var j=/^<[\s\S]+>$/;
var l=/^<[^<]+>$/;
function d(r){return j.test(r)&&(m.test(r)||!l.test(r));
}})(Telerik.Web.UI.Editor,$telerik.$,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a,g,f){function d(j){var i=j.startContainer||(j.commonParentElement?j.commonParentElement():(j.length?j.item(0):j.parentElement()));
return i.nodeType==9?i:i.ownerDocument;
}function h(i){return i.defaultView||i.parentWindow;
}function e(j){if(!j){j=window;
}var i=j.document;
if(j.getSelection||i.getSelection){return j.getSelection()||i.getSelection();
}else{return null;
}}function c(){var i=e();
return i?document.createRange():document.selection?(document.selection.type=="None"?document.body.createTextRange():document.selection.createRange()):null;
}b.DomRangeExplicit=function(j,i){this.options=a.extend({preventCalculateEdges:false},i||{});
this.range=j;
this._calculateEdges();
};
b.DomRangeExplicit.START_TO_START=0;
b.DomRangeExplicit.START_TO_END=1;
b.DomRangeExplicit.END_TO_END=2;
b.DomRangeExplicit.END_TO_START=3;
b.DomRangeExplicit.toDomRange=function(i){return(b.DomRangeExplicit.isInstanceOfType(i))?i:new b.DomRangeExplicit(i);
};
b.DomRangeExplicit.createRange=function(i){return new b.DomRangeExplicit(c(i));
};
b.DomRangeExplicit.rangeFromWindow=function(l){if(!l){return null;
}var i=l.document;
var k=e(l);
if(k){if(k.rangeCount<1){return null;
}var j;
if(k.getRangeAt){j=k.getRangeAt(0);
}else{j=i.createRange();
j.setStart(k.anchorNode,k.anchorOffset);
j.setEnd(k.focusNode,k.focusOffset);
}return new b.DomRangeExpicit(j);
}else{if(i.selection){return new b.DomRangeExpicit(i.selection.createRange());
}}return null;
};
b.DomRangeExplicit.prototype={selectNodeContents:function(i){var j=this.range;
if(j.selectNodeContents){j.selectNodeContents(i);
}else{if(this.range.length){this.range.addElement(i);
}else{if(j.moveToElementText){this.setEnd(i,i[i.nodeType===1?"childNodes":"nodeValue"].length);
this.setStart(i,0);
}}}this._calculateEdges(true);
},selectNode:function(i){var j=this.range;
if(j.selectNode){j.selectNode(i);
}else{if(j.length){j.addElement(i);
}else{if(j.moveToElementText){j.moveToElementText(i);
}}}this._calculateEdges(true);
},setStart:function(i,j){if(this.range.setStart){this.range.setStart(i,j);
}else{this.range.setEndPoint("StartToStart",this._setStartRangeAtNodeOffset(i,j));
}this._calculateEdges();
},setEnd:function(i,j){if(this.range.setEnd){this.range.setEnd(i,j);
}else{this.range.setEndPoint("EndToStart",this._setStartRangeAtNodeOffset(i,j,true));
}this._calculateEdges();
},setStartBefore:function(i){var j=this.range;
if(j.setStartBefore){j.setStartBefore(i);
this._calculateEdges();
}else{this.setStart(i.parentNode,g.findNodeIndex(i));
}},setStartAfter:function(i){var j=this.range;
if(j.setStartAfter){j.setStartAfter(i);
this._calculateEdges();
}else{this.setStart(i.parentNode,g.findNodeIndex(i)+1);
}},setEndBefore:function(i){var j=this.range;
if(j.setEndBefore){j.setEndBefore(i);
this._calculateEdges();
}else{this.setEnd(i.parentNode,g.findNodeIndex(i));
}},setEndAfter:function(i){var j=this.range;
if(j.setEndAfter){j.setEndAfter(i);
this._calculateEdges();
}else{this.setEnd(i.parentNode,g.findNodeIndex(i)+1);
}},insertNode:function(m){if(this.range.insertNode){this.range.insertNode(m);
}else{if(this.range.pasteHTML){var i=d(this.range);
var o=this.range.duplicate();
var n=this.range.duplicate();
var j=this.range.duplicate();
this.range.collapse(true);
this.range.pasteHTML("<span id='__insertNodeBefore'>a</span><span id='__insertNodeAfter'>b</span>");
var l=a("span[id=__insertNodeBefore]",i)[0];
var k=a("span[id=__insertNodeAfter]",i)[0];
k.parentNode.insertBefore(m,k);
n.moveToElementText(l);
j.moveToElementText(k);
this.range.setEndPoint("EndToEnd",o.compareEndPoints("EndToEnd",j)==1?o:j);
this.range.setEndPoint("StartToStart",o.compareEndPoints("StartToStart",n)==-1?o:n);
k.parentNode.removeChild(k);
l.parentNode.removeChild(l);
}}},extractContents:function(){if(this.range.extractContents){return this.range.extractContents();
}else{var j=document;
var k=j.createDocumentFragment();
var i=j.createElement("div");
i.innerHTML=this.getHtml();
while(i.childNodes.length){k.appendChild(i.firstChild);
}this.range.pasteHTML("");
return k;
}},deleteContents:function(){var i=this.range;
if(i.deleteContents){i.deleteContents();
}else{this.extractContents();
}},cloneRange:function(){if(this.range.cloneRange){return new b.DomRangeExplicit(this.range.cloneRange(),this.options);
}else{if(this.range.duplicate){return new b.DomRangeExplicit(this.range.duplicate(),this.options);
}else{if($telerik.isIE&&this.range.length){var i=this.cloneControlRange(this.range);
if(i){return new b.DomRangeExplicit(i,this.options);
}}}}return null;
},cloneControlRange:function(k){var n=k.length;
if(n){var m=k.item(0);
var j=m.ownerDocument.body;
k=j.createControlRange();
for(var l=0;
l<n;
l++){k.addElement(this.range.item(l));
}return k;
}return null;
},compareBoundaryPoints:function(i,k){if(this.range.compareBoundaryPoints){var j=this.range.compareBoundaryPoints(i,k.range);
return j;
}else{if(this.range.compareEndPoints){return this.range.compareEndPoints(this._pointPairToCompare(i),k.range);
}else{return 0;
}}},collapse:function(i){this.range.collapse(i);
this._calculateEdges();
},isCollapsed:function(){var i=this.range;
if(i.isCollapsed){return i.isCollapsed();
}else{if(i.collapsed!=f){return i.collapsed;
}else{if(i.length!=f){return i.length==0;
}else{if(i.htmlText!==f){return i.htmlText=="";
}else{return this.toString()=="";
}}}}},surroundContents:function(i){if(this.range.surroundContents){i.appendChild(this.range.extractContents());
this.range.insertNode(i);
}else{i.innerHTML=this.range.htmlText;
this.range.pasteHTML(i.outerHTML);
}},toString:function(){if(this.range.text!=f){return this.range.text;
}else{if(this.range.toString){return this.range.toString();
}else{return"";
}}},inRange:function(i){if(this.range.inRange){return this.range.inRange(i.range);
}else{var k=this.compareBoundaryPoints(b.DomRangeExplicit.START_TO_START,i);
var j=this.compareBoundaryPoints(b.DomRangeExplicit.END_TO_END,i);
return k<1&&j>-1;
}},getParentElement:function(){var i=this.range;
if(i.commonAncestorContainer){return i.commonAncestorContainer;
}else{if(i.commonParentElement){return i.commonParentElement();
}else{if(i.parentElement){return i.parentElement();
}else{if(i.length){return i.item(0).parentNode;
}else{return null;
}}}}},getText:function(){return this.toString();
},getHtml:function(){if(this.range.cloneContents){var j=this.range.cloneContents();
var i=j.ownerDocument.createElement("div");
i.appendChild(j);
return i.innerHTML;
}else{if(this.range.length){return this.range.item(0).outerHTML;
}else{return this.range.htmlText||"";
}}},pasteHTML:function(k){if(this.range.pasteHTML){this.range.pasteHTML(k);
}else{if(this.range.extractContents){var i=this.range.extractContents().ownerDocument;
var j=i.createElement("div");
j.innerHTML=k;
while(j.childNodes.length){this.range.insertNode(j.firstChild);
}}}},setCursorInEmptyNode:function(j){j.innerHTML="&#x200b;";
this.setStart(j,0);
try{this.setEnd(j,0);
}catch(i){this.setEnd(j,1);
}finally{if(!$telerik.isOpera){if(!$telerik.isIE||$telerik.isIE9Mode){this.selectNodeContents(j);
}if(!$telerik.isIE){this.deleteContents();
}}this.collapse(!$telerik.isIE||$telerik.isIE9Mode);
this.select();
if(!$telerik.isOpera){j.innerHTML="";
}}},moveStart:function(o,j){if(this.range.moveStart){return this.range.moveStart(o,j);
}else{var k=d(this.range);
var n=k.defaultView.getSelection();
var m;
if(n.modify){var i=this.cloneRange();
i.collapse(true);
i.select();
if(j>0){while(j-->0){m=n.modify("move","forward",o);
}}else{while(j++<0){m=n.modify("move","backward",o);
}}var l=n.getRangeAt(0);
i=this.cloneRange();
this.setStart(l.startContainer,l.startOffset);
i.select();
return m;
}else{return 0;
}}},moveEnd:function(o,j){if(this.range.moveEnd){return this.range.moveEnd(o,j);
}else{var k=d(this.range);
var n=k.defaultView.getSelection();
var m;
if(n.modify){var i=this.cloneRange();
i.collapse(false);
i.select();
if(j>0){while(j-->0){m=n.modify("move","forward",o);
}}else{while(j++<0){m=n.modify("move","backward",o);
}}var l=n.getRangeAt(0);
i=this.cloneRange();
this.setEnd(l.endContainer,l.endOffset);
i.select();
return m;
}else{return 0;
}}},moveToElementText:function(l){var m=this.range;
var i=d(m);
var o=this._createTempNode(i);
var k=this._createTempNode(i);
var n=m.duplicate();
var j=m.duplicate();
l.insertBefore(o,l.firstChild);
l.appendChild(k);
n.moveToElementText(o);
j.moveToElementText(k);
m.setEndPoint("EndToEnd",j);
m.setEndPoint("StartToEnd",n);
l.removeChild(o);
l.removeChild(k);
},snapToRange:function(i,j){var k=j.range;
if(this.range.setEndPoint){i=b.DomRangeExplicit.START_TO_START==i?"StartToStart":b.DomRangeExplicit.START_TO_END==i?"StartToEnd":b.DomRangeExplicit.END_TO_END==i?"EndToEnd":b.DomRangeExplicit.END_TO_START==i?"EndToStart":"";
this.range.setEndPoint(i,k);
this._calculateEdges();
}else{switch(i){case b.DomRangeExplicit.START_TO_START:this.setStart(k.startContainer,k.startOffset);
break;
case b.DomRangeExplicit.START_TO_END:this.setStart(k.endContainer,k.endOffset);
break;
case b.DomRangeExplicit.END_TO_END:this.setEnd(k.endContainer,k.endOffset);
break;
case b.DomRangeExplicit.END_TO_START:this.setEnd(k.startContainer,k.startOffset);
break;
}}},select:function(){if(this.range.select){this.range.select();
}else{var i=d(this.range);
var k=h(i);
if(k.getSelection||i.getSelection){var j=k.getSelection?k.getSelection():i.getSelection();
j.removeAllRanges();
j.addRange(this.range);
}}},_pointPairToCompare:function(i){return b.DomRangeExplicit.START_TO_START==i?"StartToStart":b.DomRangeExplicit.START_TO_END==i?"EndToStart":b.DomRangeExplicit.END_TO_END==i?"EndToEnd":b.DomRangeExplicit.END_TO_START==i?"StartToEnd":"";
},_setStartRangeAtNodeOffset:function(m,n,l){var k=d(this.range);
var p=k.body.createTextRange();
if(g.isTextNode(m)){var o=this._createTempNode(k);
m.parentNode.insertBefore(o,m);
this._selectTempNode(p,o);
p.moveStart("character",n+($telerik.isIE9&&l&&/^\s/.test(m.nodeValue)?1:0));
}else{var j=m.childNodes;
if(n<j.length){var i=j[n];
if(g.isTextNode(i)){var q=this._createTempNode(k);
if(l){if(i.nextSibling){m.insertBefore(q,i.nextSibling);
}else{m.appendChild(q);
}}else{m.insertBefore(q,i);
}p.moveToElementText(q);
m.removeChild(q);
}else{p.moveToElementText(j[n]);
}}else{if(n==j.length){p.moveToElementText(m);
p.collapse(!l);
}}}return p;
},normalizeEdges:function(){if(this.endContainer.nodeType==3&&this.endContainer.nodeValue.length==this.endOffset){this._snapToSibling("nextSibling");
}if(this.endContainer.nodeType==3&&this.endOffset==0){this._snapToSibling("previousSibling");
}if(this.startContainer.nodeType==3&&this.startOffset==0&&g.findNodeIndex(this.startContainer)==0){this.startContainer=this.startContainer.parentNode;
if(this.range.setStart){this.range.setStart(this.startContainer,0);
}}if(this.isCollapsed()){this.startContainer=this.endContainer;
this.startOffset=this.endOffset;
}else{if(g.isTextNode(this.startContainer)&&this.startOffset==this.startContainer.nodeValue.length){var i=this.startContainer,j;
while(i&&!(j=i.nextSibling)){i=i.parentNode;
}if(i&&j){this.startContainer=j;
this.startOffset=0;
}}}this.commonAncestorContainer=this.range.commonAncestorContainer||g.findCommonAncestor(this.startContainer,this.endContainer);
},_snapToSibling:function(i){var j=this.endContainer;
this.endContainer=this.endContainer.parentNode;
this.endOffset=j[i]?g.findNodeIndex(j[i]):(i=="nextSibling"?this.endContainer.childNodes.length:0);
if(this.range.setEnd){this.range.setEnd(this.endContainer,this.endOffset);
}},_calculateEdges:function(i){if(this.options.preventCalculateEdges){return;
}this._calculateEdge(true,i);
this._calculateEdge(false,i);
this.commonAncestorContainer=this.range.commonAncestorContainer||g.findCommonAncestor(this.startContainer,this.endContainer);
this.collapsed=this.isCollapsed();
},_calculateEdge:function(p,u){var w=this.range;
var o=this.isCollapsed();
var k=d(w);
var i=p?"startContainer":"endContainer";
var r=p?"startOffset":"endOffset";
var l=w[i];
var m=w[r]||0;
if(!l){if(w.length){var q=w.item(0);
l=q.parentNode;
m=g.findNodeIndex(q)+(p?0:1);
}else{var j=w.duplicate();
j.collapse(p);
var t=j.parentElement();
var x,n;
if(g.isTag(t,"br")){l=t;
}else{x=this._createTempNode(k);
n=p?"StartToStart":"StartToEnd";
do{t.insertBefore(x,x.previousSibling);
j.moveToElementText(x);
}while(x.previousSibling&&j.compareEndPoints(n,w)>0);
l=x.nextSibling;
}if(!l){if(p&&!o){t.removeChild(x);
var s=t;
while(s==t&&this._moveCursorByCharacter(j)){t=j.parentElement();
}do{t.insertBefore(x,x.previousSibling);
j.moveToElementText(x);
}while(x.previousSibling&&j.compareEndPoints(n,w)>0);
l=x.nextSibling;
}if(!l){var v=x.previousSibling;
if(!u&&v&&g.isTextNode(v)){this[i]=v;
this[r]=v.nodeValue.length;
}else{if(!this.startContainer){this.startContainer=t;
this.startOffset=0;
}this.endContainer=t;
this.endOffset=t[t.nodeType===1?"childNodes":"nodeValue"].length-1;
}t.removeChild(x);
return;
}}if(x){t.removeChild(x);
}j.setEndPoint(p?"EndToStart":"EndToEnd",w);
if(g.isTextNode(l)){m=j.text.length;
}else{if(i=="startContainer"&&g.isAncestorOrSelf(l,w.parentElement())){m=0;
}else{m=g.findNodeIndex(l);
l=l.parentNode;
}}}}this[i]=l;
this[r]=m;
},_moveCursorByCharacter:function(i){this._storeCursorPosition(i);
i.move("character");
return this._cursorHasMoved(i);
},_storeCursorPosition:function(i){this._cursorPos=this._getCursorPos(i);
},_cursorHasMoved:function(i){var k=this._cursorPos;
var j=this._getCursorPos(i);
return j.x!=k.x||j.y!=k.y;
},_getCursorPos:function(i){return{x:i.offsetLeft,y:i.offsetTop};
},_createTempNode:function(i){var j=i.createElement("span");
j.innerHTML="&#x200b;";
return j;
},_selectTempNode:function(i,j){i.moveToElementText(j);
j.parentNode.removeChild(j);
}};
})(Telerik.Web.UI.Editor,$telerik.$,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d){var c=function(e){this.top=e;
};
c.prototype={extractBefore:function(e){return this._traverseSide({edge:e,next:function(f){return f.previousSibling;
},insert:function(f,g){f.insertBefore(g,f.firstChild);
}});
},extractAfter:function(e){return this._traverseSide({edge:e,next:function(f){return f.nextSibling;
},insert:function(f,g){f.appendChild(g);
}});
},_traverseSide:function(j){var l=this.top,g=l.ownerDocument,h=g.createDocumentFragment(),f=j.edge;
do{var k=f.parentNode;
f=j.next(f);
while(f){var i=j.next(f);
j.insert(h,f);
f=i;
}if(k!=l){var e=k.cloneNode(false);
e.innerHTML="";
e.appendChild(h);
j.insert(h,e);
}f=k;
}while(f&&f!=l);
return h;
}};
b.DomTreeExtractor=c;
b.DomTreeExtractor.registerClass("Telerik.Web.UI.Editor.DomTreeExtractor");
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,m){var n=b.Utils;
var c=n.canHaveChildren;
var l=n.isTextNode;
b.RangeEdges=function(){};
b.RangeEdges.startNode=function(o){if(k(o)){return j(o);
}};
b.RangeEdges.endNode=function(o){if(k(o)){return o.isCollapsed()?j(o):e(o);
}};
b.RangeEdges.commonNode=function(p){if(k(p)){var q=b.RangeEdges.startNode(p);
if(p.isCollapsed()){return q;
}var o=b.RangeEdges.endNode(p);
return n.findCommonAncestor(q,o);
}};
var j=function(q){var o=q.startContainer;
var p=q.startOffset;
if(!q.isCollapsed()&&l(o)&&o.length==p){o=h(o);
}o=d(o,p)||o;
return f(o);
};
var e=function(s){var q=s.endContainer;
var r=s.endOffset;
if(s.startOffset+1==s.endOffset&&s.startContainer==s.endContainer){q=d(q,s.startOffset)||q;
return g(q);
}if(l(q)&&r!=0){return q;
}var o=d(q,r);
if(o&&!c(o)&&o!=j(s)){return g(i(o));
}q=o||q;
if(!c(q)&&!(l(q)&&r==0)){return q;
}else{if(q.lastChild){var p=g(q);
if(p==j(s)){return p;
}}}if((l(q)&&r==0)||(q!=s.endContainer&&r!=0)){q=i(q);
}return g(q);
};
var d=function(q,o){if(c(q)){var p=q.childNodes;
return p.length==o?p[o-1]:p[o];
}};
var f=function(o){while(o.firstChild){o=o.firstChild;
}return o;
};
var g=function(o){while(o.lastChild){o=o.lastChild;
}return o;
};
var i=function(p){var o=false;
while(p.previousSibling&&n.isCompletelyEmptyDom(p.previousSibling)){p=p.previousSibling;
if(!l(p)&&!c(p)){return p;
}o=true;
}if(o&&p){return p;
}while(!p.previousSibling){p=p.parentNode;
}return p.previousSibling;
};
var h=function(o){while(!o.nextSibling){o=o.parentNode;
}return o.nextSibling;
};
var k=function(o){return o&&b.DomRange.isInstanceOfType(o);
};
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
Type.registerNamespace("Telerik.Web.UI.Editor.FragmentsCondition");
(function(a,b,d,c){b.RangeFragmentsTraverser=function(e){this.iterator=new b.RangeIterator(e);
this.range=this.iterator.range;
this.traversedFragments=[];
this.nodesToTraverse=[];
};
b.RangeFragmentsTraverser.prototype={traverseFragments:function(e){var f=this.nodesToTraverse;
this.iterator.iterate(function(g){f.push(g);
});
if(f.length==0){return;
}this.normalizeRangeEdgesForTables(e);
this.splitRangeEdges();
this.clearEmptyTextNodes(this.nodesToTraverse);
while(this.nodesToTraverse.length){this.collectNode(this.nodesToTraverse.shift(),e);
}this.removeDuplicatedEnd();
},collectNode:function(h,e){while(h&&this.isInRange(h)){if(!this.isSuitable(h,e)){this.removeTraversedNode(h);
if(h.firstChild){this.collectNode(h.firstChild,e);
}h=h.nextSibling;
continue;
}var f=new b.FragmentContainer();
var g=h;
while(g&&this.isSuitable(g,e)){if(e(g)){this.removeTraversedNode(g);
}h=g;
g=h.nextSibling;
f.addNode(h);
}this.storeFragment(f);
h=h?h.nextSibling:null;
}},storeFragment:function(e){if(e.nodes.length){this.traversedFragments.push(e);
}},isSuitable:function(f,e){return e(f)&&this.isInRange(f);
},isInRange:function(f){var g=this.range.cloneRange();
if(g.range.length){for(var e=0;
e<g.range.length;
e++){if(g.range.item(e)==f){return true;
}}return false;
}g.selectNodeContents(f);
return this.range.compareBoundaryPoints(Telerik.Web.UI.Editor.DomRange.END_TO_END,g)>-1&&this.range.compareBoundaryPoints(Telerik.Web.UI.Editor.DomRange.START_TO_START,g)<1;
},removeTraversedNode:function(e){var g=this.nodesToTraverse;
var f=a.inArray(e,g);
if(f!=-1){g.splice(f,1);
}},trimNodesToTraverse:function(){var f=this.nodesToTraverse;
for(var e=0;
e<f.length;
e++){if(d.isTextNode(f[e])){d.trimExtraWhitespace(f[e]);
}}},normalizeRangeEdgesForTables:function(e){var i=this.nodesToTraverse;
var h=i[i.length-1];
var k=function(l){return d.isTag(h,l);
};
var g=k("tr");
var f=k("table")||k("thead")||k("tbody");
var j=!e(h);
if(f&&j){this.substitudeLastNodeWithChildren(h.getElementsByTagName("tr"));
this.normalizeRangeEdgesForTables(e);
}if(g&&j){this.substitudeLastNodeWithChildren(h.childNodes);
}},substitudeLastNodeWithChildren:function(e){var g=this.nodesToTraverse;
g.pop();
for(var f=0;
f<e.length;
f++){g.push(e[f]);
}},splitRangeEdges:function(){var e=this.splitEnd(this.range.endContainer,this.range.endOffset);
var f=this.splitStart(this.range.startContainer,this.range.startOffset);
if(f){this.range.setStartBefore(f);
}if(e){this.range.setEndAfter(e);
}this.range.select();
},splitStart:function(f,g){if(d.isTextNode(f)){var j=f.data;
var h=f.parentNode;
if(g===f.length){return f.nextSibling;
}else{if(g>0&&g<f.length){var e=f.ownerDocument;
var i=e.createTextNode(j.substring(0,g));
f.data=j.substring(g);
h.insertBefore(i,f);
return f;
}}return f;
}return d.canHaveChildren(f)?f.childNodes[g]:f;
},splitEnd:function(i,j){if(d.isTextNode(i)){var l=i.data;
var k=i.parentNode;
if(j===0){return i.previousSibling;
}else{if(j>0&&j<i.length){var g=i.ownerDocument;
var h=g.createTextNode(l.substring(j));
i.data=l.substring(0,j);
k.insertBefore(h,i.nextSibling);
return i;
}}return i;
}if(d.canHaveChildren(i)){var e=i.childNodes;
var f=e[j-1];
return f||d.traversePreviousNode(i.firstChild);
}else{return i;
}},removeDuplicatedEnd:function(){var f=this.traversedFragments;
if(f.length<2){return;
}var e=f.length,g=f[e-1],h=g.nodes[0],i=f[e-2],j=i.nodes[i.nodes.length-1];
while(d.isAncestorOf(j,h)){g.removeNodeAt(0);
if(g.nodes.length==0){f.pop();
break;
}h=g.nodes[0];
}},clearEmptyTextNodes:function(g){for(var f=0;
f<g.length;
){var h=g[f];
if(d.isTextNode(h)&&h.nodeValue==""){var e=g.splice(f,1)[0];
if(e.parentNode){e.parentNode.removeChild(e);
}}else{f++;
}}}};
b.RangeFragmentsTraverser.registerClass("Telerik.Web.UI.Editor.RangeFragmentsTraverser");
b.BlockFragmentsTraverser=function(e){this.options=a.extend({breakCondition:b.FragmentsCondition.isInlineNode},e||{});
this.currentFragment=new b.FragmentContainer();
};
b.BlockFragmentsTraverser.prototype={traverseFragment:function(f,g){if(!g){g=this.options.breakCondition;
}var e=this.currentFragment;
this.traverseLeft(f,g);
e.addNode(f);
this.traverseRight(f,g);
return e;
},traverseLeft:function(h,i){var e=this.currentFragment;
var f=h;
var g=[];
while((f=f.previousSibling)&&i(f)){g.push(f);
}while(g.length){e.addNode(g.pop());
}},traverseRight:function(g,h){var e=this.currentFragment;
var f=g;
while((f=f.nextSibling)&&h(f)){e.addNode(f);
}}};
b.BlockFragmentsTraverser.registerClass("Telerik.Web.UI.Editor.BlockFragmentsTraverser");
b.FragmentsCondition.isInlineNode=function(e){return e.nodeType==3||!d.isBlockElement(e);
};
b.FragmentsCondition.isInlineTag=function(e){return function(f){return b.FragmentsCondition.isInlineNode(f)&&!d.isTag(f,e);
};
};
b.FragmentsCondition.isInlineNodeForIE8=function(e){return e.nodeType==3||!d.isBlockElementOrNewLine(e);
};
b.FragmentsCondition.inlineNotLink=b.FragmentsCondition.isInlineTag("a");
b.FragmentsCondition.inlineNotLinkForIE8=function(e){return b.FragmentsCondition.isInlineNodeForIE8(e)&&!d.isTag(e,"a");
};
b.FragmentContainer=function(){this.nodes=[];
};
b.FragmentContainer.prototype={addNode:function(e){this.nodes.push(e);
},addAll:function(f){for(var e=0;
e<f.length;
e++){this.addNode(f[e]);
}},addNodeAt:function(f,e){this.nodes.splice(e,0,f);
},removeNodeAt:function(e){this.nodes.splice(e,1);
},removeNode:function(f){var e=this.indexOf(f);
if(e!=-1){this.removeNodeAt(e);
}},contains:function(e){return this.indexOf(e)!=-1;
},indexOf:function(e){return a.inArray(e,this.nodes);
},getParent:function(){return this.nodes.length?this.nodes[0].parentNode:null;
},appendTo:function(g){var h=this.nodes,e,f;
for(e=0,f=h.length;
e<f;
e++){g.appendChild(h[e]);
}},insertBefore:function(f){var h=f.parentNode;
var g=this.nodes;
for(var e=0;
e<g.length;
e++){h.insertBefore(g[e],f);
}},insertBeforeFirst:function(e){if(!this.nodes.length){return;
}var f=this.getParent();
f.insertBefore(e,this.nodes[0]);
},appendNodeAfter:function(f){if(!this.nodes.length){return;
}var g=this.getParent();
var e=this.nodes[this.nodes.length-1];
g.insertBefore(f,e.nextSibling);
},remove:function(){var h=this.getParent();
if(!h){return;
}var g=this.nodes;
for(var e=0,f=g.length;
e<f;
e++){h.removeChild(g[e]);
}},clear:function(){this.nodes.length=0;
},isEmpty:function(e){return !d.some(this.nodes,function(f){return(d.isTag(f,"img")||!d.isWhitespaceNode(f))&&(!e||!e(f));
});
},all:function(e){return d.every(this.nodes,e);
},any:function(e){return d.some(this.nodes,e);
}};
b.FragmentContainer.registerClass("Telerik.Web.UI.Editor.FragmentContainer");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,g){var h=b.Utils;
var c=Telerik.Web.Browser;
var d=c.ie&&c.version<9;
var j="\u200b";
var f="_reSelectionEdge";
var e="_reSelectedElement";
var i=function(k,l){k.parentNode.insertBefore(l,k);
l.appendChild(k);
};
b.RangeHolder=function(){};
b.RangeHolder.prototype={markRangeEdges:function(q){var s=this;
var r=s._createMarker(q.startContainer.ownerDocument);
if(h.isTextNode(q.startContainer)&&h.isTextNode(q.endContainer)){s._markSelectedTextNodes(q);
}else{if(q.isCollapsed()||h.isZwspTextNode(b.RangeEdges.commonNode(q))){s._insertNode(r,q);
}else{var n=s._traverseFragments(q);
if(n.length==0){return;
}var l=n[0];
var o=n[n.length-1];
var m=l.nodes[0];
var p=o.nodes[o.nodes.length-1];
if(h.isTableCell(m)&&m===p){a(m).addClass(e);
}else{var k=r.cloneNode(true);
l.insertBeforeFirst(r);
l.addNodeAt(r,0);
o.appendNodeAfter(k);
o.addNode(k);
}}}},selectWithinMarkers:function(n){if(!n||!n.length){return;
}var q=this,p=n[0],m=n[1],l=p.ownerDocument,o=b.DomRange.rangeFromWindow(l.defaultView)||b.DomRange.createRange(l);
if(!m||m.previousSibling===p){a(m).remove();
if(p.getAttribute("startOffset")||p.getAttribute("endOffset")){q._setRangeEdge(o,p,true);
q._setRangeEdge(o,p,false);
if(!p.getAttribute("startOffset")){o.collapse();
}h.removeNode(p);
o.select();
}else{this._restoreCollapsedRange(o,p);
}}else{if(m&&p.getAttribute("startOffset")&&m.getAttribute("endOffset")){q._setRangeEdge(o,p,true);
q._setRangeEdge(o,m,false);
h.removeNode(p);
h.removeNode(m);
o.select();
}else{var k=new b.Consolidator();
if(!k.normalizeTextEdge(p,o,true)){o.setStartAfter(p);
}if(!k.normalizeTextEdge(m,o,false)){o.setEndBefore(m);
}o.select();
a(n).remove();
}}},_setRangeEdge:function(o,k,p){var n=p?"startOffset":"endOffset";
var m=p?"setStart":"setEnd";
var l=parseInt(k.getAttribute(n),10);
if(!isNaN(l)){o[m](k.firstChild,l);
}},get_markerSelector:function(){return"span."+f;
},_restoreCollapsedRange:function(q,m){var o=m.parentNode;
var k=new b.Consolidator();
var p=m.previousSibling;
var n=m.nextSibling;
if(k.normalizeTextEdge(m,q)){q.collapse();
}else{if(h.isTextNode(n)||(!p&&h.canHaveChildren(n))){q.setStart(n,0);
q.collapse(true);
}else{if(h.isTextNode(p)){q.setStart(p,p.length);
q.collapse(true);
}else{var r=d?j+j:j;
var l=m.ownerDocument.createTextNode(r);
o.insertBefore(l,m);
q.setEnd(l,r.length-1);
q.collapse();
}}}a(m).remove();
q.select();
},_traverseFragments:function(l){var m=new b.RangeFragmentsTraverser(l);
var k=a.proxy(this._traverseCondition,this);
m.traverseFragments(k);
return m.traversedFragments;
},_traverseCondition:function(k){return b.FragmentsCondition.isInlineNode(k)&&!h.isWhitespaceBetweenTableCells(k);
},_createMarker:function(k){var l=k.createElement("span");
l.className=f;
return l;
},_markSelectedTextNodes:function(o){var q=this;
var n=o.startContainer.ownerDocument;
var m=q._createMarker(n);
var k=o.commonAncestorContainer;
if(h.isTextNode(k)){m.setAttribute("startOffset",o.startOffset);
m.setAttribute("endOffset",o.endOffset);
i(k,m);
}else{if(h.isTextNode(o.startContainer)&&h.isTextNode(o.endContainer)){var p=m;
var l=m.cloneNode(true);
p.setAttribute("startOffset",o.startOffset);
i(o.startContainer,p);
l.setAttribute("endOffset",o.endOffset);
i(o.endContainer,l);
}}},_insertNode:function(l,m){var k=b.RangeEdges.commonNode(m);
if(h.isZwspTextNode(k)){k.parentNode.insertBefore(l,k.nextSibling);
}else{var n=new b.Selection(k.ownerDocument.defaultView);
n.insertNode(l,m);
}}};
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.RangeIterator=function(f,e){this.options=a.extend({normalizeEdges:$telerik.isIE&&!$telerik.isIE9Mode},e||{});
f=this.range=b.DomRange.toDomRange(f);
if(this.range.isCollapsed()){return;
}this._normalizeRangeEdges();
var g=f.commonAncestorContainer;
this._next=f.startContainer==g&&!d.isTextNode(f.startContainer)?f.startContainer.childNodes[f.startOffset]:d.findAncestorUntil(g,f.startContainer);
this._end=f.endContainer==g&&!d.isTextNode(f.endContainer)?f.endContainer.childNodes[f.endOffset]:d.findAncestorUntil(g,f.endContainer).nextSibling;
};
b.RangeIterator.prototype={iterate:function(e){var f=this.nextNode();
while(f){if(this._hasSubTree(f)){this._buildSubTraverser(f).iterate(e);
}else{e(f);
}f=this.nextNode();
}},nextNode:function(){var e=this._next;
this._next=e&&e.nextSibling!=this._end?e.nextSibling:null;
return e;
},_hasSubTree:function(e){return !d.isTextNode(e)&&d.canHaveChildren(e)&&(d.isAncestorOrSelf(e,this.range.startContainer)||d.isAncestorOrSelf(e,this.range.endContainer));
},_buildSubTraverser:function(e){var f=this.range.cloneRange();
f.selectNodeContents(e);
if(d.isAncestorOrSelf(e,this.range.startContainer)){f.setStart(this.range.startContainer,this.range.startOffset);
}if(d.isAncestorOrSelf(e,this.range.endContainer)){f.setEnd(this.range.endContainer,this.range.endOffset);
}return new b.RangeIterator(f,a.extend({},this.options));
},_normalizeRangeEdges:function(){if(this.options.normalizeEdges){this.range.normalizeEdges();
}},_collectEdgeNode:function(f,g,e){return d.isTextNode(f)||(e&&d.isTextNode(f.childNodes[g]))?f:f.childNodes[g];
}};
b.RangeIterator.registerClass("Telerik.Web.UI.Editor.RangeIterator");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.RangeTraverser=function(e){this.iterator=new b.RangeIterator(e);
this.range=this.iterator.range;
this.traversedNodes=[];
};
b.RangeTraverser.prototype={traverse:function(){var f=this.traversedNodes;
var e=function(g){if(g.nodeType==3||g.tagName.toLowerCase()=="img"){f.push(g);
}else{g=g.firstChild;
while(g){e(g);
g=g.nextSibling;
}}};
this.iterator.iterate(e);
}};
b.RangeTraverser.registerClass("Telerik.Web.UI.Editor.RangeTraverser");
b.RangeBlockTraverser=function(f,e){this.iterator=new b.RangeIterator(f);
this.range=this.iterator.range;
this.options=a.extend({isSuitableNode:d.isBlockElement},e||{});
this.traversedNodes=[];
};
b.RangeBlockTraverser.prototype={traverse:function(i){i=i||Function.emptyFunction;
var g=this.traversedNodes;
this.iterator.iterate(function(j){g.push(j);
});
if(!g.length){var h=this.range;
var f=[d.isTextNode(h.startContainer)?h.startContainer:h.startContainer.childNodes[h.startOffset],d.isTextNode(h.endContainer)?h.endContainer:h.endContainer.childNodes[h.endOffset],h.commonAncestorContainer];
while(f.length!=0&&g.length==0){var e=f.shift();
if(e&&!i(e)){g.push(e);
}}}this.edgesToBlock(g,i);
return g;
},edgesToBlock:function(n,q){var p=this.options;
var k=p.isSuitableNode;
var f=function(i){return d.getConditionalParentUntil(i,k,q);
};
var m=n.length-1;
var h=n[0]=f(n[0]);
var l=n[m]=f(n[m]);
var e=h;
var g=function(i){if(k(i)){return true;
}var o=f(i);
if(i===o||(k(o)&&e!==o)){e=o;
return o;
}};
for(var j=1;
j<n.length-1;
j++){if(!g(n[j])){n.splice(j,1);
j--;
}}e=l;
for(var r=n.length-2;
r>0;
r--){if(g(n[r])){break;
}n.splice(r,1);
r++;
}}};
b.RangeBlockTraverser.registerClass("Telerik.Web.UI.Editor.RangeBlockTraverser");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
(function(a,o){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI,b=c.Editor,d=40,l="reIconSelected",m="reToolText",f="reTabIcon",k="reMore",e="click",j="load",g="itemSelected",i="itemsListShowing",n='<span class="reButton">	<span class="'+m+'">#titleText#</span>	<span class="'+k+'">		<span class="'+f+' reIconMore"></span>	</span></span><div style="display: none;" class="reTabChooserOverlay"> </div><ul class="reToolList reToolDropDown" style="display: none">#items#</ul>',h='<li>	<span class="'+m+'">#itemText#</span>	<span class="'+f+' #selectedIconClass#"></span></li>';
b.TabChooser=function(p){b.TabChooser.initializeBase(this,[p]);
};
b.TabChooser.prototype={initialize:function(){var p=this;
b.TabChooser.callBaseMethod(p,"initialize");
p._createUI();
p._attachEventHandlers();
p.raiseEvent(j);
},_createUI:function(){var r=this,q=r.get_items(),p=n.replace("#titleText#",q[0]||"&nbsp;").replace("#items#",r._getItemsHtml());
a(r.get_element()).html(p);
},_getItemsHtml:function(){var r=this.get_items(),p="";
for(var q=0,s=r.length;
q<s;
q++){p+=h.replace("#itemText#",r[q]).replace("#selectedIconClass#",q==0?l:"");
}return p;
},_attachEventHandlers:function(){var p=this;
p._onMoreIconClickDelegate=Function.createDelegate(p,p._onMoreIconClick);
p._itemClickDelegate=Function.createDelegate(p,p._onItemClick);
p._overlayClickDelegate=Function.createDelegate(p,p._onOverlayClick);
a(p.get_buttonElement()).on(e,p._onMoreIconClickDelegate);
a(p.get_itemsContainer()).on(e,p._itemClickDelegate);
a(p.get_overlayElement()).on(e,p._overlayClickDelegate);
},_detachEventHandlers:function(){var p=this;
a(p.get_buttonElement()).off(e,p._onMoreIconClickDelegate);
a(p.get_itemsContainer()).off(e,p._itemClickDelegate);
a(p.get_overlayElement()).off(e,p._overlayClickDelegate);
},_onMoreIconClick:function(q){$telerik.cancelRawEvent(q.originalEvent);
var p=new b.TabChooserEventArgs(this.get_itemsContainer());
this.raiseEvent(i,p);
this.showItemsList();
},_onItemClick:function(p){var s=this,q=s._getItemElement(p);
if(!s._isSelected(q)){var r=s.get_items()[a(q).index()];
s.selectTab(r);
}s.hideItemsList();
},_onOverlayClick:function(){this.hideItemsList();
},_getItemElement:function(p){var q=p.target;
if(q.nodeName!="LI"){q=q.parentNode;
}return q;
},get_listItemHeight:function(){var r=this;
if(!r._itemHeight){var q=r.get_itemsContainer();
var p=a(q).find("li:visible:first");
if(p.length>0){r._itemHeight=p.get(0).offsetHeight;
}else{p=a(h.replace("#itemText#","tmp item").replace("#selectedIconClass#","")).appendTo(q);
r._itemHeight=p.get(0).offsetHeight;
p.remove();
}}return r._itemHeight;
},_isSelected:function(p){return a("."+f,p).hasClass(l);
},selectTab:function(r){var s=this;
var q=a(s.get_itemsContainer());
var p=q.children().get(Array.indexOf(s.get_items(),r));
if(p){q.find("."+l).removeClass(l);
a(p).find("."+f).addClass(l);
s.raiseEvent(g,new b.TabChooserEventArgs(r));
}},selectContextualTab:function(r){var s=this;
var p=s._getContextualElement(r);
var q=s._getContextualTab(p)||s.get_defaultTab();
s.selectTab(q);
},_getContextualElement:function(q){var r=this._getTabsContextSelector();
var p=b.Utils.getElementParentByCondition(q,function(s){return a(s).is(r);
});
return p;
},_getTabsContextSelector:function(){var q=this;
if(!q._selector){var p=[];
Array.forEach(q.get_contexts(),function(r){p=p.concat(r);
});
q._selector=q._toJquerySelector(p);
}return q._selector;
},_getContextualTab:function(r){if(!r){return;
}var v=this;
var u=v.get_items();
var q=v.get_contexts();
var t=a(r);
for(var s=0;
s<q.length;
s++){var p=q[s];
if(t.is(v._toJquerySelector(p))){return u[s];
}}},_toJquerySelector:function(p){return p.join(",").replace(/[\,]+/g,",").replace(/^\,|\,$/g,"");
},get_buttonElement:function(){var p=this;
if(!p._moreButtonElement){p._moreButtonElement=a("."+k,p.get_element()).get(0);
}return p._moreButtonElement;
},get_textElement:function(){var p=this;
if(!p._textElement){p._textElement=a("."+m,p.get_element()).get(0);
}return p._textElement;
},get_overlayElement:function(){var p=this;
if(!p._overlayElement){p._overlayElement=a(".reTabChooserOverlay",p.get_element()).get(0);
}return p._overlayElement;
},show:function(p){var q=a(this.get_element());
q.css({position:"absolute",opacity:0,display:""});
q.stopTransition();
q.transition({opacity:1},d,"easeOut",function(){q.css("position","static");
p&&p();
});
},hide:function(p){var q=a(this.get_element());
q.stopTransition();
q.transition({opacity:0},d,"easeOut",function(){q.css("display","none");
p&&p();
});
},showItemsList:function(){var p=this;
a(p.get_itemsContainer()).show().css({top:p._calculateItemsListTopPosition(),"max-height":(p.get_listItemHeight()*p.get_maxVisibleItems())+"px"});
a(p.get_overlayElement()).show();
},_calculateItemsListTopPosition:function(){var r=this,p=r.get_element(),s=$telerik.getBounds(p).y-p.offsetTop,q=Math.min(r.get_maxVisibleItems(),a("li:visible",r.get_itemsContainer()).length);
s-=r.get_listItemHeight()*Math.floor(q/2);
return s+"px";
},hideItemsList:function(){a(this.get_itemsContainer()).hide();
a(this.get_overlayElement()).hide();
},get_itemsContainer:function(){var p=this;
if(!p._itemsContainer){p._itemsContainer=a("ul.reToolList",p.get_element()).get(0);
}return p._itemsContainer;
},itemsListIsVisible:function(){return a(this.get_itemsContainer()).is(":visible");
},get_text:function(){return a(this.get_textElement()).html();
},set_text:function(p){a(this.get_textElement()).html(p);
},dispose:function(){this._detachEventHandlers();
b.TabChooser.callBaseMethod(this,"dispose");
}};
a.registerControlProperties(b.TabChooser,{items:[],contexts:[],defaultTab:"",maxVisibleItems:6});
a.registerControlEvents(b.TabChooser,[j,i,g]);
b.TabChooser.registerClass("Telerik.Web.UI.Editor.TabChooser",c.RadWebControl);
b.TabChooserEventArgs=function(p){b.TabChooserEventArgs.initializeBase(this);
this._value=p;
};
b.TabChooserEventArgs.prototype={get_value:function(){return this._value;
},set_value:function(p){this._value=p;
}};
b.TabChooserEventArgs.registerClass("Telerik.Web.UI.Editor.TabChooserEventArgs",Sys.EventArgs);
})($telerik.$);
(function(a,d){Type.registerNamespace("Telerik.Web.UI");
var c=Telerik.Web.UI;
var b=c.Editor;
b.BaseToolAdapter=function(e){b.BaseToolAdapter.initializeBase(this,[e]);
this._tools=[];
};
b.BaseToolAdapter.prototype={initialize:function(){b.BaseToolAdapter.callBaseMethod(this,"initialize");
},attachEventHandlers:function(){},detachEventHandlers:function(){},getToolByName:function(e){return b.Utils.first(this.get_tools(),function(f){return f.get_name()===e;
});
},setToolState:function(m,g){if(!m){m=this._tools;
}var e=this.get_editor(),j=this._rangeState||b.DomRange.rangeFromWindow(e.get_contentWindow())||e.domRangeToFirstText();
for(var f=0;
f<m.length;
f++){var h=m[f];
if(h.get_name){var l=h.get_name();
if(h.setState){var k=g;
if(null==k){k=e.getToolState(l,j);
}if(null!=k){h.setState(k);
}}if(h.updateValue){h.updateValue(e.getToolValue(l,j));
}}}this._rangeState=null;
},get_tools:function(){return this._tools;
},repaint:function(){},_raiseEditorEvent:function(h,i){if(!h.get_enabled()){return;
}var g=this.get_events().getHandler("toolClick");
if(g){var e=h.get_name?h.get_name():"";
var f=new c.EditorCommandEventArgs(e,h,i);
g(h,f);
}},_onEditorSelectionChange:function(f,e){this.setToolState();
},dispose:function(){var e=this;
e.detachEventHandlers();
b.BaseToolAdapter.callBaseMethod(e,"dispose");
e._tools=[];
}};
a.registerControlProperties(b.BaseToolAdapter,{editor:null,element:null});
a.registerControlEvents(b.BaseToolAdapter,["toolClick"]);
b.BaseToolAdapter.registerClass("Telerik.Web.UI.Editor.BaseToolAdapter",Sys.UI.Control);
})($telerik.$);
(function(a,w){Type.registerNamespace("Telerik.Web.UI");
var c=Telerik.Web.UI;
var k=window;
var d=k.$telerik;
var b=c.Editor;
var j=b.Utils;
var o=a.proxy;
var f=Function.createDelegate;
var h=".";
var e=10;
var v="type";
var i="duration";
var n="none";
var u="toolBarAnimation";
var t="ToggleEditMode";
var p="RadEditor";
var s="reWrapper";
var r="reDropDownBody";
var q="reDropdown";
var g="div[id*='dialogOpener'].RadWindow";
var m="reInlineEditorSelected";
var l="inlineEditCompleted";
b.DefaultToolAdapter=function(x){var y=this;
b.DefaultToolAdapter.initializeBase(y,[x]);
y._editor=null;
y._toolJSON=[];
y._tools=[];
y._contextMenusEnabled=true;
y.isIE=d.isIE;
y._editorIEFirstShow=false;
y._contentAreaMode="";
y._animation={};
y._toolBarInitialShowExecuted=null;
y._inlineEditingStarted=false;
};
b.DefaultToolAdapter._visibleWrapper=null;
b.DefaultToolAdapter.prototype={initialize:function(){var z=this;
var x=z.get_editor();
var A=x.get_toolbarMode();
var y=c.EditorToolbarMode;
this._onEditorSelectionChangeDelegate=f(this,this._onEditorSelectionChange);
this._onEditorModeChangeDelegate=f(this,this._onEditorModeChange);
this._onEditorLoadDelegate=f(this,this._onEditorLoad);
this._onToolBarClickDelegate=f(this,this._onToolBarClick);
this._onToolBarKeyDownDelegate=f(this,this._onToolBarKeyDown);
this._onDropDownValueSelectedDelegate=f(this,this._onDropDownValueSelected);
this._onDropDownBeforeShowDelegate=f(this,this._onDropDownBeforeShow);
this._onDropDownHideDelegate=f(this,this._onDropDownHide);
this._onClientDragStartDelegate=f(this,this._onClientDragStart);
z._changeToolBarVisibilityDelegate=o(z._changeToolBarVisibility,z);
z._initializeAnimation();
this._initContextMenus();
this._registerEditorHandlers();
switch(A){case y.Default:x.add_firstShow(Function.createDelegate(this,function(){this._attachToolbarJsonToHtml();
}));
break;
case y.Floating:this._createFloatingButton();
break;
case y.PageTop:case y.ShowOnFocus:this._attachToolBarEventHandlers();
break;
}if(x._isInInlineEditMode()){z._attachToolBarEventHandlers();
}if(this._isToolBarFloating()){this._editorInitialBounds=d.getSize(x.get_element());
}this._registerToolBarHolderHandlers();
},repaint:function(){},_attachToolbarJsonToHtml:function(){var E=this;
var y=E.get_editor();
if(this._initializedToolbars){return;
}this._initializedToolbars=true;
var G=this.get_toolJSON(),F=this._getToolBarElements(),H=[],C,I;
for(C=0;
C<G.length;
C++){var D=G[C];
var B=F[C];
this._initializeToolbar(D,B);
var x=D.attributes;
I=x?x.dockingzone:null;
if(I){H[H.length]=[I,B];
}}if(d.isIE){var A=this.get_element();
if(!y._isInInlineEditMode()){A.style.height="";
}}var z=y.get_id();
for(C=0;
C<H.length;
C++){var K=H[C][0];
I=K.charAt(0).toUpperCase()+K.substring(1);
if(I=="Top"){continue;
}var J=$get(z+I);
if(I=="Left"||I=="Right"){if(y.get_renderMode()==c.RenderMode.Lite){d.$(J).addClass("reToolBarWrapper reToolBarWrapper"+I);
d.$(y.get_element()).addClass("reToolBar"+I);
}else{if(y.get_renderMode()==c.RenderMode.Classic){d.$(y.get_element()).addClass("reToolBar"+I);
}}}if(!J){J=$get(K);
}if(J){if(J.innerHTML=="&nbsp;"){J.innerHTML="";
}J.appendChild(H[C][1]);
}}},_setToolbarHolderProperties:function(){var x=this.get_editor();
var z=x.get_toolbarMode();
var B=this._toolbarHolder;
var A=c.WindowBehaviors;
var y=c.EditorToolbarMode;
if((z===y.ShowOnFocus)||(z===y.PageTop)||x._isInInlineEditMode()){B.set_behaviors(A.None);
B.set_visibleTitlebar(false);
}else{B.set_behaviors(A.Move+A.Close+A.Pin);
}this.get_element().style.visibility="visible";
},_showToolbarHolder:function(z){var A=this;
var x=A.get_editor();
var y=c.EditorToolbarMode;
if(!z){if(this._toolbarHolder){this._toolbarHolder.hide();
}return;
}if(x.isFullScreen()&&!this._isToolBarFloating()){return;
}var C=b.DefaultToolAdapter._visibleWrapper;
if(C==this&&C._toolbarHolder&&C._toolbarHolder.isVisible()){C.get_toolbarHolder().setActive(true);
return;
}if(C&&C._showToolbarHolder){C._showToolbarHolder(false);
}b.DefaultToolAdapter._visibleWrapper=this;
this.get_window();
this._setToolbarHolderProperties();
this._toolbarHolder.show();
if(x._isInInlineEditMode()&&!A._toolBarInitialShowExecuted){A._toolBarInitialShowExecuted=true;
A._hidePopup();
}if(d.isIE&&this._fakeToolbarParentCreated){var B=x.get_toolbarMode();
if(B===y.ShowOnFocus||B===y.PageTop||x._isInInlineEditMode()){this._fakeToolBarParent.style.display="none";
}}},_hidePopup:function(){var y=this;
var z=y.get_toolbarHolder();
var x=z?z.get_popupElement():null;
if(x){a(x).css({display:n});
}},_positionWindow:function(){var y=Telerik.Web.UI.EditorToolbarMode;
var x=this.get_editor();
var z=x.get_toolbarMode();
if(z==y.ShowOnFocus||x._isInInlineEditMode()){this._positionToolbarAboveEditor();
}else{if(z==y.PageTop){this._positionOnPageTop();
}else{if(z==y.Floating){if(!this._wasShown){this._positionToolbarAboveEditor();
this._wasShown=true;
}}}}},get_window:function(){if(!this._toolbarHolder){var A=this;
var y=A.get_editor();
var C=y.get_toolbarMode();
var B=Telerik.Web.UI.EditorToolbarMode;
var z=y.get_dialogOpener();
var x;
var D;
if((C==B.Default||C==B.RibbonBar)&&!y._isInInlineEditMode()){return null;
}if(!z){return;
}x=z.get_container();
if(!x){return;
}D=x.clone(y.get_id()+"_toolbarMode");
D.set_visibleStatusbar(false);
D.set_keepInScreenBounds(C==B.RibbonBarFloating||C==B.Floating);
D.setSize(this.get_element().offsetWidth+10,1);
D.add_show(Function.createDelegate(this,function(F,E){var H=y.get_toolbarMode(),G=Telerik.Web.UI.EditorToolbarMode;
if(D._renderMode==Telerik.Web.UI.RenderMode.Lite){this._onWindowShowLite(F,E);
}else{this._onWindowShow(F,E);
}this._positionWindow();
if(H==G.PageTop||H==G.RibbonBarPageTop){F.get_popupElement().style.height="";
F.get_contentElement().style.height="";
}}));
this._toolbarHolder=D;
if(y._isInInlineEditMode()){A._setToolBarAnimation();
}this._moveToolbarsToEditor(false);
}return this._toolbarHolder;
},_onWindowShowLite:function(F,y){var G=this;
var z=G.get_editor();
var A=z.get_element();
var B=F.get_contentElement();
var D=F.get_popupElement();
var x=a(D);
var I=z.get_toolbarMode();
var H=c.EditorToolbarMode;
var C=z._isInInlineEditMode();
if(!B||!D){return;
}D.style.zIndex="10000";
a(D).addClass("reToolbarWindow");
a(D).addClass(a(A).attr("class")+" reToolbarWindow");
if(C){x.removeClass(m);
}G._setToolBarWidth(F);
F.setActive(true);
a(".rwContent",D).css("padding","1px 0px 0px 0px");
this._attachToolbarJsonToHtml();
var E=function(){D.style.height="";
B.style.height="";
};
switch(I){case H.ShowOnFocus:E();
break;
case H.RibbonBarPageTop:case H.RibbonBarFloating:case H.RibbonBarShowOnFocus:case H.RibbonBar:E();
B.style.overflow="hidden";
a(".rwContent",D).css("padding","0px 0px 5px 0px");
break;
}if(C){E();
}},_onWindowShow:function(B,x){var C=this;
var y=C.get_editor();
var z=y._isInInlineEditMode();
var D=B.get_contentElement();
var A;
if(!D){return;
}A=B.get_popupElement();
A.style.zIndex="10000";
B.setActive(true);
Sys.UI.DomElement.addCssClass(A,"reToolbarWindow");
if(z){C._addInlineEditModeStyles(A);
}this._attachToolbarJsonToHtml();
D.style.overflow="";
C._setToolBarWidth(B);
D.style.width="100%";
},_setToolBarWidth:function(B){var A=this;
var x=A.get_editor();
var z=x.get_element();
var C=x.get_toolsWidth();
var y;
if(!C){y=this._isToolBarFloating()?this._editorInitialBounds:d.getSize(z);
B.set_width(y.width);
}else{B.set_width(C);
}},_addInlineEditModeStyles:function(z){var B=this;
var y=B.get_editor();
var A=y.get_skin();
var x=a(z);
x.addClass(p);
x.addClass(A);
x.addClass(s);
},_initializeAnimation:function(){var z=this;
var y=z.get_editor();
var x=y._animationSettings;
if(x){z._animation=x[u];
}},get_animationType:function(){var z=this;
var x=z._getAnimation();
var y=x?x[v]:null;
return y;
},set_animationType:function(y){var x=this;
if(x._toolbarHolder){x._animation[v]=y;
x._toolbarHolder.set_animation(y);
}},get_animationDuration:function(){var z=this;
var x=z._getAnimation();
var y=x?x[i]:null;
return y;
},set_animationDuration:function(y){var x=this;
if(x._toolbarHolder){x._animation[i]=y;
x._toolbarHolder.set_animationDuration(y);
}},_setToolBarAnimation:function(A){var y=this;
var z=y.get_toolbarHolder();
var x=y._getAnimation();
if(x){z.set_animation(x[v]);
z.set_animationDuration(x[i]);
}},_getAnimation:function(){return this._animation;
},_moveToolbarsToEditor:function(z){var y=this.get_element();
if(!z){if(!this._fakeToolbarParentCreated){var x=this._fakeToolBarParent=y.ownerDocument.createElement("div");
x.control=y.control;
y.parentNode.appendChild(x);
this._fakeToolbarParentCreated=true;
y.control=null;
var A=x.style;
A.height=A.fontSize=A.lineHeight="1px";
A.border="1px solid red";
A.visibility="hidden";
if(!d.isIE){A.display="none";
}}var C=this.get_toolbarHolder();
C.set_contentElement(y);
y.style.width="100%";
}else{y.style.width="";
var B=this.get_editor().get_TopZone();
B.appendChild(y);
}},_positionToolbarAboveEditor:function(){var D=this._toolbarHolder;
var B=D.get_popupElement();
if(B){B.style.height="";
}var z=this.get_editor();
var A=d.getBounds(z.get_element());
var E=A.x;
var C=d.getBounds(D.get_popupElement()).height;
var F=A.y-C;
D.moveTo(E,F);
},_positionOnPageTop:function(){var B=this._toolbarHolder;
var z=B._getViewportBounds();
var C=z.scrollLeft;
var D=z.scrollTop;
B.moveTo(C,D);
var A=this.get_editor().get_toolsWidth();
if(A&&A.indexOf("%")==-1){B.set_width(A);
}else{B.get_popupElement().style.width="";
}if(!B.isPinned()){B.togglePin();
}},_createFloatingButton:function(){this._onToggleFloatingToolbarDelegate=Function.createDelegate(this,this._onToggleFloatingToolbar);
var y=this.get_editor();
var D=y.get_skin();
var B=y.getLocalizedString("ToggleFloatingToolbar");
var E={name:"ToggleFloatingToolbar",text:(null==B)?"ToggleFloatingToolbar":B,addClickHandler:true,skin:D};
var A={valueSelected:this._onToggleFloatingToolbarDelegate};
var C=y.get_renderMode()==Telerik.Web.UI.RenderMode.Lite?"Lightweight":Telerik.Web.UI.RenderMode.toString(y.get_renderMode());
var x=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(C,E,A);
var z=Telerik.Web.UI.Editor.UI.StaticToolsUI.createToolWrapper(C,x,D);
var F=$get(y.get_id()+"Top");
if(F){F.appendChild(z);
}},_onToggleFloatingToolbar:function(){var x=!this._toolbarHolder||!this._toolbarHolder.isVisible();
this._showToolbarHolder(x);
},_attachToolBarEventHandlers:function(){var B=this;
var x=B.get_editor();
var z=function(){B._showToolbarHolder(true);
x._addInlineEditorSelectedStyles();
};
var A=function(){var D=B.get_editor();
if(!B._editorIEFirstShow){var C=D.get_toolbarMode();
var E=Telerik.Web.UI.EditorToolbarMode;
if(!D._emptyMessageContainer&&(C!=E.Floating||C!=E.RibbonBarFloating)){B._editorIEFirstShow=true;
return;
}}z();
};
var y=this.get_editor();
if(y.isIE){if(x._isInInlineEditMode()){y.add_selectionChange(z);
}else{this.get_editor().add_editReady(function(){y.attachInternalHandler("beforeeditfocus",A);
y.attachInternalHandler("focusin",z);
});
}}else{y.add_selectionChange(z);
}y.add_modeChange(B._changeToolBarVisibilityDelegate);
y.add_submit(function(){B._showToolbarHolder(false);
});
y.add_toggleScreenMode(function(){var C=B.get_editor();
var D=C.isFullScreen();
B._moveToolbarsToEditor(D);
var E=B.get_toolbarHolder();
if(D){E.hide();
}else{E.show();
}});
B._bodyClickDelegate=Function.createDelegate(B,B._onBodyClick);
d.addExternalHandler(document.body,"mouseup",B._bodyClickDelegate);
if(this.get_editor().get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){this._divContentAreaMouseDownDelegate=Function.createDelegate(this,this._onBodyMouseDown);
d.addExternalHandler(document.body,"mousedown",this._divContentAreaMouseDownDelegate);
}},_changeToolBarVisibility:function(){var A=this;
var z=A.get_editor();
var x=z.get_mode();
var y=c.EditModes;
if(!z._isInInlineEditMode()){A._showToolbarHolder(x===y.Design);
}},_disposeToolbarModeHandlers:function(){var x=this;
if(this._bodyClickDelegate){d.removeExternalHandler(document.body,"mouseup",this._bodyClickDelegate);
this._bodyClickDelegate=null;
}if(this._divContentAreaMouseDownDelegate){d.removeExternalHandler(document.body,"mousedown",this._divContentAreaMouseDownDelegate);
this._divContentAreaMouseDownDelegate=null;
}x._changeToolBarVisibilityDelegate=null;
},onContextMenu:function(z){if(!this._contextMenusEnabled){return;
}var A=this.get_editor();
if(A.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}this.createContextMenus();
var B=this._getContextElement(z);
if(A.get_enableImmutableElements()&&Telerik.Web.UI.Editor.Utils.isImmutableNode(B)){return;
}var C=B.tagName;
var x=this._contextMenus[C];
if("TH"==C&&!x){x=this._contextMenus.TD;
}var y="";
if(!x){var E=Telerik.Web.UI.Editor.Utils.getElementParentByTag(B,"A");
if(!E){E=Telerik.Web.UI.Editor.Utils.getElementParentByTag(B,"TD");
}if(!E){E=Telerik.Web.UI.Editor.Utils.getElementParentByTag(B,"TABLE");
}if(E){y=E.tagName;
B=E;
}else{y="*";
}x=this._contextMenus[y];
}if(x&&C=="IMG"&&B&&"true"==B.getAttribute("isflash")){x=null;
}if(!this.isIE&&y=="*"){return;
}if(x){x.set_eventObject(z);
x.show();
if(d.isSafari){try{var F=B.tagName;
if(F=="IMG"||F=="TABLE"||F=="TD"||F=="TR"){A.selectElement(B);
}}catch(D){}}}return d.cancelRawEvent(z);
},enableContextMenus:function(x){this._contextMenusEnabled=x;
},_getContextElement:function(x){var y=this.get_editor();
var B=x.srcElement||x.target;
var z=function(C){return j.isTag(B,C);
};
var A=function(C){return y.findContent("img[usemap=#"+C.id+"]")[0];
};
if(z("area")){B=A(B.parentNode);
}else{if(z("map")){B=A(B);
}}return B;
},_initContextMenus:function(){var x=Function.createDelegate(this,this.onContextMenu);
var y=this.get_editor();
y.add_editReady(function(){y.attachInternalHandler("contextmenu",x);
});
},createContextMenus:function(){if(this._contextMenus){return;
}this._contextMenus={};
var z=this.get_editor();
var C=z.get_skin();
var y=z.get_contextMenusJSON();
var A={valueSelected:this._onDropDownValueSelectedDelegate,show:this._onDropDownBeforeShowDelegate,hide:this._onDropDownHideDelegate};
for(var B=0;
B<y.length;
B++){var x=y[B];
x.sizetofit=true;
x.parentElement=z.get_contentAreaElement();
x.skin=C;
x._rendermode=Telerik.Web.UI.RenderMode.toString(z.get_renderMode())=="Lite"?"Lightweight":Telerik.Web.UI.RenderMode.toString(z.get_renderMode());
var E=$create(Telerik.Web.UI.EditorContextMenu,x,A,null,document.createElement("span"));
var D=x.tagName?x.tagName:"*";
this._contextMenus[D]=E;
}},dispose:function(){delete this._fakeToolbarParentCreated;
var y=this._getToolBarElements();
if(y){for(var x=0;
x<y.length;
x++){$clearHandlers(y[x]);
}}this._tools=[];
this._disposeToolbarModeHandlers();
var z=this._toolbarHolder;
if(z&&z.dispose){z.dispose();
}Telerik.Web.UI.Editor.DefaultToolAdapter.callBaseMethod(this,"dispose");
},setFocus:function(){var x=this._tools[0];
window.setTimeout(function(){if(x){x.setFocus();
}},100);
return false;
},getContextMenuByTagName:function(x){this.createContextMenus();
return this._contextMenus[x];
},getToolByName:function(y){for(var x=0;
x<this._tools.length;
x++){var z=this._tools[x];
if(z&&z.get_name()==y){return z;
}}return null;
},setToolState:function(G,B){if(!G){G=this._tools;
}var y=this.get_editor();
var D;
try{D=this._rangeState||b.DomRange.rangeFromWindow(y.get_contentWindow());
}catch(z){}var x=y.get_contentArea();
if(!D||!(x===D.commonAncestorContainer||a.contains(x,D.commonAncestorContainer))){D=y.domRangeToFirstText();
}for(var A=0;
A<G.length;
A++){var C=G[A];
if(C.get_name){var F=C.get_name();
if(C.setState){var E=B;
if(null==E){E=y.getToolState(F,D);
}if(null!=E){C.setState(E);
}}if(C.updateValue){C.updateValue(y.getToolValue(F,D));
}}}this._rangeState=null;
},_convertCommandsArray:function(y){var C=[];
for(var B=0;
B<y.length;
B++){var z=y[B];
var A=(B+1)+". "+z.get_title();
if(z.get_argument){var x=z.get_argument();
if(x){A+=' ["'+x+'"]';
}}C[B]=[B+1,A];
}return C;
},_onDropDownHide:function(z,x){var y=this.get_editor();
y.enableContentArea(true);
},_onClientDragStart:function(y,x){Telerik.Web.UI.Editor.PopupController.hideActivePopup();
},_onDropDownBeforeShow:function(M,x){var A=this.get_editor();
var B;
var y;
if(d.isIE&&Telerik.Web.UI.EditorSplitButton.isInstanceOfType(M)&&M.isArrowClicked(event?event.srcElement:null)){A.setFocus();
}if(Telerik.Web.UI.EditorToolStrip.isInstanceOfType(M)){this.setToolState(M.get_items());
}if(!A.getSelection().isControl()&&!Telerik.Web.UI.EditorContextMenu.isInstanceOfType(M)){A.enableContentArea(false);
}var O=M.get_name();
if(O=="Undo"){var P=A.get_commandsManager().getCommandsToUndo();
P=this._convertCommandsArray(P);
M.set_items(P);
}else{if(O=="Redo"){var L=A.get_commandsManager().getCommandsToRedo();
L=this._convertCommandsArray(L);
M.set_items(L);
}else{if(O=="ModuleManager"){var C=A.get_renderMode()==c.RenderMode.Classic;
var G=A.get_modulesManager();
var E=C?"reModule_hidden_icon":"ModuleHiddenIcon";
var I=C?"reModule_visible_icon":"ModuleVisibleIcon";
if(!G){return;
}var H=G.get_modules();
var F=[];
for(B=0;
B<H.length;
B++){var D=H[B];
var J=D.get_name();
var N=D.get_title();
if(!N){N=J;
}y=D.get_visible()?I:E;
F[B]=[J,N,y];
}M.set_updateHeader(false);
M.set_items(F);
}}}var z=M.get_items();
if(z&&z.length>0){return;
}var K=null;
switch(O){case"ApplyClass":K=A.getCssArray();
break;
case"FontName":K=Array.clone(A.get_fontNames());
break;
case"FontSize":K=A.get_fontSizes();
break;
case"InsertSymbol":K=A.get_symbols();
if((d.isIE||d.isSafari)&&K&&K.length){for(B=0;
B<K.length;
B++){if(K[B]=="&"){K[B]="&amp;";
}if(K[B]=="<"){K[B]="&lt;";
}}}break;
case"BackColor":case"ForeColor":K=A.get_colors();
break;
case"RealFontSize":K=A.get_realFontSizes();
break;
case"InsertSnippet":K=A.get_snippets();
break;
case"Zoom":K=["10%","20%","50%","100%","150%","200%","300%","500%"];
break;
case"FormatBlock":K=A.get_paragraphs();
break;
case"FormatSets":K=A.get_formatSets();
break;
case"InsertCustomLink":K=A.get_links();
break;
case"AjaxSpellCheck":case"SpellCheck":K=A.get_languages();
break;
}if(K){M.set_items(K);
}},_initializeToolbar:function(P,M){var N=this._getToolBarItemElements(M);
var O=P.tools;
var A=this.get_editor();
var K=A.get_skin();
var I=0;
if(O){var Q=0;
var H=O.length;
for(var D=0;
D<H;
D++){var F=this._getItemElementByIndex(N,D);
if(typeof(F)=="undefined"){break;
}var R=this._getToolElement(F);
Q+=F.offsetWidth;
var x=O[D];
var U=x.type;
var T=x.name;
var S=Telerik.Web.UI.EditorToolType;
var y=Telerik.Web.UI.EditorButton;
var L=null;
var V=false;
var B=A.get_enableAriaSupport();
if(B){N[D].setAttribute("role","presentation");
var G=N[H+1];
if(G){G.setAttribute("role","presentation");
}if(U!=S.Separator){F.setAttribute("role","presentation");
}}if(U){switch(U){case S.Button:y=c.EditorButton;
break;
case S.Separator:if(!I){I+=parseInt(d.getCurrentStyle(F,"marginLeft"),e);
I+=parseInt(d.getCurrentStyle(F,"marginRight"),e);
if(B){F.setAttribute("role","separator");
}}Q+=I;
y=null;
break;
case S.DropDown:y=Telerik.Web.UI.EditorDropDown;
if(T=="FontName"){y=Telerik.Web.UI.Editor.FontNameDropDown;
}else{if(T=="FontSize"){y=Telerik.Web.UI.Editor.FontSizeDropDown;
}else{if(T=="FormatBlock"||T=="RealFontSize"||T=="Zoom"){y=Telerik.Web.UI.EditorUpdateableDropDown;
}else{if(T=="FormatSets"){y=Telerik.Web.UI.Editor.FormatSetsDropDown;
}else{if(T=="ApplyClass"){y=Telerik.Web.UI.Editor.ApplyClassDropDown;
}else{if(T=="InsertCustomLink"){y=Telerik.Web.UI.Editor.InsertCustomLinkDropDown;
}}}}}}V=true;
break;
case S.SplitButton:y=Telerik.Web.UI.EditorSplitButton;
if(T=="ForeColor"||T=="BackColor"){y=Telerik.Web.UI.Editor.ColorPicker;
x.addCustomColorText=A.getLocalizedString("AddCustomColor");
}else{if(T=="Undo"||T=="Redo"){y=Telerik.Web.UI.Editor.UndoRedoDropDown;
}}V=true;
break;
case S.ToolStrip:y=Telerik.Web.UI.EditorToolStrip;
if(T=="InsertTable"){y=Telerik.Web.UI.Editor.InsertTable;
}if(T=="FormatPainter"){y=Telerik.Web.UI.Editor.FormatPainterStrip;
}V=true;
break;
case S.Custom:break;
}}if(x.attributes){for(var E in x.attributes){x[E.toLowerCase()]=x.attributes[E];
}}if(y){var C=null;
if(V){C={valueSelected:this._onDropDownValueSelectedDelegate,show:this._onDropDownBeforeShowDelegate,hide:this._onDropDownHideDelegate};
x.skin=K;
}L=$create(y,x,C,null,R);
if(this.get_contentAreaMode()==Telerik.Web.UI.EditorContentAreaMode.Div){L.set_contentAreaMode(Telerik.Web.UI.EditorContentAreaMode.Div);
}if(L.set_enableAriaSupport&&U!=S.Separator){L.set_enableAriaSupport(B);
}}if(L){Array.add(this._tools,L);
var J=L.get_shortCut();
if(J){var z=L.get_name();
if(Telerik.Web.UI.EditorDropDown.isInstanceOfType(L)&&z!="Undo"&&z!="Redo"){z="reToolAdapter_"+z;
Telerik.Web.UI.Editor.CommandList[z]=this._toolAdapterDropDownExpander;
}A.setShortCut(z,J);
}this._attachHandlerToToolElementParent(R);
}}this._toolbarSizeFixIE(M);
this._attachHandlerToToolbarElement(M);
}},_getToolBarItemElements:function(x){return x.getElementsByTagName("li");
},_getItemElementByIndex:function(y,x){return this._editor._renderMode==c.RenderMode.Classic?y[x+1]:y[x];
},_getToolElement:function(x){return x.firstChild;
},_attachHandlerToToolbarElement:function(x){$addHandlers(x,{click:this._onToolBarClickDelegate,keydown:this._onToolBarKeyDownDelegate},this);
},_attachHandlerToToolElementParent:function(x){},_toolbarSizeFixIE:function(x){if(!d.isIE7){return;
}var y=0;
a(x).children().each(function(z,A){y+=A.offsetWidth;
});
x.style.width=y+"px";
},_toolAdapterDropDownExpander:function(x,y){var z=y.getToolByName(x.replace("reToolAdapter_",""));
z.setFocus();
z.show();
z.selectNextItem();
return false;
},_onEditorModeChange:function(E,x){var F=this;
var z=F.get_editor();
var y=Telerik.Web.UI.EditModes,D=E.get_mode(),C=d.isIE&&(d.isIE10Mode&&!d.isIE10),B=D==y.Design;
this._setEnabled(B);
if(!d.isFirefox&&!C&&D==y.Html){var A=this.getToolByName("FindAndReplace");
if(A){this._setToolEnabled(A,true);
}}if(z._isInInlineEditMode()){F._enableToggleEditModeTool();
z._addInlineEditorSelectedStyles();
}if(B){this.setToolState();
}},_enableToggleEditModeTool:function(){var y=this;
var x=y.getToolByName(t);
if(x){x.set_enabled(true);
}},_onEditorSelectionChange:function(y,x){this.setToolState();
},_onEditorLoad:function(y,x){this.setToolState();
},_setEnabled:function(y){var z=this;
var A=z._tools;
var B=A.length;
var x;
for(x=0;
x<B;
x++){A[x].set_enabled(y);
}},_setToolEnabled:function(y,x){y.set_enabled(x);
},_isToolBarFloating:function(){var x=this.get_editor().get_toolbarMode();
var y=Telerik.Web.UI.EditorToolbarMode;
return x==y.RibbonBarFloating||x==y.Floating;
},_registerEditorHandlers:function(){var x=this.get_editor();
x.add_load(this._onEditorLoadDelegate);
x.add_selectionChange(this._onEditorSelectionChangeDelegate);
x.add_modeChange(this._onEditorModeChangeDelegate);
},_registerToolBarHolderHandlers:function(){var x=this.get_editor();
if(x.get_toolbarMode()==Telerik.Web.UI.EditorToolbarMode.Floating){var y=this.get_toolbarHolder();
if(typeof(y)!="undefined"){y.add_dragStart(this._onClientDragStartDelegate);
}}},_onBodyMouseDown:function(x){var y=x.srcElement||x.target;
this._updateMouseIsDownOnContentAreaFlag(y);
},_updateMouseIsDownOnContentAreaFlag:function(y){var z=this;
var x=z.get_editor().get_contentArea();
z._mouseIsDownOnContentArea=d.isDescendantOrSelf(x,y)||j.isEditorEmptyMessage(y);
},_onBodyClick:function(z){var C=this;
var x=C.get_editor();
z=z||window.event;
var A=z.srcElement||z.target;
var y=C.get_element();
if(y&&!d.getVisible(y)||(x.get_mode()==c.EditModes.Html&&A===x.get_textArea())){return;
}var D=C.get_toolbarHolder();
var B=D?D.get_popupElement():null;
if(B){C._mouseIsDownOnToolbarHolder=d.isDescendantOrSelf(B,A);
}if(x.get_contentAreaMode()==c.EditorContentAreaMode.Div){if(d.isDescendantOrSelf(x.get_contentArea(),A)){C._preventToolbarFromHiding=true;
}}if(x._isInInlineEditMode()){C._onInlineEditModeBodyClick(A);
}if(C._preventToolbarFromHiding){C._preventToolbarFromHiding=false;
return;
}if(C._mouseIsDownOnContentArea!==true&&C._mouseIsDownOnToolbarHolder!==true){C._showToolbarHolder(false);
}if(C._mouseIsDownOnContentArea!==w){C._mouseIsDownOnContentArea=false;
}},_onInlineEditModeBodyClick:function(x){var y=this;
y._updateEditMode();
y._updateMouseIsDownOnContentAreaFlag(x);
y._updateInlineEditorSelectedStyle(x);
y._updateToolbarVisibilityFlag(x);
y._handleInlineEditCompletedEvent(x);
},_updateEditMode:function(){var A=this;
var z=A.get_editor();
var y=c.EditModes;
var x=z.get_mode();
if(A._mouseIsDownOnToolbarHolder===false&&x===y.Html){z.fire(t,{});
}},_updateInlineEditorSelectedStyle:function(y){var z=this;
var x=z.get_editor();
if(z._isElementOutsideOfEditor(y)){x._removeInlineEditorSelectedStyles();
}},_isElementOutsideOfEditor:function(x){var A=this;
var y=null;
var z=A._mouseIsDownOnToolbarHolder;
y=!z&&A._mouseIsDownOnContentArea===false&&A._isElementInDialog(x)===false&&A._isElementInDropDown(x)===false;
return y;
},_updateToolbarVisibilityFlag:function(x){var y=this;
if(y._isElementInDialog(x)||y._isElementInDropDown(x)){y._preventToolbarFromHiding=true;
}},_isElementInDialog:function(x){var y=a(x).parents(g);
return(y.length>0);
},_isElementInDropDown:function(y){var x=a(y);
var A=x.parents(h+r);
var B=x.parents(h+q);
var z=(A.length>0)||(B.length>0)||x.hasClass(q)||x.hasClass(r);
return z;
},_handleInlineEditCompletedEvent:function(y){var z=this;
var x=z.get_editor();
if(z._isElementOutsideOfEditor(y)){if(z._inlineEditingStarted){a.raiseControlEvent(x,l,{});
z._inlineEditingStarted=false;
}}else{if(z._inlineEditingStarted===false){z._inlineEditingStarted=true;
}}},_onDropDownValueSelected:function(y,x){this._preventToolbarFromHiding=true;
var z=y.get_selectedItem();
if(Telerik.Web.UI.EditorButton.isInstanceOfType(z)){this._raiseEditorEvent(z,null);
}else{this._raiseEditorEvent(y,z);
}},_onToolBarKeyDown:function(y){var A=y.keyCode;
if(9==A||37==A||39==A||121==A){if(Telerik.Web.UI.Editor.PopupController){Telerik.Web.UI.Editor.PopupController.hideActivePopup();
}}if(121==A){var z=this.get_editor();
window.setTimeout(function(){if(z){z.setFocus();
}},100);
if(y.rawEvent){d.cancelRawEvent(y.rawEvent);
}return d.cancelRawEvent(y);
}if(9==A){return;
}var x=this._getSelectedTool(y);
if(!Telerik.Web.UI.EditorButton.isInstanceOfType(x)){return;
}if(37==A||39==A){var C=x;
while(true){C=(37==A)?this._getPreviousTool(C):this._getNextTool(C);
if(null==C){break;
}if(C.get_enabled()){break;
}}if(C&&C.get_enabled()){C.setFocus();
}}if(13==A&&x&&!x.get_selectedItem){this._raiseEditorEvent(x,null);
return;
}if(!Telerik.Web.UI.EditorDropDown.isInstanceOfType(x)){return;
}if(38==A||40==A){var B=false;
if(!x.isExpanded()){x.show();
B=true;
}if(B||40==A){x.selectNextItem();
}else{x.selectPreviousItem();
}}else{if(13==A){x.hide();
if(x.get_activeIndex){x.set_selectedIndex(x.get_activeIndex());
}this._onDropDownValueSelected(x);
}else{if(27==A){x.hide();
}}}},_onToolBarClick:function(y){var x=this._getSelectedTool(y);
if(x){if(Telerik.Web.UI.EditorDropDown.isInstanceOfType(x)){x.click(y);
}else{this._raiseEditorEvent(x);
}}d.cancelRawEvent(y);
},_raiseEditorEvent:function(A,B){var z=this.get_events().getHandler("ToolClick");
if(z){var x=A.get_name?A.get_name():"";
var y=new Telerik.Web.UI.EditorCommandEventArgs(x,A,B);
z(A,y);
}},_getPreviousTool:function(y){var x=Array.indexOf(this._tools,y);
return this._tools[x-1];
},_getNextTool:function(y){var x=Array.indexOf(this._tools,y);
return this._tools[x+1];
},_getSelectedTool:function(y){var z=Telerik.Web.UI.EditorButton.getToolRootNode(y.target);
if(null==z){return;
}var x=z.control;
if(null==x){return;
}if(x.get_enabled&&x.get_enabled()==false){return;
}if(y&&x){y.preventDefault();
y.stopPropagation();
}return x;
},_getToolBarElements:function(){var x=this.get_element();
if(!x){return null;
}var y=x.getElementsByTagName("ul");
return y;
},get_tools:function(){return this._tools;
},get_toolbarHolder:function(){return this.get_window();
},get_editor:function(){return this._editor;
},set_editor:function(x){if(this._editor!=x){this._editor=x;
}},get_contentAreaMode:function(){return(this._contentAreaMode!="")?this._contentAreaMode:Telerik.Web.UI.EditorContentAreaMode.Iframe;
},set_contentAreaMode:function(x){if(this._contentAreaMode!=x){this._contentAreaMode=x;
}},get_toolJSON:function(){return this._toolJSON;
},set_toolJSON:function(x){this._toolJSON=x;
},add_toolClick:function(x){this.get_events().addHandler("ToolClick",x);
},remove_toolClick:function(x){this.get_events().removeHandler("ToolClick",x);
}};
b.DefaultToolAdapter.registerClass("Telerik.Web.UI.Editor.DefaultToolAdapter",Sys.UI.Control);
})($telerik.$);
(function(a,f){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI;
var b=c.Editor;
var d="span.reButton";
var e=$telerik.cancelRawEvent;
b.HeaderToolsToolAdapter=function(g){b.HeaderToolsToolAdapter.initializeBase(this,[g]);
};
b.HeaderToolsToolAdapter.prototype={initialize:function(){var h=this;
h._attachToolsJsonToHtml();
h._handleDoubleClick();
a(h.get_element()).on("mousedown",e);
var g=h.get_editor();
g.add_selectionChange(Function.createDelegate(h,h._onEditorSelectionChange));
g.add_modeChange(Function.createDelegate(h,h._onEditorModeChange));
},_attachToolsJsonToHtml:function(){var k=this;
var n=k.get_headerToolsJSON();
var g=a(k.get_element()).find(d);
var m=k._tools;
var o=Function.createDelegate(k,k._raiseEditorEvent);
for(var j=0;
j<n.length;
j++){var l=n[j];
var h=g.filter(".re"+l.name).get(0);
if(h){g=g.not(h);
Array.add(m,k._createTool(h,l,o));
}}},_createTool:function(h,g,j){g._rendermode="Mobile";
g.addClickHandler=true;
var i=$create(c.EditorButton,g,null,null,h);
i.add_valueSelected(j);
return i;
},_handleDoubleClick:function(){var g=this.get_element();
a(g).doubletap(function(h){return e(h);
});
},_onEditorModeChange:function(h,g){var k=h.get_mode();
var j=k==c.EditModes.Html;
if(j){var i=["ToggleScreenMode","FindAndReplace","ToggleEditMode"];
Array.forEach(this.get_tools(),function(l){if(!Array.contains(i,l.get_name())){l.set_enabled(false);
l.setOn(false);
}});
}else{if(k==c.EditModes.Design){Array.forEach(this.get_tools(),function(l){l.set_enabled(true);
});
}}this._setToolOn("ToggleEditMode",j);
},_setToolOn:function(h,g){Array.forEach(this.get_tools(),function(i){if(i.get_name()==h){i.setOn(g);
}});
},dispose:function(){var g=this;
a(g.get_element()).off("mousedown",e);
b.HeaderToolsToolAdapter.callBaseMethod(g,"dispose");
}};
a.registerControlProperties(b.HeaderToolsToolAdapter,{headerToolsJSON:null});
b.HeaderToolsToolAdapter.registerClass("Telerik.Web.UI.Editor.HeaderToolsToolAdapter",b.BaseToolAdapter);
})($telerik.$);
(function(a,h){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI;
var c=b.Editor;
var g="reVisibilityHidden";
var e=Telerik.Web.Platform;
var d=e.ios;
var i=e.windowsphone;
var f=d||i;
c.MobileKeyboardAdapter=function(j){c.MobileKeyboardAdapter.initializeBase(this,[j]);
this.currentDomRange=null;
};
c.MobileKeyboardAdapter.prototype={showKeyboard:function(){this.showKeyboardOverlay();
this.raiseEvent("keyboardShown",Sys.EventArgs.Empty);
},hideKeyboard:function(){var k=this,j=c.DomRange.rangeFromWindow(k.get_contentWindow());
this.hideKeyboardOverlay();
k.raiseEvent("keyboardHidden",new c.DomRangeEventArgs(j));
},hideKeyboardPermanent:function(){var j=this;
j.add_keyboardHidden(function(){j.dispose();
});
this.hideKeyboard();
},showKeyboardOverlay:function(){if(f){a(this.get_toolBarContainer()).addClass(g);
}},hideKeyboardOverlay:function(){if(f){a(this.get_toolBarContainer()).removeClass(g);
}},getSelection:function(){var j=this.get_contentWindow()||((document.defaultView)?document.defaultView:document.parentWindow);
return new c.Selection(j);
},dispose:function(){c.MobileKeyboardAdapter.callBaseMethod(this,"dispose");
}};
c.MobileKeyboardAdapter.registerClass("Telerik.Web.UI.Editor.MobileKeyboardAdapter",Telerik.Web.UI.RadWebControl);
a.registerControlProperties(c.MobileKeyboardAdapter,{contentWindow:null,contentAreaElement:null,toolBarContainer:null});
a.registerControlEvents(c.MobileKeyboardAdapter,["keyboardHidden","keyboardShown"]);
})($telerik.$);
(function(a,d){var b=Telerik.Web.UI;
var c=b.Editor;
c.DivModeKeyboardToggler=function(e){c.DivModeKeyboardToggler.initializeBase(this,[e]);
};
c.DivModeKeyboardToggler.prototype={showKeyboard:function(){var e=this.get_element();
e.focus();
c.DivModeKeyboardToggler.callBaseMethod(this,"showKeyboard");
},hideKeyboard:function(){var e=this.get_element();
e.blur();
c.DivModeKeyboardToggler.callBaseMethod(this,"hideKeyboard");
}};
c.DivModeKeyboardToggler.registerClass("Telerik.Web.UI.Editor.DivModeKeyboardToggler",c.MobileKeyboardAdapter);
})($telerik.$);
(function(a,h){var b=Telerik.Web.UI;
var f=b.Editor;
var g=window;
f.IframeModeKeyboardToggler=function(i){f.IframeModeKeyboardToggler.initializeBase(this,[i]);
};
f.IframeModeKeyboardToggler.prototype={showKeyboard:function(){var j=this.get_contentWindow();
var i=this.get_element();
var k=d(j.document);
c(k,i);
k.focus();
j.focus();
i.focus();
i.removeChild(k);
f.IframeModeKeyboardToggler.callBaseMethod(this,"showKeyboard");
},hideKeyboard:function(){var i=this.get_contentAreaElement();
var k=i.parentNode;
var j=e(g.document);
k.insertBefore(j,i);
j.focus();
k.removeChild(j);
f.IframeModeKeyboardToggler.callBaseMethod(this,"hideKeyboard");
}};
f.IframeModeKeyboardToggler.registerClass("Telerik.Web.UI.Editor.IframeModeKeyboardToggler",f.MobileKeyboardAdapter);
function d(i){var j=i.createElement("input");
j.type="text";
j.style.fontSize="initial";
j.style.width=j.style.height=0;
return j;
}function e(i){var j=i.createElement("div");
j.setAttribute("contentEditable","true");
j.className="reEditableDecoy";
return j;
}function c(i,j){if(j.firstChild){j.insertBefore(i,j.firstChild);
}else{j.appendChild(i);
}}})($telerik.$);
(function(a,e){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI;
var d=b.Editor;
var c=b.EditorContentAreaMode;
d.MobileKeyboardAdapterFactory={createMobileKeyboardAdapter:function(f,g){var i=g.properties||{};
var h=g.eventList||{};
var j=f===c.Iframe?d.IframeModeKeyboardToggler:f===c.Div?d.DivModeKeyboardToggler:d.MobileKeyboardAdapter;
return $create(j,i,h,null,g.element);
}};
})($telerik.$);
(function(a,L){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI;
var b=c.Editor;
var M=b.Utils;
var o=c.EditorToolType;
var p=c.EventType;
var i=Function.createDelegate;
var r=window;
var d=r.$telerik;
var k=r.document;
var z=a.proxy;
var m=".telerikEditor";
var g="click";
var E=".reToolHeader";
var B=".reTabChooser";
var s="reHidden";
var F=".reToolView";
var J=".reToolContent";
var K=".reToolsOverlay";
var l=".reDropDownsContainer";
var A="tab";
var h="context";
var H="easeOut";
var I="-25vw";
var j="div";
var D=6;
var C=3;
var x=b.Orientation;
var y=Telerik.Web.Platform;
var e=y.android;
var t=y.ios;
var O=y.windowsphone;
var f=Telerik.Web.Browser;
var w=f.safari;
var v=f.opera;
var G=140;
var n=c.EditorContentAreaMode;
var u="reIphone";
var N="reWindowsPhone";
b.MobileToolAdapter=function(P){var Q=this;
b.MobileToolAdapter.initializeBase(Q,[P]);
Q._$element=a(P);
};
b.MobileToolAdapter.prototype={initialize:function(){var P=this;
b.MobileToolAdapter.callBaseMethod(P,"initialize");
P._raiseEditorEventDelegate=i(P,P._raiseEditorEvent);
P._onEditorLoadDelegate=i(P,P._onEditorLoad);
P._onEditorSelectionChangeDelegate=i(P,P._onEditorSelectionChange);
P._onEditorModeChangeDelegate=i(P,P._onEditorModeChange);
P._onEditorOrientationChangeDelegate=i(P,P._onEditorOrientationChange);
P._onInitialDropDownShowDelegate=i(P,P._onInitialDropDownShow);
P._slideInToolsHandler=z(P._slideInTools,P);
P._onKeyboardHideDelegate=i(P,P._onKeyboardHide);
P._onKeyboardShowDelegate=i(P,P._onKeyboardShow);
P._editEnabled=false;
P._attachToolbarJsonToHtml();
P._initializeToolsHeader();
P._initializeHighLightCommand();
P._fixToolViewHeight();
P.attachEventHandlers();
},_attachToolbarJsonToHtml:function(){var R=this.get_toolJSON();
var P=this._getToolBarElements();
for(var Q=0,S=R.length;
Q<S;
Q++){this._initializeToolbar(R[Q],P[Q]);
}},_initializeToolbar:function(W,U){var T=this;
var V=W.tools;
var Y;
var S;
if(V){Y=new b.ToolFactory();
for(var Q=0,R=V.length;
Q<R;
Q++){var P=V[Q];
var Z=P.name;
var X=this._getToolElement(Z,U);
P._rendermode="Mobile";
P.addClickHandler=true;
S=Y.createTool(P,X);
if(S){Array.add(this._tools,S);
T._attachToolEventHandlers(S,P);
}}}},_fixToolViewHeight:function(){var R=this;
var P=R._$element;
function Q(){var V;
var U;
var S;
var T;
V=k.createElement(j);
V.style.height="50vh";
U=k.createElement(j);
U.style.height="100%";
V.appendChild(U);
k.body.appendChild(V);
T=r.getComputedStyle?getComputedStyle(U,null):U.currentStyle;
S=parseInt(T.height,10);
k.body.removeChild(V);
return(S>0);
}if(!Q()){P.find(F).css("height",P.height());
}},_initializeToolsHeader:function(){var P=this;
P._toolHeaderElement=a(P.get_editor().get_element()).find(E).get(0);
if(P._toolHeaderElement){P._initializeTabChooser();
P._initializeToolNavigator();
}},_initializeHighLightCommand:function(){var R=this;
var P=R.get_editor();
var Q=t||e||O;
if(Q){R._highlightCommand=new b.HighlightCommand(P);
R._highlighted=false;
P.add_commandExecuting(function(U,S){var T=S.get_commandName();
if(T!="MobileEdit"&&R.isEditEnabled()){R._removeSelectionHighlight();
}});
P.add_commandExecuted(function(V,S){var T=S.get_commandName();
var U=R.isEditEnabled();
if(T!="MobileEdit"&&U){R._highlightSelection();
}if((T==="Image Manager"||T==="InsertTable"||T==="LinkManager")&&U){R.get_tabChooser().selectContextualTab(M.getSelectedElement(V));
}});
}},_highlightSelection:function(S){var T=this;
var Q=T._highlightCommand;
var P=T.get_editor();
var R=P._isFullScreen;
if(Q&&!T._highlighted&&R){T._scrollToSelection(S);
T._selectRangeIfChanged(S);
Q.highlight();
T._highlighted=true;
}},_scrollToSelection:function(P){if(P){var Q=P.startContainer;
var R=!M.isTextNode(Q)?Q.childNodes[P.startOffset]:L;
Q=R||Q;
Q=M.isTextNode(Q)?Q.parentNode:Q;
if(Q.scrollIntoView){Q.scrollIntoView();
}}},_selectRangeIfChanged:function(Q){if(t&&Q){var P=this.get_editor().getDomRange();
if(!P||Q.collapsed!=P.collapsed){Q.select();
}}},_removeSelectionHighlight:function(){var Q=this;
var P=Q._highlightCommand;
if(P&&Q._highlighted){if(O){this.get_editor().setActive();
}P.remove();
Q._highlighted=false;
}},attachEventHandlers:function(){var P=this;
P._registerEditorHandlers();
P._handleDoubleClick();
P._attachHeaderToolsEventHandlers();
},_attachHeaderToolsEventHandlers:function(){var U=this;
var P=U.get_editor();
var Q=P.get_headerToolsToolAdapter();
var R;
if(Q){R=Q.get_tools();
for(var S=0,T=R.length;
S<T;
S++){R[S].add_valueSelected(U._slideInToolsHandler);
}}},detachEventHandlers:function(){var Q=this;
var P=Q.get_editor();
P.remove_selectionChange(Q._onEditorLoadDelegate);
P.remove_selectionChange(Q._onEditorSelectionChangeDelegate);
P.remove_modeChange(Q._onEditorModeChangeDelegate);
P.remove_orientationChange(Q._onEditorOrientationChangeDelegate);
Q._detachHeaderToolsEventHandlers();
Q._detachToolBarsEventHandlers();
},_detachHeaderToolsEventHandlers:function(){var U=this;
var P=U.get_editor();
var Q=P.get_headerToolsToolAdapter();
var R;
if(Q){R=Q.get_tools();
for(var S=0,T=R.length;
S<T;
S++){R[S].remove_valueSelected(U._slideInToolsHandler);
}}},_detachToolBarsEventHandlers:function(){var P=this;
var Q=P._getToolBarElements();
a(Q).off(g).offEvent(p.Move+m).offEvent(p.Up+m);
},_registerEditorHandlers:function(){var Q=this;
var P=Q.get_editor();
P.add_load(Q._onEditorLoadDelegate);
P.add_selectionChange(Q._onEditorSelectionChangeDelegate);
P.add_modeChange(Q._onEditorModeChangeDelegate);
P.add_orientationChange(Q._onEditorOrientationChangeDelegate);
},get_mobileKeyboardAdapter:function(){var P=this.get_editor();
if(!this._mobileKeyboardAdapter||this._currentContentArea!==P.get_contentArea()){this._initializeKeyboardAdapter();
}return this._mobileKeyboardAdapter;
},_initializeKeyboardAdapter:function(){var Q=this,P=Q.get_editor();
Q._currentContentArea=P.get_contentArea();
Q._mobileKeyboardAdapter=b.MobileKeyboardAdapterFactory.createMobileKeyboardAdapter(P.get_contentAreaMode(),{properties:{contentWindow:P.get_contentWindow(),contentAreaElement:P.get_contentAreaElement(),toolBarContainer:Q.get_element()},element:Q._currentContentArea});
Q._mobileKeyboardAdapter.add_keyboardShown(Q._onKeyboardShowDelegate);
Q._mobileKeyboardAdapter.add_keyboardHidden(Q._onKeyboardHideDelegate);
},toggleEdit:function(){var R=this;
var P=this.get_editor();
var Q=R.isEditEnabled();
if(Q){R._editEnabled=false;
R.resetUI();
R.showKeyboard();
}else{R.hideKeyboard();
R._editEnabled=true;
R._$element.find(J).scrollTop(0);
}P._setToolOn("MobileEdit",R.isEditEnabled());
},resetUI:function(){var P=this;
if(P.currentDropDown){P.currentDropDown.hide();
}},isEditEnabled:function(){return this._editEnabled;
},_onKeyboardHide:function(Q,P){this._updateDomInspector();
},_updateDomInspector:function(){var Q=this;
var P=Q._getDomInspector();
if(P){P.set_visible(true);
P.showDomPath();
}},_getDomInspector:function(){var Q=this.get_editor().get_modulesManager();
if(Q){var P=Q.getModuleByName("RadEditorDomInspector");
if(P&&P.get_enabled()){return P;
}}},_onKeyboardShow:function(){this._hideElement();
},_hideElement:function(){var P=this;
P._$element.addClass(s);
P._removeSelectionHighlight();
},_showElement:function(P){var Q=this;
Q._$element.removeClass(s);
Q._highlightSelection(P);
},showKeyboard:function(){this.get_mobileKeyboardAdapter().showKeyboard();
},hideKeyboard:function(){var P=this.get_editor();
this._showElement(P.getDomRange());
this.get_mobileKeyboardAdapter().hideKeyboard();
},hideKeyboardPermanent:function(){var Q=this;
var P=Q.get_mobileKeyboardAdapter();
P.remove_keyboardHidden(Q._onKeyboardHideDelegate);
P.hideKeyboardPermanent();
Q._mobileKeyboardAdapter=L;
},_onEditorLoad:function(Q,P){var R=this;
R._setEditorElementDecoration(Q);
if(!R._mobileKeyboardAdapter){R._initializeKeyboardAdapter();
}},_setEditorElementDecoration:function(Q){var R=q();
if(Q&&R){var P=a(Q.get_element());
if(Q.get_contentAreaMode()==n.Iframe){a(Q.get_document()).find("html").addClass(R);
}P.addClass(R);
if(w){P.addClass("reSafari");
}else{if(v){P.addClass("reOpera");
}}}},_onEditorSelectionChange:function(Q,P){var S=this,R=S.isEditEnabled();
S.setToolState();
if(R&&(t||O)){S.hideKeyboard();
}if(!R){setTimeout(function(){S._tabChooser.selectContextualTab(M.getSelectedElement(Q));
},50);
}},_onEditorModeChange:function(R,P){var T=this,Q=c.EditModes,S=R.get_mode();
if(T.isEditEnabled()&&S!=Q.Design){T.toggleEdit();
}else{if(S===Q.Design){T._editEnabled=false;
T.showKeyboard();
R.focusFirstText();
}}},_onEditorOrientationChange:function(Q,P){var V=this,T=P.get_orientation(),S=T==x.Portrait?D:C,U=V._tabChooser,R=U.itemsListIsVisible();
U.hideItemsList();
U.set_maxVisibleItems(S);
if(R){window.setTimeout(function(){U.showItemsList();
},0);
}},_slideInTools:function(){var Q=this;
var P=Q._$element;
if(Q._shouldExecuteToolsContainerAnimation){P.children(F).children(K).hide();
P.find(J).transition({"margin-left":0},G,H);
Q._shouldExecuteToolsContainerAnimation=false;
}},_slideOutTools:function(){var R=this;
var Q=R._$element.children(F);
var P=Q.children(J);
P.transition({"margin-left":I},G,H);
R._shouldExecuteToolsContainerAnimation=true;
},_getToolHeaderElement:function(){return this._toolHeaderElement;
},getOrientation:function(){var P=window.orientation;
return(P==-90||P==90)?x.LandScape:x.Portrait;
},_initializeTabChooser:function(){var W=this;
var V=a(W._getToolHeaderElement()).children(B).get(0);
if(V){var X=W._getUniqueTabs();
var Q=W._getContexts(X);
var R=W._getFirstUncontexedTab()||"&nbsp;";
var T=W.getOrientation()==x.Portrait?D:C;
W._initializeListsByTabs();
var P={items:X,contexts:Q,defaultTab:R,maxVisibleItems:T};
var S={itemSelected:i(W,W._tabChooserItemSelected),itemsListShowing:i(W,W._tabsListShowing)};
var U=W._tabChooser=$create(b.TabChooser,P,S,null,V);
U.selectTab(R);
}},_getUniqueTabs:function(){var P=this;
if(P._uniqueTabs){return P._uniqueTabs;
}var Q=P._uniqueTabs=[];
Array.forEach(P.get_toolJSON(),function(R){var S=P._getAttribute(R.attributes,A);
if(S&&Array.indexOf(Q,S)==-1){Q.push(S);
}});
return Q;
},_getContexts:function(R){var S=this;
var P={};
Array.forEach(S.get_toolJSON(),function(U){var V=S._getAttribute(U.attributes,A);
var T=S._getAttribute(U.attributes,h)||"";
if(!P[V]){P[V]=[];
}P[V].push(T);
});
var Q=[];
Array.forEach(R,function(T){Q.push(P[T]);
});
return Q;
},_initializeListsByTabs:function(){var Q=this;
var P=Q._listsByTabs={};
Array.forEach(Q.get_toolJSON(),function(R,S){var T=Q._getAttribute(R.attributes,A);
if(T){if(!P[T]){P[T]=[];
}P[T].push(S);
}});
},_getAttribute:function(Q,P){return Q&&P in Q?Q[P]:L;
},_initializeToolNavigator:function(){var Q=this;
var R=Q._getToolHeaderElement();
if(R){var P={back:i(Q,Q._onNavigationBack),close:i(Q,Q._onNavigationClose)};
Q._toolNavigator=$create(b.ToolNavigator,null,P,null,R);
}},_tabChooserItemSelected:function(S,P){var T=this;
var R=P.get_value();
var Q=a(J,T.get_element()).children();
Q.addClass(s);
Array.forEach(T._listsByTabs[R]||[],function(U){Q.eq(U).removeClass(s);
});
S.set_text(R);
},_tabsListShowing:function(S,P){var V=this;
var R=V._getSelectedElement();
var Q=a(P.get_value()).children();
var T=V._getUniqueTabs();
var U={};
Array.forEach(V.get_toolJSON(),function(X,Y){var W=X.attributes;
var aa=V._getAttribute(W,A);
var Z=V._getAttribute(W,h)||"*";
if(!U[aa]&&V._isContextElement(R,aa,Z)){U[aa]=true;
}});
Array.forEach(T,function(X,W){Q.eq(W)[U[X]?"show":"hide"]();
});
},_getSelectedElement:function(){var P=this.get_editor();
var Q=P.getSelectedElement();
if(!Q){P.setFocus();
Q=P.getSelectedElement();
}return Q;
},_isContextElement:function(P,S,R){if(!S||!R||!P){return true;
}var Q=!!M.getElementParentByCondition(P,function(T){return a(T).is(R);
});
return Q;
},_getFirstUncontexedTab:function(){var Q=this;
var P=M.first(Q.get_toolJSON(),function(T){var R=T.attributes;
var U=Q._getAttribute(R,A);
var S=Q._getAttribute(R,h);
return U&&(!S||S=="*");
});
return P?P.attributes.tab:"";
},_handleDoubleClick:function(){var P=this.get_element();
a(P).doubletap(function(Q){return d.cancelRawEvent(Q);
});
},_getToolElement:function(Q,P){return a(".re"+Q,P).get(0);
},_getToolBarElements:function(){var P=this.get_element();
if(!P){return null;
}return a("ul",P).toArray();
},_attachToolEventHandlers:function(Q,P){var R=this;
switch(P.type){case o.Button:Q.add_valueSelected(R._raiseEditorEventDelegate);
break;
case o.DropDown:case o.SplitButton:case o.ToolStrip:Q.add_show(R._onInitialDropDownShowDelegate);
Q.add_show(i(R,R._onDropDownShow));
Q.add_hide(i(R,R._onDropDownHide));
Q.add_valueSelected(i(R,R._onDropDownValueSelected));
break;
default:Q.add_valueSelected(R._raiseEditorEventDelegate);
break;
}},get_toolNavigator:function(){return this._toolNavigator;
},get_tabChooser:function(){return this._tabChooser;
},_onInitialDropDownShow:function(Q,P){var R=this;
R._initializeDropDownItems(Q);
Q.remove_show(R._onInitialDropDownShowDelegate);
},_initializeDropDownItems:function(P){var T=this;
var S=T.get_editor();
var R=P.get_name();
var Q;
switch(R){case"ApplyClass":Q=S.getCssArray();
break;
case"FontName":Q=Array.clone(S.get_fontNames());
break;
case"FontSize":Q=S.get_fontSizes();
break;
case"BackColor":case"ForeColor":Q=S.get_colors();
break;
case"RealFontSize":Q=S.get_realFontSizes();
break;
case"FormatBlock":Q=S.get_paragraphs();
break;
default:break;
}if(Q){P.set_items(Q);
}},_onDropDownShow:function(U,T){var X=this;
var V=U.get_name();
var W=X.get_editor().getLocalizedString(V)||V;
var Q=X._$element;
var S=Q.children(F);
var P=S.children(l);
var R=S.children(J);
X.currentDropDown=U;
X._tabChooser.hide(function(){X._toolNavigator.show(W);
});
X._slideOutTools();
P.show();
R.hide();
},_onDropDownHide:function(T,S){var V=this;
var U=V.get_editor();
var R=V._$element.children(F);
var P=R.children(l);
var Q=R.children(J);
V.currentDropDown=L;
U.enableContentArea(true);
Q.show();
P.hide();
V._toolNavigator.back(function(){V._tabChooser.show();
});
V._slideInTools();
},_onDropDownValueSelected:function(Q,P){var S=this;
var R=Q.get_selectedItem();
if(c.EditorButton.isInstanceOfType(R)){Q.set_selectedIndex(-1);
S._raiseEditorEvent(R,R.get_name());
}else{Q.updateValue(R);
S._raiseEditorEvent(Q,R);
}},_onNavigationBack:function(){var P=this;
if(P.currentDropDown){P.currentDropDown.hide();
}P._slideInTools();
},_onNavigationClose:function(){this.get_editor().fire("MobileEdit");
},dispose:function(){var R=this,S=R.get_tools();
for(var P=0,Q=S.length;
P<Q;
P++){S[P].dispose();
}b.MobileToolAdapter.callBaseMethod(R,"dispose");
}};
a.registerControlProperties(b.MobileToolAdapter,{animationType:null,animationDuration:300,editor:null,contentAreaMode:null,toolJSON:null});
a.registerControlEvents(b.MobileToolAdapter,["toolClick"]);
b.MobileToolAdapter.registerClass("Telerik.Web.UI.Editor.MobileToolAdapter",b.BaseToolAdapter);
function q(){return t?u:O?N:L;
}})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,e){var c=Telerik.Web.UI;
var b=c.Editor;
var d="RadEditor";
b.RibbonBarToolAdapter=function(f){b.RibbonBarToolAdapter.initializeBase(this,[f]);
this._ribbonBar=null;
this._toolsWrapper=null;
this._ribbonBarButtons=[];
this._ribbonBarSplitButtons=[];
this._ribbonBarItems=[];
this._toolbarEnum=Telerik.Web.UI.EditorToolbarMode;
this._toolBarMode=null;
};
b.RibbonBarToolAdapter.prototype={initialize:function(){var h=this;
var i=this.get_toolbarMode();
var g=c.EditorToolbarMode;
var f=h.get_editor();
b.RibbonBarToolAdapter.callBaseMethod(this,"initialize");
this._moveRibbonBarInToolsWrapper();
this._initializeRibbonBarButtons();
this._onRibbonBarButtonClickedDelegate=Function.createDelegate(this,this._onRibbonBarButtonClick);
this._registerribbonBarHandlers();
this._filterToolbarJson();
this._attachToolbarJsonToHtml();
if((i!==g.RibbonBar)||f._isInInlineEditMode()){this.get_window();
switch(i){case g.RibbonBarFloating:this._createFloatingButton();
break;
case g.RibbonBarPageTop:case g.RibbonBarShowOnFocus:this._attachToolBarEventHandlers();
break;
}}this._initializeToolsWrapper();
this._addToggleScreenHandler();
},repaint:function(f){var g=this.get_ribbonBar();
if(f===true){g._setRibbonSize({width:1});
}g.repaint();
},_moveRibbonBarInToolsWrapper:function(){var g=this.get_ribbonBar(),f=g.get_element().parentNode;
this.get_toolsWrapper().appendChild(g.get_element());
this._clearRibbonBarElementWidth();
g.repaint();
$telerik.$(f).remove();
this._clearRibbonBarElementWidth();
},_clearRibbonBarElementWidth:function(){this.get_ribbonBar().get_element().style.width="";
},_initializeToolsWrapper:function(){var f=this.get_editor();
var g=f._isInInlineEditMode();
var j=this.get_toolsWrapper(),k=j.style,i=this.get_toolbarMode(),h="1px";
if(!g){k.height="";
k.visibility="visible";
k.overflow="visible";
k.paddingTop=h;
if($telerik.isFirefox){k.paddingLeft=h;
k.paddingRight=h;
}}if((i!==this._toolbarEnum.RibbonBar)||g){a(j).addClass(d);
j.parentNode.style.overflow="hidden";
}},_addToggleScreenHandler:function(){this._toggleScreenModeDelegate=Function.createDelegate(this,this._clearRibbonBarElementWidth);
this.get_editor().add_toggleScreenMode(this._toggleScreenModeDelegate);
},_positionWindow:function(){var g=this;
var h=g.get_toolbarMode();
var f=g.get_editor();
switch(h){case this._toolbarEnum.RibbonBarShowOnFocus:this._positionToolbarAboveEditor();
break;
case this._toolbarEnum.RibbonBarPageTop:this._positionOnPageTop();
break;
case this._toolbarEnum.RibbonBarFloating:if(!this._wasShown){this._positionToolbarAboveEditor();
this._wasShown=true;
}break;
}if(f._isInInlineEditMode()){g._positionToolbarAboveEditor();
}this._clearRibbonBarElementWidth();
},_positionOnPageTop:function(){var g=this._toolbarHolder;
var f=g._getViewportBounds();
var h=f.scrollLeft;
var i=f.scrollTop;
g.moveTo(h,i);
g.get_popupElement().style.width="100%";
if(!g.isPinned()){g.togglePin();
}},_setToolbarHolderProperties:function(){var h=this;
var i=this.get_toolbarMode();
var k=this._toolbarHolder;
var j=c.WindowBehaviors;
var g=c.EditorToolbarMode;
var f=h.get_editor();
if(i===g.RibbonBarShowOnFocus||i===g.RibbonBarPageTop||f._isInInlineEditMode()){k.set_behaviors(j.None);
k.set_visibleTitlebar(false);
}else{k.set_behaviors(j.Move+j.Close+j.Pin);
}this.get_element().style.visibility="visible";
},_showToolbarHolder:function(g){var f=this.get_editor(),h=this.get_toolbarMode();
if(!g){if(this._toolbarHolder){this._toolbarHolder.hide();
}return;
}if(f.isFullScreen()&&h!=this._toolbarEnum.RibbonBarFloating){return;
}var j=Telerik.Web.UI.Editor.DefaultToolAdapter._visibleWrapper;
if(j==this&&j._toolbarHolder&&j._toolbarHolder.isVisible()){j.get_toolbarHolder().setActive(true);
return;
}if(j&&j._showToolbarHolder){j._showToolbarHolder(false);
}Telerik.Web.UI.Editor.DefaultToolAdapter._visibleWrapper=this;
var i=this.get_window();
this._setToolbarHolderProperties();
this._toolbarHolder.show();
if($telerik.isIE){switch(h){case this._toolbarEnum.RibbonBarShowOnFocus:case this._toolbarEnum.RibbonBarPageTop:f.get_TopZone().firstChild.style.display="none";
break;
}if(f._isInInlineEditMode()){f.get_TopZone().firstChild.style.display="none";
}}i.get_contentElement().parentNode.style.overflow="visible";
this.repaint();
},_filterToolbarJson:function(){var n=this.get_toolJSON(),f,k,g,h,o,m;
for(f=0,k=n.length;
f<k;
f++){h=n[f];
o=h.tools;
for(g=o.length-1;
g>-1;
g--){m=o[g];
if(typeof(m.name)=="undefined"||!m.type||(m.type==Telerik.Web.UI.EditorToolType.ToolStrip&&m.name!="InsertTable")){o.splice(g,1);
}}}},_initializeRibbonBarButtons:function(){var t=this.get_ribbonBar();
var v=t.get_tabs();
for(var m=0,s=v.get_count();
m<s;
m++){var u=v.getTab(m);
var h=u.get_groups(m);
for(var q=0,f=h.get_count();
q<f;
q++){var g=h.getGroup(q);
var p=g.get_items();
for(var r=0,n=p.get_count();
r<n;
r++){var o=p.getItem(r);
this._initializeRibbonBarButton(o);
}}}},_initializeRibbonBarButton:function(f){if(f.get_value){this._ribbonBarButtons.push(f);
this._ribbonBarItems.push(f);
this._addSetOnMethodToButton(f);
this._addIsOnMethodToButton(f);
}else{if(f instanceof Telerik.Web.UI.RibbonBarSplitButton){this._ribbonBarSplitButtons.push(f);
this._ribbonBarItems.push(f);
}}},_addSetOnMethodToButton:function(f){f.setOn=function(g){if(this.set_toggled){this.set_toggled(g);
}};
},_addIsOnMethodToButton:function(f){f.isOn=function(){return(this.get_toggled)?this.get_toggled():false;
};
},_registerribbonBarHandlers:function(){var f=this.get_ribbonBar();
f.add_buttonToggled(this._onRibbonBarButtonClickedDelegate);
f.add_splitButtonClicked(this._onRibbonBarButtonClickedDelegate);
},_onRibbonBarButtonClick:function(j,f){var g=f.get_button();
if(g.set_toggled){g.set_toggled(false);
}var h=g.get_value();
var i=new Telerik.Web.UI.EditorCommandEventArgs(h,null,null);
this.get_editor().fire(h,i);
},get_ribbonBar:function(){if(!this._ribbonBar){this._ribbonBar=this.get_editor().get_ribbonBar();
}return this._ribbonBar;
},get_toolsWrapper:function(){if(!this._toolsWrapper){this._toolsWrapper=this.get_editor().get_TopZone().children[0];
}return this._toolsWrapper;
},getToolByName:function(f){return this.getRibbonBarButtonByName(f)||Telerik.Web.UI.Editor.RibbonBarToolAdapter.callBaseMethod(this,"getToolByName",[f]);
},getRibbonBarButtonByName:function(f){var g=this.get_ribbonBar();
return g.findButtonByValue(f)||g.findToggleButtonByValue(f)||g.findItemByAttribute("rel",f);
},_setEnabled:function(f){this._setRibbonBarItemsEnabled(f);
this._setEditorToolsEnabled(f);
},_setRibbonBarItemsEnabled:function(g){var j=this._ribbonBarItems;
for(var f=0,k=j.length;
f<k;
f++){var h=j[f];
this._setToolEnabled(h,g);
}},_setEditorToolsEnabled:function(g){var h=this._tools;
for(var f=0;
f<h.length;
f++){this._setToolEnabled(h[f],g);
}},_setToolEnabled:function(h,g){h.set_enabled(g);
var f=h.get_element();
if(!g){Sys.UI.DomElement.addCssClass(f,"rrbImagePlaceholderDisabled");
}else{Sys.UI.DomElement.removeCssClass(f,"rrbImagePlaceholderDisabled");
}},_getToolBarElements:function(){var f=this.get_ribbonBar().get_element();
if(!f){return null;
}var g=$telerik.$(f).find("div.rrbButtonGroup").get();
return g;
},_getToolBarItemElements:function(f){return $telerik.$(f).find("div.rrbTemplateItem").get();
},_getItemElementByIndex:function(g,f){return g[f];
},_getToolElement:function(f){return f.getElementsByTagName("A")[0];
},_attachHandlerToToolElementParent:function(f){var g=f.parentNode;
if($telerik.isSafari){g.setAttribute("onmousedown","return false;");
}$addHandlers(g,{click:this._onToolBarClickDelegate,keydown:this._onToolBarKeyDownDelegate},this);
},_attachHandlerToToolbarElement:function(f){},_toolbarSizeFixIE:function(f){},_onEditorSelectionChange:function(g,f){this.get_ribbonBar()._hideMenus();
this.setRibbonBarToolState();
this.setToolState();
this._rangeState=null;
},setRibbonBarToolState:function(n,h){if(!n){n=this._ribbonBarButtons;
}var f=this.get_editor(),k=Telerik.Web.UI.Editor.DomRange.rangeFromWindow(f.get_contentWindow());
this._rangeState=k;
for(var g=0;
g<n.length;
g++){var j=n[g];
var m=j.get_value();
var l=h;
if(null==l){l=f.getToolState(m,k);
}if(null!=l){this._setRibbonBarButtonState(j,l);
}}},_setRibbonBarButtonState:function(f,g){if(g==Telerik.Web.UI.Editor.CommandStates.Disabled){this._setToolEnabled(f,false);
}else{this._setToolEnabled(f,true);
if(g==Telerik.Web.UI.Editor.CommandStates.Off){f.set_toggled(false);
}else{f.set_toggled(true);
}}},get_toolbarMode:function(){if(!this._toolbarMode){this._toolbarMode=this.get_editor().get_toolbarMode();
}return this._toolbarMode;
},set_toolbarMode:function(f){this._toolbarMode=f;
}};
Telerik.Web.UI.Editor.RibbonBarToolAdapter.registerClass("Telerik.Web.UI.Editor.RibbonBarToolAdapter",Telerik.Web.UI.Editor.DefaultToolAdapter);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,j){var c=Telerik.Web.UI;
var b=c.Editor;
var h="div.rrbCommandGroup";
var g=".rrbImagePlaceholder";
var i="reToolIcon reRibbonToolIcon";
b.RibbonBarToolAdapterLite=function(k){b.RibbonBarToolAdapterLite.initializeBase(this,[k]);
};
b.RibbonBarToolAdapterLite.prototype={_getToolBarElements:function(){var k=this.get_ribbonBar().get_element();
if(!k){return null;
}return $telerik.$(k).find(h).get();
},_initializeRibbonBarButton:function(k){b.RibbonBarToolAdapterLite.callBaseMethod(this,"_initializeRibbonBarButton",[k]);
d(k);
}};
b.RibbonBarToolAdapterLite.registerClass("Telerik.Web.UI.Editor.RibbonBarToolAdapterLite",b.RibbonBarToolAdapter);
function d(m){var k=e(m);
var l=f(m);
k.addClass(i).addClass("re"+l);
var n=m.get_items&&m.get_items();
if(n){n.forEach(d);
}}function f(k){return k.get_value()||k.get_element().getAttribute("rel");
}function e(k){return a(k.get_element()).find(g);
}})($telerik.$);
Type.registerNamespace("Telerik.Web.UI");
(function(){var a=$telerik.$;
var b=Telerik.Web.UI;
var e="telerikEditor";
var c=Function.createDelegate;
var f=b.EventType;
var d=f.Down+"."+e;
var g="Mobile";
b.EditorButton=function(h){b.EditorButton.initializeBase(this,[h]);
this._enabled=true;
this._text="";
this._isOn=false;
this._contentAreaMode="";
this._enableAriaSupport=false;
this._rendermode="";
this._shortCut="";
};
b.EditorButton.getToolRootNode=function(h){while(h&&h.tagName!="A"){h=h.parentNode;
}return h;
};
b.EditorButton.prototype={initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorButton");
this.__attachEventHandlers();
},__attachEventHandlers:function(){if(this.get_addClickHandler()){var h=this.get_element();
if(!this._clickDelegate){this._clickDelegate=c(this,this.click);
if(this.get_rendermode()==g){this._attachMobileHandlers(h);
}else{this._attachHandlers(h);
}}}},_attachHandlers:function(h){$telerik.onEvent(h,d,this._clickDelegate);
},_attachMobileHandlers:function(h){b.Editor.UI.TapEvent.onTap(h,{down:c(this,this.select),move:c(this,this.deselect),tap:this._clickDelegate,namespace:e});
},__detachEventHandlers:function(){var h=this.get_element();
if(this._clickDelegate&&h){if(this.get_rendermode()==g){this._detachMobileHandlers(h);
}else{this._detachHandlers(h);
}delete this._clickDelegate;
}},_detachHandlers:function(h){$telerik.offEvent(h,d,this._clickDelegate);
},_detachMobileHandlers:function(h){b.Editor.UI.TapEvent.offTap(h);
},dispose:function(){this.__detachEventHandlers();
b.EditorButton.callBaseMethod(this,"dispose");
},click:function(h){this.raiseEvent("valueSelected");
return $telerik.cancelRawEvent(h);
},select:function(){this._view.select();
},deselect:function(){this._view.deselect();
},add_valueSelected:function(h){this.get_events().addHandler("valueSelected",h);
},remove_valueSelected:function(h){this.get_events().removeHandler("valueSelected",h);
},raiseEvent:function(i,h){var j=this.get_events().getHandler(i);
if(j){if(!h){h=Sys.EventArgs.Empty;
}j(this,h);
}},set_width:function(h){this._width=h;
if(this._view){this._view.set_width(h);
}},get_width:function(){if(this._view){this._width=this._view.get_width();
}return this._width;
},set_height:function(h){this._height=h;
if(this._view){this._view.set_height(h);
}},get_height:function(){if(this._view){this._width=this._view.get_width();
}return this._width;
},get_tooltipIncrease:function(){if(this._view){this._tooltipIncrease=this._view.get_tooltipIncrease();
}return this._tooltipIncrease;
},set_tooltipIncrease:function(h){this._tooltipIncrease=h;
if(this._view){this._view.set_tooltipIncrease(h);
}},get_tooltipDecrease:function(){if(this._view){this._tooltipDecrease=this._view.get_tooltipDecrease();
}return this._tooltipDecrease;
},set_tooltipDecrease:function(h){this._tooltipDecrease=h;
if(this._view){this._view.set_tooltipDecrease(h);
}},get_shortCut:function(){return this._shortCut;
},set_shortCut:function(h){this._shortCut=this._parseShortCut(h);
this._updateAnchorTitle();
},_parseShortCut:function(l){var j=(l+"").replace(/\s/g,""),i=Telerik.Web.Platform;
if(j.indexOf("/")!=-1&&j.indexOf("CMD")!=-1&&j.match(/CTRL|F[\d]/)){var k=j.split("/"),h=k[0].indexOf("CMD")>-1;
if(i&&i.mac){j=h?k[0]:k[1];
}else{j=h?k[1]:k[0];
}}return j;
},_updateAnchorTitle:function(){var h=this.get_shortCut(),i=this.get_text();
if(h){i=i.replace(/\([^\)]*\)/,"("+h+")");
}a(this.getAnchorElement()).attr("title",i);
},isTarget:function(h){return $telerik.isDescendantOrSelf(this.get_element(),h.target);
},setState:function(h){this.set_enabled(h!=b.Editor.CommandStates.Disabled);
this.setOn(h==b.Editor.CommandStates.On);
},setFocus:function(){var h=this.getAnchorElement();
if(h&&h.focus){h.focus();
}},get_enabled:function(){return this._enabled;
},set_enabled:function(h){if(this._enabled!=h){this._enabled=h;
if(this._view){if(h){this._view.enable();
}else{this._view.disable();
}}}},get_enableAriaSupport:function(){return this._enableAriaSupport;
},set_enableAriaSupport:function(j,i){if(this.get_enableAriaSupport()!=j){this._enableAriaSupport=j;
var h=this.getAnchorElement();
if(!h){return;
}if(this.get_enableAriaSupport()){i=i?i:"button";
h.setAttribute("role",i);
}}},isOn:function(){return this._isOn;
},setOn:function(i,h){if(this._isOn!=i){this._isOn=i;
if(this._view){if(this._isOn){this._view.select(h);
}else{this._view.deselect(h);
}}}},get_text:function(){if(this._text){return this._text;
}var h=this.getAnchorElement();
if(h&&h.getAttribute("title")){return h.getAttribute("title");
}return this.get_name();
},set_text:function(h){if(this._text!=h){this._text=h;
if(this.get_showText()&&this._view){this._view.set_text(h);
}}},get_contentAreaMode:function(){if(this._contentAreaMode!=""){return this._contentAreaMode;
}else{return b.EditorContentAreaMode.Iframe;
}},set_contentAreaMode:function(h){this._contentAreaMode=h;
},getAnchorElement:function(){return this.get_element();
},getSpanElement:function(){if(this.rendermode=="Lightweight"||(this._attributes&&this._attributes.rendermode==="Lightweight")){return null;
}else{var h=this.getAnchorElement();
var i=h.firstChild;
while(i!=null&&(i.tagName==null||i.tagName.toLowerCase()!="span")){i=i.nextSibling;
}return i;
}}};
a.registerControlProperties(b.EditorButton,{clientStateFieldID:null,attributes:{},addClickHandler:false,autoPostBack:false,name:"",showIcon:true,showText:false,skin:"",type:null,rendermode:"Classic",clientTypeName:"Telerik.Web.UI.EditorButton"});
a.registerControlEvents(b.EditorButton,["valueSelected"]);
b.EditorButton.registerClass("Telerik.Web.UI.EditorButton",Sys.UI.Control);
Telerik.Web.UI.EditorSpinBoxEventArgs=function(h,i){Telerik.Web.UI.EditorSpinBoxEventArgs.initializeBase(this);
this._newValue=h;
this._oldValue=i;
};
Telerik.Web.UI.EditorSpinBoxEventArgs.prototype={get_oldValue:function(){return this._oldValue;
},get_newValue:function(){return this._newValue;
}};
Telerik.Web.UI.EditorSpinBoxEventArgs.registerClass("Telerik.Web.UI.EditorSpinBoxEventArgs",Sys.CancelEventArgs);
Telerik.Web.UI.EditorSpinBox=function(h){Telerik.Web.UI.EditorSpinBox.initializeBase(this,[h]);
this._width="50px";
this._className="reSpinBox";
this._selectedItem="";
this._initialValue="";
this._visibleInput=true;
this._enabledIncrease=true;
this._enabledDecrease=true;
};
Telerik.Web.UI.EditorSpinBox.prototype={dispose:function(){this._inputElement.onchange=null;
this._inputElement.onkeypress=null;
this._inputElement.onclick=null;
this._inputElement=null;
this._increaseButton.onclick=null;
this._increaseButton=null;
this._decreaseButton.onclick=null;
this._decreaseButton=null;
Telerik.Web.UI.EditorSpinBox.callBaseMethod(this,"dispose");
},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorSpinBox");
},_executeFunction:function(h,i,k){if(k){if(i.Executed){i.Executed=false;
return $telerik.cancelRawEvent(h);
}}i.Executed=true;
var l=(this._selectedItem!="")?this._selectedItem:this._initialValue;
this._selectedItem=i.value;
var j=new Telerik.Web.UI.EditorSpinBoxEventArgs(i.value,l);
this.raiseEvent("valueSelected",j);
},_onPlusMinusClickHandler:function(h){var j=this._view.getSpinBoxArrowFormEvent(h);
if(!j){return;
}var k=this.get_value();
k=k.replace(/^0+(\d)/ig,"$1");
if(""==k){k="0";
}var l=parseInt(k,10);
var i=l+"";
if(isNaN(l)){return;
}else{i=k.substring(i.length);
}if(j==this._increaseButton){if(this._enabledIncrease){l++;
}else{return;
}}else{if(j==this._decreaseButton){if(this._enabledDecrease){l--;
}else{return;
}}else{j=null;
}}if(j&&l>=0){this.set_value(l+i);
this._executeFunction(h,this._inputElement);
}return false;
},_onChangeHandler:function(h){if(!h){h=window.event;
}this._executeFunction(h,this._inputElement);
},_onKeyPressHandler:function(h){if(!h){h=window.event;
}if(h.keyCode==13){this._executeFunction(h,this._inputElement);
return $telerik.cancelRawEvent(h);
}},_onKeyDownHandler:function(h){if(!h){h=window.event;
}h.returnValue=this._isKeyValid(h);
},_onKeyUpHandler:function(h){if(!h){h=window.event;
}if(this._isKeyValid(h,true)){var k=this._selectedItem;
var j=this.get_value();
var i=new Telerik.Web.UI.EditorSpinBoxEventArgs(j,k);
this.raiseEvent("valueSelected",i);
}},_isKeyValid:function(i,l){try{if(!i){i=window.event;
}var k=i.keyCode;
var h=((48<=k&&k<=57)||(96<=k&&k<=105)||(13==k)||(8==k)||(46==k)||(9==k)||(!l&&35<=k&&k<=40));
return h;
}catch(j){return true;
}},get_selectedItem:function(){return this._selectedItem;
},get_value:function(){return this._inputElement.value;
},set_value:function(h){if(null==h){h="";
}this._inputElement.value=h;
if(this._initialValue==""){this._initialValue=h;
}},get_width:function(){return this._width;
},set_width:function(i){this._width=i;
var h=this.get_element();
h.style.width=this._width;
},get_enabledIncrease:function(){return this._enabledIncrease;
},set_enabledIncrease:function(h){this._enabledIncrease=h;
this._setButtonState(this._increaseButton,h);
},get_enabledDecrease:function(){return this._enabledDecrease;
},set_enabledDecrease:function(h){this._enabledDecrease=h;
this._setButtonState(this._decreaseButton,h);
},_setButtonState:function(h,i){if(!i){Sys.UI.DomElement.addCssClass(h,"disabled-button");
}else{Sys.UI.DomElement.removeCssClass(h,"disabled-button");
}},get_visibleInput:function(){return this._visibleInput;
},set_visibleInput:function(h){this._visibleInput=h;
if(this._inputElement){if(!this._visibleInput){this._inputElement.style.display="none";
}else{this._inputElement.style.display="";
}}}};
Telerik.Web.UI.EditorSpinBox.registerClass("Telerik.Web.UI.EditorSpinBox",Telerik.Web.UI.EditorButton);
Telerik.Web.UI.EditorCheckBox=function(h){Telerik.Web.UI.EditorCheckBox.initializeBase(this,[h]);
this._selectedItem=false;
};
Telerik.Web.UI.EditorCheckBox.prototype={dispose:function(){this._inputElement.onclick=null;
this._inputElement.Parent=null;
this._inputElement=null;
Telerik.Web.UI.EditorCheckBox.callBaseMethod(this,"dispose");
},get_selectedItem:function(){return this._selectedItem;
},set_value:function(h){if(this._inputElement.checked!=h){this._inputElement.checked=h;
}},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorCheckBox");
var h=document.createElement("input");
h.setAttribute("type","CHECKBOX");
h.Parent=this;
h.onclick=function(i){var j=this.Parent;
j._selectedItem=!j._selectedItem;
this.checked=j._selectedItem;
j._selectedItem=this.checked;
j.raiseEvent("valueSelected");
};
this._inputElement=h;
this.get_element().appendChild(h);
}};
Telerik.Web.UI.EditorCheckBox.registerClass("Telerik.Web.UI.EditorCheckBox",Telerik.Web.UI.EditorButton);
Telerik.Web.UI.EditorTextBox=function(h){Telerik.Web.UI.EditorTextBox.initializeBase(this,[h]);
this._width="100px";
this._selectedItem="";
};
Telerik.Web.UI.EditorTextBox.prototype={dispose:function(){this._inputElement.onchange=null;
this._inputElement.onkeypress=null;
this._inputElement.onclick=null;
this._inputElement.Parent=null;
this._inputElement=null;
Telerik.Web.UI.EditorTextBox.callBaseMethod(this,"dispose");
},get_width:function(){return this._width;
},set_width:function(h){this._width=h;
},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorTextBox");
var i=document.createElement("input");
i.setAttribute("type","text");
i.style.width=this.get_width();
i.Parent=this;
var h=function(j,k,l){if(l){if(k.Executed){k.Executed=false;
return $telerik.cancelRawEvent(j);
}}k.Executed=true;
k.Parent._selectedItem=k.value;
k.Parent.raiseEvent("valueSelected");
return $telerik.cancelRawEvent(j);
};
i.onchange=function(j){if(!j){j=window.event;
}return h(j,this,true);
};
i.onclick=function(j){this.focus();
};
i.onkeypress=function(j){if(!j){j=window.event;
}if(j.keyCode==13){return h(j,this);
}};
this._inputElement=i;
this.get_element().appendChild(i);
},get_selectedItem:function(){return this._selectedItem;
},get_value:function(){return this._inputElement.value;
},set_value:function(h){if(null==h){h="";
}this._inputElement.value=h;
}};
Telerik.Web.UI.EditorTextBox.registerClass("Telerik.Web.UI.EditorTextBox",Telerik.Web.UI.EditorButton);
b.ImageDialogCaller=function(h){b.ImageDialogCaller.initializeBase(this,[h]);
this._hidePropertiesTab=false;
};
b.ImageDialogCaller.prototype={dispose:function(){this._inputElement=null;
var h=this.get_pushButton();
if(h){h.onclick=null;
}this.set_pushButton(null);
this.set_editor(null);
b.ImageDialogCaller.callBaseMethod(this,"dispose");
},initialize:function(){this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"ImageDialogCaller");
var h=this.get_element();
this._inputElement=h.getElementsByTagName("INPUT")[0];
var i=h.getElementsByTagName("A")[0];
this.set_pushButton(i);
if(i){i.onclick=Function.createDelegate(this,this._onButtonClickHandler);
}},_onButtonClickHandler:function(h){this.callImageDialog();
},_dialogCallbackFunction:function(k,h){var j=h&&h.get_value?h.get_value():null;
var i=j[j.length-1];
var l="";
if(i&&i.getAttribute){l=i.getAttribute("src",2);
}if(l){this._inputElement.value=l;
this.raiseEvent("valueSelected");
}},callImageDialog:function(){var i=Function.createDelegate(this,this._dialogCallbackFunction);
var l=this.get_editor();
var j=null;
if(l){j=l.get_dialogOpener();
}else{if(b.Dialogs&&b.Dialogs.CommonDialogScript&&b.Dialogs.CommonDialogScript.get_windowReference()){j=b.Dialogs.CommonDialogScript.get_windowReference().get_dialogOpener();
}}var o=null;
var n;
if(j){n=j.get_additionalQueryString();
var p=this._inputElement.value;
if(p){var m=p;
j.set_additionalQueryString(n+"&rndnum="+(new Date()-100)+"&PreselectedItemUrl="+encodeURIComponent(m));
var k=l?l.get_document():document;
o=k.createElement("img");
o.setAttribute("src",m);
}}var h=new b.EditorCommandEventArgs("ImageManager",null,o);
b.Editor.CommandList._getDialogArguments(h,"IMG",l,"ImageManager");
if(this._hidePropertiesTab){h._hidePropertiesTab=true;
}if(l){l.showDialog("ImageManager",h,i);
}else{if(j){j.open("ImageManager",h,i);
}}if(j){j.set_additionalQueryString(n);
}},get_value:function(){return this._inputElement.value;
},set_value:function(h){if(null==h){h="";
}this._inputElement.value=h;
}};
a.registerControlProperties(b.ImageDialogCaller,{pushButton:null,editor:null,width:""});
b.ImageDialogCaller.registerClass("Telerik.Web.UI.ImageDialogCaller",b.EditorButton);
})();
(function(a,u){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI,l="reFirstItem",q="reLastItem",r=".reEditorColorList",g="click",s="reSelectedColor",t="."+s,k=".reCurrentColor",j=".reCurrentColorHex",h="reColorListItem",i="."+h,e="reIconClearButton",d="reClearButton",f=".reClearButton",c=".reAddCustomColor",p='<li class="reColorListItem" style="width: # width #; background-color: # bgcolor #;"></li>',o='<ul class="reToolList reToolDropDown" unselectable="on"></ul>',m='<span title="# text #" role="button" class="reButton reAddCustomColor"># text #</span>',n='<div class="reColorPickerHeader">	<span role="button" title="Clear" class="reButton reClearButton" style="display: none;">		<span class="reIcon reIconClearButton"></span>	</span>	<span class="reCurrentColorWrapper">		<span style="background-color: # currentValue #;" class="reCurrentColor"></span>		<span class="reCurrentColorHex"># currentValueText #</span>	</span></div>';
b.EditorColorList=function(v){var w=this;
b.EditorColorList.initializeBase(w,[v]);
w._items=[];
w._value="";
w._addCustomColorText="Add Custom Color";
};
b.EditorColorList.prototype={initialize:function(){b.EditorColorList.callBaseMethod(this,"initialize");
this._$element=a(this.get_element());
this._createUI();
this._initialized=true;
this._attachElementsEventHandlers();
},_createUI:function(){this.renderHeader();
this.renderItemsContainer();
this.renderItems();
this.renderFooter();
},renderHeader:function(){var x=this,y=x.get_value(),w=y||x.get_currentColorText(),v=n.replace(/# currentValue #/ig,y).replace(/# currentValueText #/ig,w);
x._$element.append(v);
},renderItemsContainer:function(){var v=a(o).appendTo(this.get_element()).get(0);
this.set_itemsContainer(v);
},renderItems:function(){var z=this,y=z.get_itemsContainer();
z._renderedItems=0;
y.innerHTML="";
for(var w=0;
w<z._items.length;
w++){var x=z._items[w];
var v=z.renderItemContainer(y,x);
if(!x){a(v).hide();
z._showClearColorButton();
}else{z._styleEdges(v,w);
z._renderedItems++;
}}},_styleEdges:function(v,w){var A=this,z=A.get_itemsperrow(),x=A._renderedItems%z==0,y=A._renderedItems%z==z-1||w==A._items.length-1;
if(x){a(v).addClass(l);
}if(y){a(v).addClass(q);
if(!x){a(v.previousSibling).removeClass(q);
}}},_showClearColorButton:function(){this._$element.find(f).show();
},renderItemContainer:function(x,w){var y=parseFloat(100/this.get_itemsperrow(),10)+"%",v=a(p.replace(/# width #/g,y).replace(/# bgcolor #/g,w));
a(x).append(v);
return v.get(0);
},renderFooter:function(){var v=this.get_addCustomColorText(),w=m.replace(/# text #/g,v);
this._$element.append(w);
},_attachElementsEventHandlers:function(v){var x=this,w=this.get_element();
a(".reToolList",w).add(".reClearButton",w).add(".reAddCustomColor",w).on(g+r,a.proxy(x._onClick,x));
},_detachElementsEventHandlers:function(){var v=this.get_element();
a(".reToolList",v).add(".reClearButton",v).add(".reAddCustomColor",v).off(g+r);
},get_items:function(){return this._items;
},set_items:function(v){this._items=v;
if(this._initialized){this.renderItems();
}},get_value:function(){return this._value;
},set_value:function(v){this._value=v;
this._updateHeader();
this._markSelectedItem();
this.raiseEvent("valueSelected");
},_updateHeader:function(){var w=this,x=w.get_value(),v=w._rgbToHex(x)||w.get_currentColorText();
w._$element.find(k).css("background-color",w.get_value());
w._$element.find(j).html(v);
},_markSelectedItem:function(){var w=this,v=w._rgbToHex;
w._$element.find(t).removeClass(s);
w._$element.find(i).each(function(y,x){if(v(w.get_value()).toLowerCase()==v(x.style.backgroundColor).toLowerCase()){a(x).addClass(s);
return false;
}});
},get_itemsContainer:function(){return this._itemsContainer;
},set_itemsContainer:function(v){this._itemsContainer=v;
},get_text:function(){return this._text;
},click:function(){},_onClick:function(v){var x=this,w=v.target;
if(x._isClearButton(w)){x.set_value("");
}else{if(x._isColorItem(w)){x._colorItemClicked(v);
}else{if(x._isAddCustomColorButton(w)){x._customColorClicked();
}}}},_isClearButton:function(w){var v=a(w);
return v.hasClass(e)||v.hasClass(d);
},_isColorItem:function(v){return a(v).hasClass(h);
},_isAddCustomColorButton:function(v){return a(v).hasClass("reAddCustomColor");
},_colorItemClicked:function(v){var w=v.target,x=this._rgbToHex(w.style.backgroundColor);
this.set_value(x);
},_customColorClicked:function(x){var y=this,v=y._testValidColor(window.prompt(y.get_addCustomColorText(),"#"));
if(v){y._items.push(v);
var w=y.renderItemContainer(y.get_itemsContainer(),v);
y._styleEdges(w,y._items.length-1);
y._renderedItems++;
y.set_value(v);
}$telerik.cancelRawEvent(x);
},_testValidColor:function(v){if(v){var x=document.createElement("a");
try{x.style.borderBottom="3px solid "+v;
}catch(w){v="";
}finally{x=null;
}}return v;
},_rgbToHex:function(v){if(v.toLowerCase().indexOf("rgb")!=-1){var x="#";
var w=function(z){var y=parseInt(z,10).toString(16);
x+=(y.length==1?"0"+y:y);
return z;
};
v=v.replace(/(\d+)/gi,w);
w=null;
return x;
}else{return v;
}},set_addCustomColorText:function(v){this._addCustomColorText=v;
if(this._initialized){this._$element.find(c).html(this._addCustomColorText);
}},get_addCustomColorText:function(){return this._addCustomColorText;
},dispose:function(){this._detachElementsEventHandlers();
b.EditorColorList.callBaseMethod(this,"dispose");
}};
b.EditorColorList.registerClass("Telerik.Web.UI.EditorColorList",b.EditorButton);
a.registerControlProperties(b.EditorColorList,{itemsperrow:6,currentColorText:"Select Color"});
a.registerControlEvents(b.EditorColorList,["valueSelected"]);
})($telerik.$);
(function(a,v){Type.registerNamespace("Telerik.Web.UI");
var c=window.$telerik;
var b=Telerik.Web.UI;
var r=b.RenderMode;
var d=Telerik.Web.Browser;
var p=Telerik.Web.PositioningMode;
var k=b.EventType;
var q=a.proxy;
var e=Function.createDelegate;
var o="Mobile";
var n="li";
var u=".reToolView";
var i=".reDropDownsContainer";
var t="reRowSelected";
var s="reDropDownSelected";
var j=".telerikEditor";
var f=".";
var m="linear";
var l="hide";
var w="100vw";
var g="dblclick";
var h=120;
b.EditorDropDown=function(x){b.EditorDropDown.initializeBase(this,[x]);
this.isIE=c.isIE;
this._popupVisible=false;
this._rendered=false;
this._childrenRendered=false;
this._popupElement=null;
this._itemRootElement=null;
this._onPopupClickDelegate=null;
this._onPopupMouseDownDelegate=null;
this._onPopupMouseOverDelegate=null;
this._items=[];
this._isArrayCollection=false;
this._selectedIndex=-1;
this._activeIndex=-1;
};
b.EditorDropDown.prototype={initialize:function(){var x=this;
b.EditorDropDown.callBaseMethod(x,"initialize");
x._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(x,"EditorDropDown");
if(x._isMobileRenderMode()){x._attachElementHandlers();
}},_attachElementHandlers:function(){var y=this;
var x=a(y.get_element());
y._clickHandler=q(y.click,y);
b.Editor.UI.TapEvent.offTap(x[0]);
b.Editor.UI.TapEvent.onTap(x[0],{down:e(y,y.select),move:e(y,y.deselect),tap:y._clickHandler,namespace:"telerikEditor"});
x.doubletap(c.cancelRawEvent);
x.off(g+j);
x.on(g+j,c.cancelRawEvent);
},select:function(){var y=this;
var x=a(y.get_element());
x.addClass(s);
},deselect:function(){var y=this;
var x=a(y.get_element());
x.removeClass(s);
},dispose:function(){var x=this;
b.EditorDropDown.callBaseMethod(x,"dispose");
x.detachEventHandlers();
x.disposeChildren();
},click:function(y){var x=this;
if(x._isMobileRenderMode()){a(x.get_element()).removeClass(s);
}x.show();
return c.cancelRawEvent(y);
},isExpanded:function(){return this._popupVisible;
},show:function(){var x=this;
if(this._popupVisible){return;
}if(this.get_clearSelectedOnShow()){this.set_selectedIndex(-1);
}var y=false;
if(!this._rendered){this.render();
x.attachEventHandlers();
y=true;
}this.raiseEvent("show");
if(this._childrenRendered&&!this._allChildrenRendered()){this.disposeChildren();
}if(!this._childrenRendered){this.renderChildren();
x._attachItemsContainerEventHandlers();
x._attachItemsEventHandlers();
this._childrenRendered=true;
y=true;
}if(y){this._makeAllItemsUnselectable();
}if(x._isMobileRenderMode()){x._showPopup();
}else{this._show();
}if(this.get_enableAriaSupport()){this._popupElement.removeAttribute("aria-hidden");
}},configurePopupPropertiesBeforeShow:function(){var x=this;
if(x._isMobileRenderMode()){x._popupBehavior.set_positioningMode(p.None);
}else{x._popupBehavior.set_positioningMode(p.BottomLeft);
}},hide:function(){var x=this;
if(this._popupBehavior){this._popupBehavior.hide();
}this._popupVisible=false;
this._getPopupVisibilityController().notifyPopupClosed(x);
if(!x._isMobileRenderMode()){x.raiseEvent(l);
}if(this.get_enableAriaSupport()&&this._popupElement){this._popupElement.setAttribute("aria-hidden","true");
}},onPopupMouseOver:function(y){var x=this.resolveActiveIndex(y);
if(x>-1){this.set_activeIndex(x,y);
}c.cancelRawEvent(y);
},_onPopupClick:function(x){var y=this.resolveActiveIndex(x);
c.cancelRawEvent(x);
if(y>-1){this._selectedIndex=y;
if(this.get_enableAriaSupport()){this.selectUIItem(null,null,true);
}this.hide();
this.raiseEvent("valueSelected");
}},get_activeIndex:function(){return this._activeIndex;
},set_activeIndex:function(y,x){this._activeIndex=y;
this.selectUIItem(x);
},selectPreviousItem:function(){var x=this.get_activeIndex();
if(x-1>=0){this.set_activeIndex(x-1);
}},selectNextItem:function(){var x=this.get_activeIndex();
if(x+1<this._items.length){this.set_activeIndex(x+1);
}},selectUIItem:function(y,E,A){if(!this._popupElement||!this._view){return;
}var D=this.get_popupElement();
var x=this._view.getItemElements(D);
var B=x.length;
var G=this.get_activeIndex();
var F=null;
var H=this.get_enableAriaSupport()&&A;
for(var z=0;
z<B;
z++){var C=x[z];
if(!this._headerClassName||C.className!=this._headerClassName){if(H){C.removeAttribute("aria-selected");
}if(C.item_index==G){a(C).addClass("reItemOver");
F=C;
if(H){F.setAttribute("aria-selected","true");
D.setAttribute("aria-activedescendant",F.getAttribute("id"));
D.childNodes[0].setAttribute("aria-activedescendant",F.getAttribute("id"));
}}else{if(E&&C.item_index<=G){a(C).addClass("reItemOver");
}else{a(C).removeClass("reItemOver");
}}}}if(F&&!y){this._scrollIntoView(F);
}return F;
},_scrollIntoView:function(x){c.scrollIntoView(x);
},attachEventHandlers:function(){var x=this;
if(!this._popupElement){return;
}x.detachEventHandlers();
this._onPopupMouseOverDelegate=Function.createDelegate(this,this.onPopupMouseOver);
this._onPopupClickDelegate=Function.createDelegate(this,this._onPopupClick);
if(x._isMobileRenderMode()){x._attachElementHandlers();
x._attachItemsContainerEventHandlers();
x._attachItemsEventHandlers();
x._attachPopupElementEventHandlers();
}else{$addHandler(this._popupElement,"mouseover",this._onPopupMouseOverDelegate);
c.addHandler(this._popupElement,this._getPopupClickEventName(),this._onPopupClickDelegate);
}},_attachItemsContainerEventHandlers:function(){var x=this;
var y=x._itemRootElement;
if(x._isMobileRenderMode()){b.Editor.UI.TapEvent.onTap(y,{move:q(x._onItemsContainerMove,x),tap:q(x._onItemsContainerUp,y)});
}},_onItemsContainerMove:function(x){var y=x.currentTarget;
a(y).children(n+f+t).removeClass(t);
},_onItemsContainerUp:function(x){var y=this;
a(y).children(n+f+t).removeClass(t);
},_attachItemsEventHandlers:function(){var x=this;
var z=a(x._itemRootElement).children(n);
var A=z.length;
for(var y=0;
y<A;
y++){if(x._isMobileRenderMode()){b.Editor.UI.TapEvent.onTap(z[y],{down:q(x._highlightCurrentItem,x),tap:x._onPopupClickDelegate});
}else{a(z[y]).onEvent(k.Down+j,q(x._onItemDown,x));
}}},_attachPopupElementEventHandlers:function(){var y=this;
var x=a(y.get_popupElement());
x.doubletap(c.cancelRawEvent);
x.on(g+j,c.cancelRawEvent);
},_onItemDown:function(z){var y=this;
var x=a(y.get_popupElement());
y._highlightCurrentItem(z);
x.offEvent(k.Up+j,y._onPopupClickDelegate);
x.onEvent(k.Up+j,y._onPopupClickDelegate);
},_highlightCurrentItem:function(x){a(x.currentTarget).addClass(t);
},detachEventHandlers:function(){var x=this;
if(x._isMobileRenderMode()){x._detachElementEventHandlers();
x._detachItemsContainerEventHandlers();
x._detachItemsEventHandlers();
x._detachPopupElementEventHandlers();
}else{if(null!=this._onPopupMouseOverDelegate){$removeHandler(this._popupElement,"mouseover",this._onPopupMouseOverDelegate);
this._onPopupMouseOverDelegate=null;
}if(null!=this._onPopupClickDelegate){c.removeHandler(this._popupElement,this._getPopupClickEventName(),this._onPopupClickDelegate);
this._onPopupClickDelegate=null;
}}x._clickHandler=null;
},_detachElementEventHandlers:function(){var y=this;
var x=a(y.get_element());
b.Editor.UI.TapEvent.offTap(x);
x.offEvent(j);
x.off("click");
x.off("touchend");
},_detachItemsContainerEventHandlers:function(){b.Editor.UI.TapEvent.offTap(this._itemRootElement);
a(this._itemRootElement).off(j);
},_detachItemsEventHandlers:function(){a(this._itemRootElement).children(n).off(j);
},_detachPopupElementEventHandlers:function(){var y=this;
var x=a(y.get_popupElement());
x.offEvent(j);
x.off("click");
x.off("touchend");
},_getPopupClickEventName:function(){return this._shouldPreferMousedown()?"mousedown":"click";
},_shouldPreferMousedown:function(){return(c.isIE&&!d.iemobile)||d.edge||this.get_contentAreaMode()==b.EditorContentAreaMode.Div||Telerik.Web.Platform.ios;
},disposeChildren:function(){this._childrenRendered=false;
if(this._itemRootElement&&this._itemRootElement.parentNode){var x=this._itemRootElement;
this.renderItemRoot();
x.parentNode.replaceChild(this._itemRootElement,x);
}},render:function(){this._createUI();
this.renderHeader();
this.renderChildren();
this.renderFooter();
this._rendered=true;
this._childrenRendered=true;
},renderHeader:function(){if(this._view){this._view.renderHeader();
}},renderFooter:function(){if(this._view){this._view.renderFooter();
}},renderItemRoot:function(){this._itemRootElement=this._view?this._view.renderItemRoot():null;
return this._itemRootElement;
},renderNewRow:function(){return this._view?this._view.renderNewRow(this._itemRootElement):null;
},renderItemContainer:function(x){return this._view?this._view.renderItemContainer(this._itemRootElement,x):null;
},renderChildren:function(){return this._view?this._view.renderChildren():null;
},renderChild:function(x,y,A){if(this._view){this._view.renderChild(x,y,A);
}if(this.get_enableAriaSupport()){var z=this._popupBehavior.get_id()+"_"+A;
x.setAttribute("id",z);
x.setAttribute("role","option");
}},resolveActiveIndex:function(x){var y=x.target;
var z=-1;
while(y&&y!=this._itemRootElement){if(null!=y.item_index){z=y.item_index;
break;
}y=y.parentNode;
}return z;
},markItemContainer:function(y,x){y.item_index=x;
},_makeAllItemsUnselectable:function(){if(!this._popupElement){return;
}this._popupElement.setAttribute("unselectable","on");
var x=this._popupElement.getElementsByTagName("*");
var z=x.length;
for(var y=0;
y<z;
y++){x[y].unselectable="on";
}},_show:function(){this.configurePopupPropertiesBeforeShow();
var B=this._popupElement;
var C=this.get_sizetofit();
var A=B.style.overflow;
if(C){B.style.overflowY="hidden";
}this._itemRootElement.style.width="100%";
this._popupBehavior.show();
B.style.width=this.get_popupwidth();
B.style.height=this.get_popupheight();
var z=this._getPopupChildrenHeight();
if(z!="0px"){z=this._getQuirksModeHeight(B,z);
}if(C){B.style.width=this._getPopupChildrenWidth();
B.style.height=z;
}else{var x=parseInt(z,10);
var y=parseInt(B.style.height,10);
if(x<y&&x>(y/2)){B.style.height=z;
}}this._popupBehavior.show();
this._getPopupVisibilityController().set_activePopup(this);
B.style.zIndex="100000";
if(C){B.style.overflowY=A;
}this._popupVisible=true;
},_showPopup:function(){var x=this;
x.configurePopupPropertiesBeforeShow();
x._popupBehavior.show();
x._getPopupVisibilityController().set_activePopup(x);
x._popupVisible=true;
},_getQuirksModeHeight:function(C,A){try{if(c.quirksMode){var x=c.getBorderBox(C);
var B=c.getPaddingBox(C);
var z=parseInt(A,10)+(x.top*2);
z+=B.top+B.bottom;
A=z+"px";
}}catch(y){}return A;
},_getPopupChildrenWidth:function(){var x=this.get_popupElement().childNodes;
var A=0;
for(var y=0;
y<x.length;
y++){var z=x[y].offsetWidth;
if(z&&z>A){A=z;
}}return A+"px";
},_getPopupChildrenHeight:function(){var x=this.get_popupElement().childNodes;
var y=0;
for(var z=0;
z<x.length;
z++){if(x[z].offsetHeight){y+=x[z].offsetHeight;
}}return y+"px";
},_getPopupVisibilityController:function(){return b.Editor.PopupController;
},getUniqueID:function(){if(!window.RadEditor_uniqueSeed){window.RadEditor_uniqueSeed=new Date()-101;
}if(!window.RadEditor_uniqueIdCounter){window.RadEditor_uniqueIdCounter=1;
}else{window.RadEditor_uniqueIdCounter++;
}var x=window.RadEditor_uniqueSeed-window.RadEditor_uniqueIdCounter;
return"UniqueID"+x;
},_createUI:function(){var x=this;
var z=x._isMobileRenderMode();
if(this._popupBehavior){return;
}var y=this.get_element();
if(!this._popupElement){var B=document.createElement("div");
var C="";
if(this._rendermode=="Lightweight"||(this._attributes&&this._attributes.rendermode=="Lightweight")){C="RadEditor_"+this.get_skin();
}else{C=this.get_skin();
}c.addCssClasses(B,[C,this.get_rootpopupclassname(),this.get_popupclassname()]);
this._popupElement=B;
this._popupElement.style.display="none";
if(!z){this._popupElement.style.position="absolute";
}if(z){a(y).closest(u).find(i).append(x._popupElement);
}else{document.body.appendChild(this._popupElement);
}}this.renderItemRoot();
this._popupElement.appendChild(this._itemRootElement);
this._popupBehavior=$create(Telerik.Web.PopupBehavior,{id:this.getUniqueID(),parentElement:y,_useAnimation:z},null,null,this._popupElement);
if(z){x._setAnimation();
}if(this.get_enableAriaSupport()){var A=this.get_popupElement();
A.setAttribute("role","listbox");
A.setAttribute("aria-hidden","true");
A.setAttribute("aria-label",this.get_element().title);
}},_isMobileRenderMode:function(){var x=this;
var y=x._rendermode;
return(y===r.Mobile||y===o);
},_setAnimation:function(){var y=this;
var x=a(y.get_popupElement());
y._popupBehavior.set_showAnimation({easing:m,duration:h,properties:{"margin-left":0}});
y._popupBehavior.set_hideAnimation({easing:m,duration:h,properties:{"margin-left":w},callback:function(){x.hide();
y.raiseEvent(l);
}});
x.css("margin-left",w);
},_allChildrenRendered:function(){return true;
},get_popupElement:function(){return this._popupElement;
},get_selectedItem:function(){if(this._items&&this._selectedIndex>-1){var x=this._items[this._selectedIndex];
var y=((true==this._isArrayCollection)||(x instanceof Array))?x[0]:x;
return y;
}return null;
},get_selectedIndex:function(){return this._selectedIndex;
},set_selectedIndex:function(x){this._selectedIndex=x;
this.set_activeIndex(x);
},get_items:function(){return this._items;
},set_items:function(x){this.disposeChildren();
this._items=x;
},set_enableAriaSupport:function(y){b.EditorDropDown.callBaseMethod(this,"set_enableAriaSupport",[y]);
var x=this.getAnchorElement();
if(x&&this.get_enableAriaSupport()){x.setAttribute("aria-haspopup","true");
}}};
a.registerControlProperties(b.EditorDropDown,{popupheight:"16.7em",popupwidth:"16.7em",rootpopupclassname:"reDropDownBody",popupclassname:"",sizetofit:false,itemsperrow:1,clearSelectedOnShow:true});
a.registerControlEvents(b.EditorDropDown,["show","hide"]);
b.EditorDropDown.registerClass("Telerik.Web.UI.EditorDropDown",b.EditorButton);
Telerik.Web.UI.EditorUpdateableDropDown=function(x){Telerik.Web.UI.EditorUpdateableDropDown.initializeBase(this,[x]);
};
Telerik.Web.UI.EditorUpdateableDropDown.prototype={initialize:function(){b.EditorUpdateableDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorUpdateableDropDown");
},updateValue:function(z){var x=this;
if(null==z){return;
}try{if(!z){z=this.get_text();
}if(this._view){x._view.updateElementsOnValueChange(z);
}this._value=z;
}catch(y){}},get_value:function(){if(!this._value||this._value==this.get_text()){return"";
}return this._value;
},set_value:function(x){this.updateValue(x);
},dispose:function(){Telerik.Web.UI.EditorUpdateableDropDown.callBaseMethod(this,"dispose");
}};
Telerik.Web.UI.EditorUpdateableDropDown.registerClass("Telerik.Web.UI.EditorUpdateableDropDown",Telerik.Web.UI.EditorDropDown);
Telerik.Web.UI.EditorSelfUpdateableDropDown=function(x){Telerik.Web.UI.EditorSelfUpdateableDropDown.initializeBase(this,[x]);
this._clientStateFieldID=null;
};
Telerik.Web.UI.EditorSelfUpdateableDropDown.prototype={initialize:function(){b.EditorSelfUpdateableDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorSelfUpdateableDropDown");
},_onPopupClick:function(x){var z=this.resolveActiveIndex(x);
c.cancelRawEvent(x);
if(z>-1){this._selectedIndex=z;
this.hide();
var y=this.get_selectedItem();
if(y){this.updateValue(y);
}this.raiseEvent("valueSelected");
}}};
Telerik.Web.UI.EditorSelfUpdateableDropDown.registerClass("Telerik.Web.UI.EditorSelfUpdateableDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.EditorSplitButton=function(x){Telerik.Web.UI.EditorSplitButton.initializeBase(this,[x]);
this._updateHeader=true;
};
Telerik.Web.UI.EditorSplitButton.prototype={click:function(x){var z=this;
if(z._isMobileRenderMode()){a(z.get_element()).removeClass(s);
z.show();
return c.cancelRawEvent(x);
}else{var y=this.isArrowClicked(x.target);
if(y||!this._updateHeader){this.show();
}else{var A=this.get_selectedItem();
if(null==A){this.show();
}else{this.raiseEvent("valueSelected");
}}return c.cancelRawEvent(x);
}},initialize:function(){Telerik.Web.UI.EditorSplitButton.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorSplitButton");
this.set_clearSelectedOnShow(false);
},isArrowClicked:function(y){var x=this._getArrowElement();
if(y==x){return true;
}return false;
},_getArrowElement:function(){if(this._view){return this._view.getSplitArrow();
}return null;
},get_updateHeader:function(){return this._updateHeader;
},set_updateHeader:function(x){this._updateHeader=x;
}};
Telerik.Web.UI.EditorSplitButton.registerClass("Telerik.Web.UI.EditorSplitButton",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.EditorToolStrip=function(x){Telerik.Web.UI.EditorToolStrip.initializeBase(this,[x]);
this._tools=[];
};
Telerik.Web.UI.EditorToolStrip.prototype={initialize:function(){b.EditorToolStrip.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorToolStrip");
},selectUIItem:function(y){for(var z=0;
z<this._items.length;
z++){var A=this._items[z];
if(z==this._activeIndex&&A.get_enabled()){A.setOn(true,"aria-selected");
var x=A.getAnchorElement();
if(x&&this.get_enableAriaSupport()){this.get_popupElement().setAttribute("aria-activedescendant",x.getAttribute("id"));
}}else{A.setOn(false,"aria-selected");
}}},set_selectedIndex:function(x){var z=this._view,y=this.get_updateHeader();
if(y&&z._clearHeader){z._clearHeader();
}Telerik.Web.UI.EditorToolStrip.callBaseMethod(this,"set_selectedIndex",[x]);
if(y&&z._updateHeader){z._updateHeader();
}},hide:function(){Telerik.Web.UI.EditorToolStrip.callBaseMethod(this,"hide");
if(this.isIE){var z=this.get_selectedItem();
if(!z||!z.get_element){return;
}var x=z.get_element();
if(x){var y=x.cloneNode(true);
x.replaceNode(y);
z._element=y;
}}},show:function(){var y=this._items;
for(var x=0,z=y.length;
x<z;
x++){var A=y[x];
A.setOn(false,"aria-selected");
}Telerik.Web.UI.EditorToolStrip.callBaseMethod(this,"show");
},_onPopupClick:function(x){var z=this._resolveSelectedTool(x);
c.cancelRawEvent(x);
if(z){var y=Array.indexOf(this._items,z);
if(c.isSafari){this._selectedIndex=y;
this.set_activeIndex(y);
}else{this.set_selectedIndex(y);
}this.hide();
this.raiseEvent("valueSelected");
}},renderChildren:function(){if(this._view){this._view.renderChildren();
}},_resolveSelectedTool:function(x){for(var y=0;
y<this._items.length;
y++){var z=this._items[y];
if(z.isTarget(x)){if(z.get_enabled()){return z;
}else{return null;
}}}},get_tools:function(){return this._tools;
},set_tools:function(x){this._tools=Array.clone(x);
}};
Telerik.Web.UI.EditorToolStrip.registerClass("Telerik.Web.UI.EditorToolStrip",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.EditorContextMenu=function(x){Telerik.Web.UI.EditorContextMenu.initializeBase(this,[x]);
this._parentElement=null;
this._eventObject=null;
};
Telerik.Web.UI.EditorContextMenu.prototype={initialize:function(){this.set_updateHeader(false);
this.set_clearSelectedOnShow(true);
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"EditorContextMenu");
},show:function(){this.set_activeIndex(-1);
Telerik.Web.UI.EditorContextMenu.callBaseMethod(this,"show");
},configurePopupPropertiesBeforeShow:function(){var z=this._popupBehavior;
if(this._isMobileRenderMode()){z.set_positioningMode(Telerik.Web.PositioningMode.None);
}else{z.set_positioningMode(Telerik.Web.PositioningMode.Absolute);
}var y=this.get_parentElement();
if(y){if(Telerik.Web.UI.Editor.Utils.isEditorContentArea(y)&&y.tagName=="DIV"){y=document.body;
}z.set_parentElement(y);
}var x=this._eventObject;
if(x){z.set_x(x.clientX+10);
z.set_y(x.clientY+10);
}},set_eventObject:function(x){this._eventObject=x;
},get_tagName:function(){return this._tagName;
},set_tagName:function(x){this._tagName=x;
},get_parentElement:function(){return this._parentElement;
},set_parentElement:function(x){this._parentElement=x;
}};
Telerik.Web.UI.EditorContextMenu.registerClass("Telerik.Web.UI.EditorContextMenu",Telerik.Web.UI.EditorToolStrip);
})($telerik.$);
(function(){Type.registerNamespace("Telerik.Web.UI.Editor");
var a=$telerik.$;
var b=Telerik.Web.UI;
var d=b.Editor;
var e=d.Utils;
var c=Function.createDelegate;
Telerik.Web.UI.Editor.AlignmentSelector=function(f){Telerik.Web.UI.Editor.AlignmentSelector.initializeBase(this,[f]);
this._tagName="TD";
this._selectedTuple=null;
this._noAlignmentIndex=0;
this._onValueSelectedDelegate=null;
this._clientStateFieldID=null;
};
Telerik.Web.UI.Editor.AlignmentSelector.prototype={initialize:function(){Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"AlignmentSelector");
this.set_popupwidth("6.5em");
this.set_popupheight("8.33em");
this.set_popupclassname("reAlignmentSelector");
this.set_itemsperrow(3);
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
this.setTagName(this._tagName);
},dispose:function(){this.remove_valueSelected(this._onValueSelectedDelegate);
Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"dispose");
},_imgAlignment:[["",""],["none",""],["",""],["",""],["top",""],["",""],["left",""],["absmiddle",""],["right",""],["",""],["bottom",""],["",""]],_cellAlignment:[["",""],["none",""],["",""],["left","top"],["center","top"],["right","top"],["left","middle"],["center","middle"],["right","middle"],["left","bottom"],["center","bottom"],["right","bottom"]],_tableAlignment:[["",""],["none",""],["",""],["left",""],["center",""],["right",""],["",""],["",""],["",""],["",""],["",""],["",""]],_captionAlignment:[["",""],["none",""],["",""],["left","top"],["center","top"],["right","top"],["",""],["",""],["",""],["left","bottom"],["center","bottom"],["right","bottom"]],_alignmentClassName:["reNoAlignment","reNoAlignment","reNoAlignment","reTopLeft","reTopCenter","reTopRight","reMiddleLeft","reMiddleCenter","reMiddleRight","reBottomLeft","reBottomCenter","reBottomRight"],_getLookupTableByTagName:function(f){switch(f.toUpperCase()){case"IMG":return this._imgAlignment;
case"TABLE":return this._tableAlignment;
case"TD":return this._cellAlignment;
case"TH":return this._cellAlignment;
case"CAPTION":return this._captionAlignment;
default:return null;
}},_configureAlignmentTable:function(o){if(!this._rendered){this.render();
}var n=this._itemRootElement;
var g=0;
for(var h=0;
h<n.rows.length;
h++){var l=false;
for(var m=0;
m<n.rows[h].cells.length;
m++){var f=n.rows[h].cells[m];
var k=this._isAvailable(g++);
f.style.visibility=k?"visible":"hidden";
l|=k;
}if(null!=document.all){n.rows[h].style.display=l?"":"none";
}}},_isAvailable:function(g){var h=false;
if(this._items){var f=this._items[g];
h=((null!=f)&&(""!=f[0]||""!=f[1]));
}return h;
},_onDropDownValueSelected:function(){this.set_selectedIndex(this.get_selectedIndex());
},_selectAlignment:function(f,l){f=(""==f||!f)?"none":f.toUpperCase();
l=!l?"":l.toUpperCase();
if(this._items){var j=-1;
for(var h=0;
h<this._items.length;
h++){if(this._isAvailable(h)){var g=this._items[h][0].toUpperCase();
var k=this._items[h][1].toUpperCase();
if(-1==j){j=h;
}if((f==g||f==k)&&(l==g||l==k)){this.set_selectedIndex(h);
return;
}}}this.set_selectedIndex(j);
}},set_selectedIndex:function(f){Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"set_selectedIndex",[f]);
if(this._view){this._view.decorate(this._alignmentClassName[f]);
}},setTagName:function(f){this._tagName=f;
this._items=this._getLookupTableByTagName(this._tagName);
this.set_selectedIndex(this._noAlignmentIndex);
},updateValue:function(f,g){this._selectAlignment(f,g);
},getAlign:function(){var f=this._items[this._selectedIndex];
var g=(f?f[0]:"");
if("none"==g){g="";
}return g;
},getVAlign:function(){var f=this._items[this._selectedIndex];
var g=(f?f[1]:"");
if("none"==g){g="";
}return g;
},show:function(){Telerik.Web.UI.Editor.AlignmentSelector.callBaseMethod(this,"show");
this._itemRootElement.cellSpacing=0;
this._configureAlignmentTable(this._tagName);
},get_clientStateFieldID:function(){return this._clientStateFieldID;
},set_clientStateFieldID:function(f){this._clientStateFieldID=f;
}};
Telerik.Web.UI.Editor.AlignmentSelector.registerClass("Telerik.Web.UI.Editor.AlignmentSelector",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.Editor.InsertTableHelper=function(f){Telerik.Web.UI.Editor.InsertTableHelper.initializeBase(this,[f]);
};
Telerik.Web.UI.Editor.InsertTableHelper.prototype={initialize:function(){Telerik.Web.UI.Editor.InsertTableHelper.callBaseMethod(this,"initialize");
var f=new Array(this.get_itemsperrow()*this.get_itemsperrow());
for(var g=0;
g<f.length;
g++){f[g]=g;
}this._items=f;
},hide:function(){},renderChild:function(f,g,i){var j=document.createElement("div");
j.innerHTML="&nbsp;";
f.appendChild(j);
var h=this._getDimensionByIndex(i);
f.setAttribute("title"," "+h.rows+" x "+h.cols+" ");
},_getDimensionByIndex:function(k){var l=0;
var j=0;
var g=this.get_itemsperrow();
for(var f=0;
f<this._items.length;
f++){if(f%g==0){l++;
j=0;
}j++;
if(k==f){break;
}}var h={rows:l,cols:j};
return h;
},get_selectedItem:function(){var f=this.get_selectedIndex();
return this._getDimensionByIndex(f);
},selectUIItem:function(k,o){var f=this._popupElement.getElementsByTagName("TD");
var m=f.length;
var p=this.get_activeIndex();
var j=this._getDimensionByIndex(p);
var g=j.cols;
for(var l=0;
l<m;
l++){var n=f[l];
var h=n.item_index;
if(h<=p&&n.cellIndex<g){n.className="reItemOver";
}else{n.className="";
}}}};
Telerik.Web.UI.Editor.InsertTableHelper.registerClass("Telerik.Web.UI.Editor.InsertTableHelper",Telerik.Web.UI.EditorDropDown);
Telerik.Web.UI.Editor.InsertTable=function(f){Telerik.Web.UI.Editor.InsertTable.initializeBase(this,[f]);
};
Telerik.Web.UI.Editor.InsertTable.prototype={initialize:function(){Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"initialize");
this._onTableHelperValueSelectedDelegate=Function.createDelegate(this,this._onTableHelperValueSelected);
this._tableHelper=null;
this._tableHelperItemsPerRow=this.get_itemsperrow();
this.set_itemsperrow(6);
this.set_popupwidth("12em");
this.set_updateHeader(false);
var g=this.get_tools();
this._longTool=g[0];
Array.removeAt(g,0);
for(var f=0;
f<g.length;
f++){g[f].showText=false;
}},show:function(){Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"show");
this._tableHelper.set_selectedIndex(-1);
},_onPopupClick:function(f){this._tableHelperClicked=false;
Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"_onPopupClick",[f]);
},_onTableHelperValueSelected:function(){this._tableHelperClicked=true;
this.set_selectedIndex(-1);
var f=this.getSpanElement();
if(f){f.className="InsertTable";
}this.hide();
this.raiseEvent("valueSelected");
},get_selectedItem:function(){if(this._tableHelperClicked){return this._tableHelper.get_selectedItem();
}else{return Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"get_selectedItem");
}},renderHeader:function(){var f={skin:this.get_skin(),itemsperrow:this._tableHelperItemsPerRow,sizetofit:true};
var g={valueSelected:this._onTableHelperValueSelectedDelegate};
var j=$create(Telerik.Web.UI.Editor.InsertTableHelper,f,g,null,document.createElement("div"));
j.set_rootpopupclassname("");
this._tableHelper=j;
j.render();
j.attachEventHandlers();
var i=j.get_popupElement();
i.style.display="";
i.style.visibility="visible";
i.style.position="";
i.style.cssFloat="left";
var h=this.get_popupElement();
h.insertBefore(i,h.firstChild);
},renderChildren:function(){Telerik.Web.UI.Editor.InsertTable.callBaseMethod(this,"renderChildren");
var g=this._itemRootElement;
if(this._longTool){var i=document.createElement("ul");
g.insertBefore(i,g.firstChild);
this._longTool.showText=true;
var f=document.createElement("li");
i.appendChild(f);
var h=Telerik.Web.UI.Editor.UI.StaticToolsUI.createTool(this._rendermode,this._longTool,null,null,null,f);
h.get_element().style.width="auto";
this._items[this._items.length]=h;
}}};
Telerik.Web.UI.Editor.InsertTable.registerClass("Telerik.Web.UI.Editor.InsertTable",Telerik.Web.UI.EditorToolStrip);
Telerik.Web.UI.Editor.FormatPainterStrip=function(f){Telerik.Web.UI.Editor.FormatPainterStrip.initializeBase(this,[f]);
};
Telerik.Web.UI.Editor.FormatPainterStrip.prototype={initialize:function(){Telerik.Web.UI.Editor.FormatPainterStrip.callBaseMethod(this,"initialize");
this.renderItemRoot();
this.renderChildren();
this.set_selectedIndex(0);
}};
Telerik.Web.UI.Editor.FormatPainterStrip.registerClass("Telerik.Web.UI.Editor.FormatPainterStrip",Telerik.Web.UI.EditorToolStrip);
Telerik.Web.UI.Editor.ColorPicker=function(f){Telerik.Web.UI.Editor.ColorPicker.initializeBase(this,[f]);
this._clientStateFieldID=null;
this._addCustomColorText="Add Custom Color";
this._renderedChildrenCount=0;
};
Telerik.Web.UI.Editor.ColorPicker.prototype={initialize:function(){Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"ColorPicker");
this.set_popupclassname("reColorPicker");
this.set_sizetofit(true);
this.set_itemsperrow(10);
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
},dispose:function(){this.remove_valueSelected(this._onValueSelectedDelegate);
Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(this,"dispose");
},disposeChildren:function(){var f=this;
f._renderedChildrenCount=0;
Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(f,"disposeChildren");
},_onDropDownValueSelected:function(){var f=this.get_selectedItem();
this.set_color(f);
},get_value:function(){return this.get_color();
},set_value:function(f){this.set_color(f);
},set_color:function(f){if(!f){f="";
}if(this._view){this._view.decorate(f);
}this._color=f;
},get_color:function(){return this._color;
},onPopupMouseOver:function(f){Telerik.Web.UI.Editor.ColorPicker.callBaseMethod(this,"onPopupMouseOver",[f]);
var g=this.get_activeIndex();
var h=this._items[g];
if(null==h){return;
}if(this._infoSpan1){this._infoSpan1.innerHTML=h;
this._infoSpan1.style.backgroundColor=h;
}if(this._infoSpan2){this._infoSpan2.innerHTML=h;
this._infoSpan2.style.color=h;
}},_customColorClicked:function(g){var f=window.prompt(this.get_addCustomColorText(),"#");
if(f){var l=document.createElement("a");
try{l.style.borderBottom="3px solid "+f;
}catch(h){f="";
}finally{l=null;
}}if(f){this._items[this._items.length]=f;
var j=(this._items.length-1);
if(0==(j%this.get_itemsperrow())){this.renderNewRow();
}var k=this.renderItemContainer();
this.markItemContainer(k,j);
this.renderChild(k,this._items[j],j);
this.set_selectedIndex(j);
this.hide();
this.raiseEvent("valueSelected");
}$telerik.cancelRawEvent(g);
},_allChildrenRendered:function(){var f=this;
return f._renderedChildrenCount==f._items.length;
},renderFooter:function(){var f=document.createElement("div");
f.style.textAlign="center";
var g=document.createElement("a");
g.className="reCustomColor";
g.setAttribute("href","#");
g.innerHTML=this.get_addCustomColorText();
$addHandlers(g,{click:this._customColorClicked},this);
f.appendChild(g);
this.get_popupElement().appendChild(f);
var h=document.createElement("div");
h.className="reColorPickerFooter";
var i=document.createElement("span");
i.className="reDarkColor";
var j=document.createElement("span");
j.className="reLightColor";
i.innerHTML=j.innerHTML="&nbsp";
h.appendChild(i);
h.appendChild(j);
this.get_popupElement().appendChild(h);
this._infoSpan1=i;
this._infoSpan2=j;
},renderChild:function(f,g,h){var i=document.createElement("div");
if(null!=g){i.style.backgroundColor=g;
i.setAttribute("title",g);
i.innerHTML="&nbsp;";
}f.appendChild(i);
this._renderedChildrenCount++;
},get_clientStateFieldID:function(){return this._clientStateFieldID;
},set_clientStateFieldID:function(f){this._clientStateFieldID=f;
},get_addCustomColorText:function(){return this._addCustomColorText;
},set_addCustomColorText:function(f){this._addCustomColorText=f;
}};
Telerik.Web.UI.Editor.ColorPicker.registerClass("Telerik.Web.UI.Editor.ColorPicker",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.Editor.MobileColorPicker=function(g){var f=this;
Telerik.Web.UI.Editor.MobileColorPicker.initializeBase(f,[g]);
f._clientStateFieldID=null;
f._addCustomColorText="Add Custom Color";
f._currentColorText="Current Color";
f._renderedChildrenCount=0;
};
Telerik.Web.UI.Editor.MobileColorPicker.prototype={initialize:function(){var f=this;
Telerik.Web.UI.Editor.MobileColorPicker.callBaseMethod(f,"initialize");
f.set_clearSelectedOnShow(false);
f._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(f,"ColorPicker");
f.set_popupclassname("reColorPicker");
f.set_itemsperrow(6);
},_attachItemsEventHandlers:function(){},_attachPopupElementEventHandlers:function(){var f=this;
var g=f.get_popupElement();
d.MobileColorPicker.callBaseMethod(f,"_attachPopupElementEventHandlers");
d.UI.TapEvent.onTap(g,c(f,f._onPopupClick));
},_detachPopupElementEventHandlers:function(){var f=this.get_popupElement();
d.MobileColorPicker.callBaseMethod(this,"_detachPopupElementEventHandlers");
d.UI.TapEvent.offTap(f);
},_onPopupClick:function(g){var f=this,h=g.target;
if(f._isAddCustomColorElement(h)){f._customColorClicked(g);
}else{if(f._isClearColorElement(h)){f._clearColorClicked(g);
}else{if(f._isCurrentColorWrapperElement(h)){f._currentCollorClicked(g);
}else{return Telerik.Web.UI.Editor.MobileColorPicker.callBaseMethod(f,"_onPopupClick",[g]);
}}}},_isAddCustomColorElement:function(g){var f=this.get_addCustomColorElement();
return g===f||g.parentNode==f;
},_isClearColorElement:function(g){var f=this.get_clearColorElement();
return g===f||g.parentNode===f;
},_isCurrentColorWrapperElement:function(g){var f=this.get_currentColorWrapperElement();
return g&&f===g||f===g.parentNode;
},_customColorClicked:function(h){var g=this,f=g._testValidColor(window.prompt(g.get_addCustomColorText(),"#"));
if(f){g._items[g._items.length]=f;
var j=(g._items.length-1);
var k=g.renderItemContainer(f);
g.markItemContainer(k,j);
g.renderChild(k,g._items[j],j);
g.set_selectedIndex(j);
g.hide();
g.raiseEvent("valueSelected");
}$telerik.cancelRawEvent(h);
},_testValidColor:function(f){if(f){var h=document.createElement("a");
try{h.style.borderBottom="3px solid "+f;
}catch(g){f="";
}finally{h=null;
}}return f;
},_clearColorClicked:function(g){var f=this;
f.set_selectedIndex(f._clearColorItemIndex);
f.hide();
f.raiseEvent("valueSelected");
$telerik.cancelRawEvent(g);
},_currentCollorClicked:function(g){var f=this,h=f.get_selectedIndex();
if(h>-1&&h!=f._clearColorItemIndex){f.hide();
f.raiseEvent("valueSelected");
}$telerik.cancelRawEvent(g);
},isEmptyValue:function(f){return !f||f==this.get_text();
},get_addCustomColorText:function(){return this._addCustomColorText;
},set_addCustomColorText:function(f){this._addCustomColorText=f;
},get_currentColorText:function(){return this._currentColorText;
},set_currentColorText:function(f){this._currentColorText=f;
},get_addCustomColorElement:function(){return this._view?this._view.get_addCustomColorElement():null;
},get_currentColorWrapperElement:function(){return this._view?this._view.get_currentColorWrapperElement():null;
},get_clearColorElement:function(){return this._view?this._view.get_clearColorElement():null;
}};
Telerik.Web.UI.Editor.MobileColorPicker.registerClass("Telerik.Web.UI.Editor.MobileColorPicker",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.Editor.UndoRedoDropDown=function(f){Telerik.Web.UI.Editor.UndoRedoDropDown.initializeBase(this,[f]);
};
Telerik.Web.UI.Editor.UndoRedoDropDown.prototype={renderFooter:function(){},get_selectedItem:function(){var f=Telerik.Web.UI.Editor.UndoRedoDropDown.callBaseMethod(this,"get_selectedItem");
if(!f){f=1;
}return f;
},selectUIItem:function(f,g){return Telerik.Web.UI.Editor.UndoRedoDropDown.callBaseMethod(this,"selectUIItem",[f,true]);
}};
Telerik.Web.UI.Editor.UndoRedoDropDown.registerClass("Telerik.Web.UI.Editor.UndoRedoDropDown",Telerik.Web.UI.EditorSplitButton);
Telerik.Web.UI.Editor.ApplyClassDropDown=function(f){Telerik.Web.UI.Editor.ApplyClassDropDown.initializeBase(this,[f]);
this._onValueSelectedDelegate=null;
this._clientStateFieldID=null;
this._clearclasstext="Clear Class";
this._isArrayCollection=true;
};
Telerik.Web.UI.Editor.ApplyClassDropDown.prototype={initialize:function(){Telerik.Web.UI.Editor.ApplyClassDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"ApplyClassDropDown");
this.set_popupclassname("reApplyClass");
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
this._cssClassRegex=/[^\{]*\{([^\}]+)\}/gi;
},dispose:function(){this.remove_valueSelected(this._onValueSelectedDelegate);
Telerik.Web.UI.Editor.ApplyClassDropDown.callBaseMethod(this,"dispose");
},_onDropDownValueSelected:function(){this.updateValue(this.get_selectedItem());
},_getClassIcon:function(g){if(!g){g="";
}else{g=g.toLowerCase();
}var f=document.createElement("span");
f.innerHTML="&nbsp;"+g;
f.className="reClass_"+g;
return f;
},_getClassTag:function(f){return e.getTagByStyleRule(f)||"All";
},_getClassCss:function(g){var h=this._cssClassRegex;
var f="";
if(null!=g.cssText){f=g.cssText;
f=f.replace(h,"$1");
}else{f=g.style.cssText;
}return f;
},_getDisplayName:function(g){if(!g||!g.selectorText){return"";
}var h=g.selectorText;
var i=h.indexOf(".");
if(-1==i){i=0;
}else{i+=1;
}var f=h.indexOf(":");
if(-1==f){f=h.length;
}return h.substring(i,f);
},_getClassName:function(h){var i=h&&h.selectorText?h.selectorText:"";
var g=i.lastIndexOf(".");
if(g==-1){return"";
}var f=i.indexOf(" ",g);
if(-1==f){f=i.indexOf(":",g);
}if(-1==f){f=i.length;
}return i.substring((g+1),f);
},set_items:function(f){Telerik.Web.UI.Editor.ApplyClassDropDown.callBaseMethod(this,"set_items",[f]);
if(this._items.length==0||this._items[0][0]!=""){this._items.splice(0,0,["",{cssText:"",selectorText:this.get_clearclasstext()}]);
}},renderChild:function(f,g,h){this._view.renderChild(f,g);
},get_clientStateFieldID:function(){return this._clientStateFieldID;
},set_clientStateFieldID:function(f){this._clientStateFieldID=f;
},get_clearclasstext:function(){return this._clearclasstext;
},set_clearclasstext:function(f){this._clearclasstext=f;
}};
Telerik.Web.UI.Editor.ApplyClassDropDown.registerClass("Telerik.Web.UI.Editor.ApplyClassDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.Editor.FontNameDropDown=function(f){Telerik.Web.UI.Editor.FontNameDropDown.initializeBase(this,[f]);
};
Telerik.Web.UI.Editor.FontNameDropDown.prototype={updateValue:function(g){try{if(!g){g=this._isMobileRenderMode?" ":this.get_text();
}if(null==g||"AZBY"==g){return;
}Telerik.Web.UI.Editor.FontNameDropDown.callBaseMethod(this,"updateValue",[g]);
}catch(f){}},renderChildren:function(){var j=this._items;
if(j&&j[0]&&!(j[0] instanceof Array)){for(var f=0;
f<j.length;
f++){var g=j[f];
var h=g=="Wingdings"||g=="Webdings"?"Arial":g;
j[f]=[g,String.format("<span style='font:inherit; font-family: {0}'>",h)+g+"</span>"];
}}return Telerik.Web.UI.Editor.FontNameDropDown.callBaseMethod(this,"renderChildren");
}};
Telerik.Web.UI.Editor.FontNameDropDown.registerClass("Telerik.Web.UI.Editor.FontNameDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.Editor.FontSizeDropDown=function(f){Telerik.Web.UI.Editor.FontSizeDropDown.initializeBase(this,[f]);
};
Telerik.Web.UI.Editor.FontSizeDropDown.prototype={renderChildren:function(){var h=this._items;
if(h&&h[0]&&!(h[0] instanceof Array)){for(var f=0;
f<h.length;
f++){var g=h[f];
h[f]=[g,String.format("<font size={0}>",g)+g+"</font>"];
}}return Telerik.Web.UI.Editor.FontSizeDropDown.callBaseMethod(this,"renderChildren");
}};
Telerik.Web.UI.Editor.FontSizeDropDown.registerClass("Telerik.Web.UI.Editor.FontSizeDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
Telerik.Web.UI.Editor.InsertCustomLinkDropDown=function(f){Telerik.Web.UI.Editor.InsertCustomLinkDropDown.initializeBase(this,[f]);
};
Telerik.Web.UI.Editor.InsertCustomLinkDropDown.prototype={initialize:function(){Telerik.Web.UI.Editor.InsertCustomLinkDropDown.callBaseMethod(this,"initialize");
this._view=Telerik.Web.UI.Editor.UI.ToolsViewFactory.getView(this,"InsertCustomLinkDropDown");
},selectUIItem:function(f,h,g){},show:function(){return Telerik.Web.UI.Editor.InsertCustomLinkDropDown.callBaseMethod(this,"show");
},renderChildren:function(){this.FlatLinksArray=[];
Telerik.Web.UI.Editor.InsertCustomLinkDropDown.callBaseMethod(this,"renderChildren");
},get_selectedItem:function(){var f=this.FlatLinksArray[this.get_selectedIndex()];
return{innerHTML:f.name,href:f.href,target:f.target,title:f.toolTip};
}};
Telerik.Web.UI.Editor.InsertCustomLinkDropDown.registerClass("Telerik.Web.UI.Editor.InsertCustomLinkDropDown",Telerik.Web.UI.EditorDropDown);
Telerik.Web.UI.Editor.FormatSetsDropDown=function(f){Telerik.Web.UI.Editor.FormatSetsDropDown.initializeBase(this,[f]);
this._blockElements=b.Editor.formatSetBlockElements;
this._defaultBlockSets=[["p","Normal"],["h1","<h1 style='margin: 0px;'>Heading 1</h1>"],["h2","<h2 style='margin: 0px;'>Heading 2</h2>"],["h3","<h3 style='margin: 0px;'>Heading 3</h3>"],["h4","<h4 style='margin: 0px;'>Heading 4</h4>"],["h5","<h5 style='margin: 0px;'>Heading 5</h5>"],["menu","<menu style='margin: 0px;'>Menu list</menu>"],["pre","<pre style='margin: 0px;'>Formatted</pre>"],["address","<address style='margin: 0px;'>Address</address>"]];
this._headerClassName="reFormatSetsHeader";
this._indexItemDictionary=[];
};
Telerik.Web.UI.Editor.FormatSetsDropDown.prototype={initialize:function(){Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"initialize");
this._onValueSelectedDelegate=Function.createDelegate(this,this._onDropDownValueSelected);
this.add_valueSelected(this._onValueSelectedDelegate);
},set_items:function(f){this._updateLocalSets(f);
Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"set_items",[f]);
},_updateLocalSets:function(f){this._blockSets=[];
this._elementSets=[];
this._inlineSets=[];
for(var g=0,h=f.length;
g<h;
g++){this._sortFormatSet(f[g]);
}if(this._blockSets.length==0){this._blockSets=this._defaultBlockSets;
}},_sortFormatSet:function(f){if(this.isInlineSet(f)){this._inlineSets.push(f);
}else{if(this.isBlockSet(f)){this._blockSets.push(f);
}else{this._elementSets.push(f);
}}},isInlineSet:function(f){return !f[0];
},isBlockSet:function(f){return a.inArray((f[0]||"").toLowerCase(),this._blockElements)!=-1;
},get_elementSetsByTagName:function(k){var l=[],g=this.get_elementSets(),f;
for(var h=0,j=g.length;
h<j;
h++){f=g[h];
if(f[0].toLowerCase()==k.toLowerCase()){l.push(f);
}}return l;
},renderChildren:function(){this.disposeChildren();
this._indexItemDictionary=[];
this._renderElementChildren();
this._renderInlineChildren();
this._renderBlockChildren();
},_renderElementChildren:function(){var f=[],j=this.get_selectedElement(),k=this._getContextTagNames(j);
for(var g=0,h=k.length;
g<h;
g++){a.merge(f,this.get_elementSetsByTagName(k[g]));
}this._renderSectionChildren(f,this.get_elementSetsText());
},_renderInlineChildren:function(){this._renderSectionChildren(this.get_inlineSets(),this.get_inlineSetsText());
},_renderBlockChildren:function(){this._renderSectionChildren(this.get_blockSets(),this.get_blockSetsText());
},_renderSectionChildren:function(f,g){if(f.length>0){this._renderHeaderItem(g);
this._renderFormatSetItems(f);
}},_getContextTagNames:function(f){var h=[];
while(f&&!Telerik.Web.UI.Editor.Utils.isEditorContentArea(f)){var g=f.tagName;
if(g){g=g.toLowerCase();
if(a.inArray(g,h)==-1){h.push(g);
}}f=f.parentNode;
}return h;
},_renderHeaderItem:function(g){var f=this._createItemContainer();
f.className=this._headerClassName;
this.renderChild(f,["",g],f.item_index);
},_createItemContainer:function(){this.renderNewRow();
var g=this.renderItemContainer(),f=this._getLastItemIndex();
this.markItemContainer(g,f);
return g;
},_renderFormatSetItems:function(g){var k=g.length;
for(var h=0;
h<k;
h++){var f=this._createItemContainer(),j=f.item_index;
this.renderChild(f,g[h],j);
}},_getLastItemIndex:function(){return this._view.getItemElements(this._itemRootElement).length-1;
},renderChild:function(f,g,h){Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"renderChild",[f,g,h]);
this._indexItemDictionary[h]=g;
},get_selectedItem:function(){var f=this._indexItemDictionary[this._selectedIndex];
if(f){return f;
}else{return null;
}},updateValue:function(g){var h=(g&&!Telerik.Web.UI.Editor.Utils.isEditorContentArea(g.selectedElement))?g.selectedElement:null,f=(g&&g.commandText)?Telerik.Web.UI.Editor.Utils.stripFormatting(g.commandText,"ALL"):"";
this.set_selectedElement(h);
Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"updateValue",[f]);
},_onDropDownValueSelected:function(){var f=this.get_selectedItem();
if(f){f.commandText=f[1];
}this.updateValue(f);
},hide:function(){Telerik.Web.UI.Editor.FormatSetsDropDown.callBaseMethod(this,"hide");
this._childrenRendered=false;
}};
a.registerControlProperties(b.Editor.FormatSetsDropDown,{clientStateFieldID:null,blockSetsText:"Block Format Sets",inlineSetsText:"Inline Format Sets",elementSetsText:"Element Format Sets",blockSets:[],inlineSets:[],elementSets:[],selectedElement:null,clientTypeName:"Telerik.Web.UI.Editor.FormatSetsDropDown"});
Telerik.Web.UI.Editor.FormatSetsDropDown.registerClass("Telerik.Web.UI.Editor.FormatSetsDropDown",Telerik.Web.UI.EditorUpdateableDropDown);
})();
Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.Editor");
Telerik.Web.UI.Editor._PopupController=function(){this._activePopup=null;
this._registerGlobalBodyEventHandlers();
};
Telerik.Web.UI.Editor._PopupController.prototype={_registerGlobalBodyEventHandlers:function(){var a=function(g,f){var j=window.frames;
for(var d=0;
d<j.length;
d++){var h=null;
try{h=j[d].document;
}catch(c){}if(!h){continue;
}try{if(g!==false){f.attachToDocument(h);
}else{f.detachFromDocument(h);
}}catch(c){}}};
var b=Function.createDelegate(null,function(c){if(c.keyCode==27){Telerik.Web.UI.Editor.PopupController.hideActivePopup();
}});
$telerik.addExternalHandler(document.body,"keydown",b);
$telerik.addExternalHandler(document.body,"mousedown",this._hideHandler);
Sys.Application.add_unload(function(){$telerik.removeExternalHandler(document.body,"mousedown",Telerik.Web.UI.Editor.PopupController._hideHandler);
$telerik.removeExternalHandler(document.body,"keydown",b);
a(false,Telerik.Web.UI.Editor.PopupController);
});
a(true,this);
},attachToDocument:function(a){$telerik.addExternalHandler(a,"mousedown",this._hideHandler);
},detachFromDocument:function(b){try{$telerik.removeExternalHandler(b,"mousedown",this._hideHandler);
}catch(a){}},_hideHandler:function(a){Telerik.Web.UI.Editor.PopupController._hideIfOutsidePopup(a);
},hideActivePopup:function(){if(this._activePopup!=null){this._activePopup.hide();
this._activePopup=null;
}},_hideIfOutsidePopup:function(a){if(this._activePopup!=null){if(!this._activePopup.get_popupElement){return;
}var b=this._activePopup.get_popupElement();
if(!this._isMouseOverElement(a,b)){this.hideActivePopup();
}}},_isMouseOverElement:function(a,b){var f=null;
try{f=$telerik.getBounds(b);
}catch(c){return false;
}if(a&&a.target&&a.target.tagName=="SELECT"&&a.clientX<0){return true;
}var d=$telerik.getDocumentRelativeCursorPosition(a);
return $telerik.containsPoint(f,d.left,d.top);
},notifyPopupClosed:function(a){if(this._activePopup==a){this._activePopup=null;
}},set_activePopup:function(a){if(this._activePopup&&(a!=this._activePopup)){this._activePopup.hide();
}this._activePopup=a;
},get_activePopup:function(){return this._activePopup;
}};
Telerik.Web.UI.Editor._PopupController.registerClass("Telerik.Web.UI.Editor._PopupController",null);
(function(){if(!Telerik.Web.UI.Editor.PopupController){var a=function(){window.setTimeout(function(){Telerik.Web.UI.Editor.PopupController=new Telerik.Web.UI.Editor._PopupController();
},100);
};
a();
}})();
(function(a,l){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI;
var b=c.Editor;
var f=c.EditorToolType;
var g="";
var h="FontName";
var k="RealFontSize";
var d="ApplyClass";
var i="ForeColor";
var e="BackColor";
var j="FormatBlock";
b.ToolFactory=function(){};
b.ToolFactory.prototype={createTool:function(m,o){var n=this;
var p=m.type;
if(o){switch(p){case f.Button:return n.createEditorButton(m,o);
case f.DropDown:return n.createEditorDropDown(m,o);
case f.SplitButton:return n.createEditorSplitButton(m,o);
case f.ToolStrip:return n.createEditorToolStrip(m,o);
case f.Separator:return null;
default:return n.createEditorButton(m,o);
}}else{return null;
}},createEditorButton:function(m,n){return $create(c.EditorButton,m,null,null,n);
},createEditorDropDown:function(m,o){var p=m.name||g;
var n;
switch(p){case h:n=b.FontNameDropDown;
break;
case j:case k:n=c.EditorUpdateableDropDown;
break;
case d:n=b.ApplyClassDropDown;
break;
default:n=c.EditorDropDown;
}return $create(n,m,null,null,o);
},createEditorSplitButton:function(m,o){var p=m.name||g,n;
switch(p){case i:case e:n=b.MobileColorPicker;
break;
}if(n){return $create(n,m,null,null,o);
}return null;
},createEditorToolStrip:function(m,n){return $create(c.EditorToolStrip,m,null,null,n);
}};
})($telerik.$);
(function(a,n){Type.registerNamespace("Telerik.Web.UI.Editor");
var b=Telerik.Web.UI;
var k=b.Editor;
var d="back";
var h="close";
var g="click";
var j="display";
var c=40;
k.ToolNavigator=function(o){k.ToolNavigator.initializeBase(this,[o]);
this.navigatables=[];
};
k.ToolNavigator.prototype={initialize:function(){k.ToolNavigator.callBaseMethod(this,"initialize");
this._renderUI();
this.attachEventHandlers();
},show:function(o){if(!o){return;
}this.navigatables.push(o);
this._prepareShowAnimation();
this._updateTitle();
this._animateShow();
},back:function(o){this._prepareBackAnimation();
this.navigatables.pop();
this._animateBack(o);
},attachEventHandlers:function(){this._backDelegate=Function.createDelegate(this,this._backHandler);
this._closeDelegate=Function.createDelegate(this,this._closeHandler);
a(this._backBtn).onEvent(g,this._backDelegate);
a(this._closeBtn).onEvent(g,this._closeDelegate);
},detachEventHandlers:function(){a(this._backBtn).offEvent(g,this._backDelegate);
a(this._closeBtn).offEvent(g,this._closeDelegate);
this._backDelegate=n;
this._closeDelegate=n;
},dispose:function(){this.detachEventHandlers();
this._title=n;
this._backBtn=n;
this._closeBtn=n;
k.ToolNavigator.callBaseMethod(this,"dispose");
},_renderUI:function(){var q=this.get_element();
var o=this._backBtn=m.buildBackBtn();
var r=this._title=m.buildTitle();
var p=this._closeBtn=m.buildCloseBtn();
this._hideUI();
q.appendChild(o);
q.appendChild(r);
q.appendChild(p);
},_showUI:function(){this._backBtn.style.opacity=1;
this._title.style.opacity=1;
},_hideUI:function(){a(this._backBtn).css({opacity:0,marginLeft:0});
this._title.style.opacity=0;
},_prepareShowAnimation:function(){var o=(this.navigatables.length===1);
var p=a(o?this._backBtn:this._title);
p.css(this._asideStateCss());
p.css(j);
},_animateShow:function(){this._getAnimateUI().transition(this._normalStateCss(),c,"easeOut");
},_prepareBackAnimation:function(){this._getAnimateUI().stopTransition();
},_animateBack:function(p){var r=this;
var o=a(this._backBtn);
var s=a(this._title);
var q=!this._getLastNavigatable();
s.transition(this._asideStateCss(),c,"easeOut",function(){r._updateTitle();
r._restoreTitle();
});
if(q){o.transition(this._asideStateCss(),c,"easeOut",function(){r._hideUI();
if(p){p();
}});
}},_getAnimateUI:function(){return a(this._backBtn).add(this._title);
},_restoreTitle:function(){a(this._title).css(this._normalStateCss());
},_normalStateCss:function(){return{marginLeft:0,opacity:1};
},_asideStateCss:function(){return{marginLeft:"40vw",opacity:0};
},_updateTitle:function(){this._setTitle(this._getLastNavigatable());
},_setTitle:function(o){this._title.innerHTML=o||"";
},_getLastNavigatable:function(){return this.navigatables[this.navigatables.length-1];
},_backHandler:function(){this.raiseEvent(d);
},_closeHandler:function(){this.raiseEvent(h);
}};
a.registerControlEvents(k.ToolNavigator,[d,h]);
k.ToolNavigator.registerClass("Telerik.Web.UI.Editor.ToolNavigator",b.RadWebControl);
var e='<span class="reButton reBackButton" title="" role="button">	<span class="reIcon reIconBack"></span></span>';
var l='<span class="reToolText t-flex"></span>';
var i='<span class="reButton reCloseButton" title="Hide Tools" role="button">	<span class="reIcon reIconClose"></span></span>';
var m=k.ToolNavigator.UIBuilder={backBtnTemplate:e,titleTemplate:l,closeBtnTemplate:i,buildBackBtn:function(o){return f(o||this.backBtnTemplate);
},buildTitle:function(o){return f(o||this.titleTemplate);
},buildCloseBtn:function(o){return f(o||this.closeBtnTemplate);
}};
function f(o){return a(o)[0];
}})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,c){b.TrackerBase=function(d){var e=this;
e.editor=d;
e.nodes=[];
};
b.TrackerBase.prototype={_zeroWidthCharacter:"\u200b",stopTracking:function(){var d=this;
d.detachEvents();
d.isTracking=false;
},createTrackedNode:function(g){var h=this;
var d=h.getTrackableChars();
var e=g||h.editor.get_document();
var f=e.createTextNode(d);
h.trackNode(f);
return f;
},getTrackableChars:function(){return this._zeroWidthCharacter;
},trackNode:function(d){this.nodes.push(d);
},cleanUpNodes:function(){var f=this,e=f.nodes;
while(e.length){var d=e.pop();
f._cleanUpNode(d);
}},_cleanUpNode:function(d){if(c.isTextNode(d)){this.removeFirstZeroWidthChar(d);
}else{a(d).remove();
}},removeFirstZeroWidthChar:function(g){var h=this._zeroWidthCharacter;
try{if(!g||!g.nodeValue){return;
}if($telerik.isIE){g.nodeValue=g.nodeValue.replace(new RegExp("["+h+"]+",""),"");
}else{var f=g.nodeValue.indexOf(h);
if(f!=-1){g.deleteData(f,1);
}}}catch(d){}},reset:function(){this.cleanUpNodes();
},removeZeroWidthNodes:function(){var k=this,f=k.nodes,j=new RegExp("^["+k._zeroWidthCharacter+"]+$");
var h=k.nodeValuePairs=[];
for(var d=0;
d<f.length;
d++){var e=f[d];
if(c.isTextNode(e)){var g=e.nodeValue;
if(j.test(g)){h.push({node:e,value:e.nodeValue});
e.nodeValue="";
}else{k.removeFirstZeroWidthChar(e);
}}}},restoreZeroWidthNodes:function(){var f=this,e=f.nodeValuePairs||[];
while(e.length){var d=e.pop();
d.node.nodeValue=d.value;
}},dispose:function(){var d=this;
d.stopTracking();
d.editor=null;
}};
Telerik.Web.UI.Editor.TrackerBase.registerClass("Telerik.Web.UI.Editor.TrackerBase");
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d,c){b.EmptyWhitespaceCharTracker=function(e){var f=this;
b.EmptyWhitespaceCharTracker.initializeBase(f,[e]);
f.cleanUpDelegate=Function.createDelegate(f,f.cleanUpWhitespace);
f.cleanUpKeypressDelegate=Function.createDelegate(f,f.cleanUpWhitespaceKeypress);
};
b.EmptyWhitespaceCharTracker.prototype={startTracking:function(){var g=this,f=g.editor,e=f.get_contentArea();
g.isTracking=true;
f.add_submit(g.cleanUpDelegate);
a(e).on("keypress",g.cleanUpKeypressDelegate);
$telerik.addExternalHandler(e,"mousedown",g.cleanUpDelegate);
$telerik.addExternalHandler(e,"touchstart",g.cleanUpDelegate);
},cleanUpWhitespaceKeypress:function(f){var i=this;
if(!i.shouldCleanUp(f)){return;
}var h=i.nodes;
while(h.length){var g=h.pop();
i._cleanUpNodeKeypress(g);
}},_cleanUpNodeKeypress:function(f){var g=this,e=15;
if(d.isTextNode(f)){setTimeout(function(){g.removeFirstZeroWidthChar(f);
},e);
}else{a(f).remove();
}},cleanUpWhitespace:function(f){var g=this;
if(!g.shouldCleanUp(f)){return;
}g.cleanUpNodes();
},shouldCleanUp:function(f){return f.type!="keypress"||!$telerik.isChrome||(f.keyCode>32&&f.keyCode<40);
},detachEvents:function(){var g=this,f=g.editor,e=f.get_contentArea();
f.remove_submit(g.cleanUpDelegate);
a(e).off("keypress",g.cleanUpKeypressDelegate);
$telerik.removeExternalHandler(e,"mousedown",g.cleanUpDelegate);
$telerik.removeExternalHandler(e,"touchstart",g.cleanUpDelegate);
},dispose:function(){var e=this;
if(!e.isTracking){return;
}b.EmptyWhitespaceCharTracker.callBaseMethod(e,"dispose");
e.cleanUpDelegate=null;
}};
Telerik.Web.UI.Editor.EmptyWhitespaceCharTracker.registerClass("Telerik.Web.UI.Editor.EmptyWhitespaceCharTracker",Telerik.Web.UI.Editor.TrackerBase);
})($telerik.$,Telerik.Web.UI.Editor,Telerik.Web.UI.Editor.Utils);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,c,d){var b=c.Editor;
var e=b.Utils;
b.NodesTracker=function(f){var g=this;
g.isActive=true;
b.NodesTracker.initializeBase(g,[f]);
if(!g.isActive){return;
}g.isLegacyIE=$telerik.isIE&&!$telerik.isIE9Mode;
g.cleanUpDelegate=Function.createDelegate(g,g.cleanUpNodes);
g.keyupDelegate=Function.createDelegate(g,g.keyupHandler);
g.keydownDelegate=Function.createDelegate(g,g.keydownHandler);
g.pasteDomDelegate=Function.createDelegate(g,g.pasteDomHandler);
g.modeChangeDelegate=Function.createDelegate(g,g.modeChangeHandler);
};
b.NodesTracker.prototype={startTracking:function(){var g=this;
if(!g.isActive){return;
}var f=g.editor;
g.isTracking=true;
f.add_submit(g.cleanUpDelegate);
f.add_pasteDom(g.pasteDomDelegate);
f.add_modeChange(g.modeChangeDelegate);
a(f.get_contentArea()).on({keydown:g.keydownDelegate,keyup:g.keyupDelegate});
},isTracked:function(f){var g=this;
return f&&g.isZeroWidthNode(f)&&a.inArray(f,g.nodes)!=-1;
},removeTrackedNode:function(f){if(!f){return;
}var h=this;
var g=a.inArray(f,h.nodes);
if(g!=-1){if(e.isTextNode(f)){f.nodeValue=f.nodeValue.replace(new RegExp(h._zeroWidthCharacter,"g"),"");
if(f.length==0){a(f).remove();
}}else{a(f).remove();
}h.nodes.splice(g,1);
}},update:function(p,q){var s=this,n=s.nodes;
p=p||b.DomRange.toDomRange(s.editor.getSelection().getRange(true));
var f=p.commonAncestorContainer,l=e.isTextNode(f),r=p.startOffset;
for(var h=n.length-1;
h>=0;
h--){var m=n[h];
if(s.shouldCleanUpNode(m)){var k=l&&f===m;
if(k&&q){continue;
}var g=k?f.length:d;
var j=k?f.nodeValue.indexOf(s._zeroWidthCharacter):-1;
s._cleanUpNode(m);
n.splice(h,1);
if(k&&j!=-1){var o=j<r?r-(g-f.length):r;
e._setCursorInTextNode(p,f,o,o);
}}}},removeFirstZeroWidthChar:function(g){var i=this;
b.NodesTracker.callBaseMethod(i,"removeFirstZeroWidthChar",[g]);
var h=!i._isNodeRemoved(g)?g.parentNode:d;
var f=h&&g.length==0&&e.isNodeEmptyRecursive(h);
if(f&&!e.isEditorContentArea(h)){g.nodeValue="\u00A0";
}},shouldCleanUpNode:function(h){var g,j;
try{g=e.isTextNode(h);
j=g?h.length:null;
if(g&&!j){return true;
}}catch(f){return true;
}if(!g){return false;
}if((j>1&&!new RegExp("^["+this._zeroWidthCharacter+"]+$","").test(h.nodeValue))||(this._isNodeRemoved(h)||h.nextSibling||(h.previousSibling&&!e.isTag(h.previousSibling,"br")))){return true;
}var i=h.parentNode;
while(!e.isBlockElement(i)){if(e.isTextNode(i.nextSibling)){return true;
}i=i.parentNode;
}},_isNodeRemoved:function(g){try{return !a.contains(this.editor.get_contentArea(),g);
}catch(f){return true;
}},isZeroWidthNode:function(f){return e.isTextNode(f)&&new RegExp("^["+this._zeroWidthCharacter+"]+$","").test(f.nodeValue);
},getTrackableChars:function(){var f=this;
var g=f._zeroWidthCharacter;
if(f.isLegacyIE){return g+g;
}else{return b.NodesTracker.callBaseMethod(f,"getTrackableChars");
}},selectTrackedNode:function(g,h){var f=h.length-1;
e._setCursorInTextNode(g,h,f,f);
},keyupHandler:function(f){var i=this,h=i.isDelete(f),g=i.isBackspace(f);
if(!i._cleanUpOnKeyup&&(!i._shouldHandleKeyEvent(f)||(!h&&!g))){return;
}if(i._cleanUpOnKeyup){delete i._cleanUpOnKeyup;
}i.update();
},keydownHandler:function(h){var t=this;
if(!t._shouldHandleKeyEvent(h)){return;
}var l=t.isLeftArrow(h),m=t.isRightArrow(h),k=t.isDelete(h),j=t.isBackspace(h),n=t.isTyping(h);
if(!k&&!j&&!l&&!m&&!n){return;
}var i=t.editor,s=i.getSelection(),g=b.DomRange.toDomRange(s.getRange(true));
if(!g||!g.collapsed){return;
}var f=b.RangeEdges.commonNode(g);
if(!t.isZeroWidthNode(f)){return;
}var p=f.length;
var q=l||j?0:p;
if(l||m){e._setCursorInTextNode(g,f,q,q);
}else{if(j||k){if(t.isLegacyIE||e.isSingleChild(f)){e._setCursorInTextNode(g,f,0,p);
i.get_document().execCommand("delete",false,null);
}else{e._setCursorInTextNode(g,f,q,q);
}}else{if(n){var r=t.isLegacyIE?p-1:p;
e._setCursorInTextNode(g,f,r,p);
t._cleanUpOnKeyup=true;
var o=f.nextSibling;
if(e.isList(o)){f.parentNode.insertBefore(i.get_document().createTextNode("\n"),o);
}}}}},_shouldHandleKeyEvent:function(f){if(f.ctrlKey||f.altKey||f.metaKey||!this.nodes.length){return false;
}return true;
},pasteDomHandler:function(h,f){var k=this;
k.convertSingleNbspToTrackedZwsp(f.get_element());
var g=f.get_cursor(),j=g.previousSibling,i=g.nextSibling;
if(k.isZeroWidthNode(j)){a(j).remove();
}if(k.isZeroWidthNode(i)){a(i).remove();
}},modeChangeHandler:function(g,f){var h=this;
if(g.get_mode()==c.EditModes.Design){h.convertSingleNbspToTrackedZwsp();
}},convertSingleNbspToTrackedZwsp:function(f){var j=this;
f=f||j.editor.get_contentArea();
var i=/^[\u00A0]$/;
var h=function(k){return e.isTextNode(k)&&i.test(k.nodeValue)&&e.isSingleChild(k)&&!e.isTableCell(k.parentNode);
};
var g=function(k){k.nodeValue=j.getTrackableChars();
j.trackNode(k);
};
if(h(f)){g(f);
}else{a(e.getAllChildNodesBy(f,h)).each(function(k,l){g(l);
});
}},isTyping:function(f){return e.isTypingKey(f)&&!this.isDeleting(f);
},isLeftOrRightArrow:function(f){return !f.altKey&&!f.ctrlKey&&!f.shiftKey&&(this.isLeftArrow(f)||this.isRightArrow(f));
},isLeftArrow:function(f){return f.keyCode==37;
},isRightArrow:function(f){return f.keyCode==39;
},isDeleting:function(f){return this.isDelete(f)||this.isBackspace(f);
},isDelete:function(f){return f.keyCode==46;
},isBackspace:function(f){return f.keyCode==8;
},detachEvents:function(){var g=this;
if(!g.isActive){return;
}var f=g.editor;
f.remove_submit(g.cleanUpDelegate);
f.remove_pasteDom(g.pasteDomDelegate);
f.remove_modeChange(g.modeChangeDelegate);
a(f.get_contentArea()).off({keydown:g.keydownDelegate,keyup:g.keyupDelegate});
},dispose:function(){var f=this;
if(!f.isActive||!f.isTracking){return;
}b.NodesTracker.callBaseMethod(f,"dispose");
f.cleanUpDelegate=f.keyupDelegate=f.keydownDelegate=f.pasteDomDelegate=f.modeChangeDelegate=d;
}};
b.NodesTracker.registerClass("Telerik.Web.UI.Editor.NodesTracker",b.TrackerBase);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,g,b,f){var e=Telerik.Web.UI.Widgets.Polling;
var d=Function.createDelegate;
c.SizerBase=function(h){var i=this;
i.editor=h;
i._sizes={};
i.isContentAreaModeDiv=h.get_contentAreaMode()==b.EditorContentAreaMode.Div;
};
c.SizerBase.prototype={setEditorSize:function(n,k){var m=this,j=m.editor,i=m._isSizeInPercent(n)?n:parseInt(n,10)+"px",h=m._isSizeInPercent(k)?k:parseInt(k,10)+"px",o=j.get_element(),l=j.get_mainTable();
m._setCss(o,{width:i,height:h});
if(l){m._setHeight(l,h);
}m.onRepaint(true);
},setContentElementHeight:function(){this.whenToolbarStyled(d(this,this._setContentElementHeight));
},getMinWidth:function(){return this.editor.get_TopZone().parentNode.offsetWidth;
},lineHeight:35,getMinHeight:function(){var j=this.editor,i=new c.DimensionsCalculator(j),h=i._getSupportingUIHeight();
return h+this.lineHeight;
},setWrapperMinDimentions:function(i){var h=this.editor.get_element();
if(i||!h.style.minHeight){h.style.minHeight=this.getMinHeight()+"px";
}if(!h.style.minWidth){h.style.minWidth=this.getMinWidth()+"px";
}},ensureMinDimentions:function(){var h=this.editor.get_element(),l=this.editor.get_mainTable(),k=h.style.minWidth,j=h.style.minHeight,m=!/%/.test(h.style.width)?h.style.width:h.clientWidth,i=!/%/.test(h.style.height)?h.style.height:h.clientHeight;
if(k&&m&&parseInt(k,10)>parseInt(m,10)){h.style.width=k;
}if(j&&i&&parseInt(j,10)>parseInt(i,10)){h.style.height=j;
l.style.height=j;
}},whenToolbarStyled:function(h){var i=this._getFirstToolbarList();
e.css(i,"listStyleType","none").always(h);
},getIframe:function(){var h=this.editor;
return h.get_mode()!=b.EditModes.Html?h.get_contentAreaElement():h._getHtmlModeTextarea();
},onResizeStart:function(){this.setWrapperMinDimentions(true);
},onResizing:function(){},onResizeEnd:function(){this.ensureMinDimentions();
this.setContentElementHeight();
var h=parseInt(this.editor.get_element().style.height,10);
this.editorHeight=!this.editorHeight?h:Math.min(this.editorHeight,h);
},modeChanged:function(){this.setContentElementHeight();
},onRepaint:function(i){if(!i){return;
}var j=this;
var h=j.editor;
if(h._shouldAutoResizeHeight()){if(h.isFullScreen()){j.disableAutoResizeHeight();
}else{j.makeAutoResizeHeight();
}}else{j.setContentElementHeight();
}},moduleToggleVisibility:function(j){var i=this.editor,m=i.get_element(),l=i.get_mainTable(),h=parseInt(m.style.height,10),k=this.editorHeight;
m.style.minHeight=this.getMinHeight()+"px";
if(!j&&k&&k<h&&/px$/i.test(m.style.height)){m.style.height=k+"px";
l.style.height=k+"px";
}this.setContentElementHeight();
},hideDesignViewElement:function(h){h.style.display="none";
},setHtmlViewElementHeight:function(h){h.style.height="2px";
},isHeightChanged:function(){var p=this,h=p.editor.get_contentArea(),n=$telerik.isIE&&!p.isContentAreaModeDiv,o=p._sizes,l;
if(n){l=h.style.position;
h.style.position="absolute";
}var k=h.scrollHeight,j=h.offsetHeight,i=h.clientHeight,m=true;
if(o.contentAreaScrollHeight&&o.contentAreaOffsetHeight&&o.contentAreaClientHeight&&o.contentAreaScrollHeight==k&&o.contentAreaOffsetHeight==j&&o.contentAreaClientHeight==i){m=false;
}else{o.contentAreaScrollHeight=k;
o.contentAreaOffsetHeight=j;
o.contentAreaClientHeight=i;
}if(n){h.style.position=l;
}return m;
},_getFirstToolbarList:function(){return a(this.editor.get_element()).find("ul.reToolBar,ul.rrbTabs")[0];
},_setHeight:function(h,i){this._setCss(h,{height:i});
},_setCss:function(h,i){a(h).css(i);
},_isSizeInPercent:function(h){var i=h+"";
return/%$/.test(i);
}};
Telerik.Web.UI.Editor.UI.SizerBase.registerClass("Telerik.Web.UI.Editor.UI.SizerBase");
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,b,d){var c=".reBottomTable";
b.DimensionsCalculator=function(e){this.editor=e;
};
b.DimensionsCalculator.prototype={calculateContentHeight:function(){var e=this.containerHeight(),f=e-this._getSupportingUIHeight();
return f;
},calculateContainerHeightByContentHeight:function(e){return e+this._getSupportingUIHeight();
},isContainerPxHeight:function(){return/px/i.test(this.editor.get_element().style.height);
},containerHeight:function(){var e=this.editor.get_element(),f=this.containerHeightComputed(),g=this._isPxHeight(f);
if(g){f=parseInt(f,10);
}else{f=e.clientHeight||e.offsetHeight;
}return f;
},containerHeightComputed:function(){var f=this.editor,e=f.get_element();
return $telerik.getComputedStyle(e,"height");
},_getSupportingUIHeight:function(){var g=this.editor,n=g.get_mainTable(),m=a.makeArray(n.rows),h=m.length-1,o=this._getToolbarHeight(a(".reToolCell",m[2])[0]),e=m[0].offsetHeight+m[1].offsetHeight+m[h].offsetHeight+this._getIframeParentTdBorders(a(".reContentCell",m[3])[0]),k=this._getModulesHeight(m[h-1]),l=0;
var i=a(c,m[h-2])[0];
var j=i?i.offsetHeight:0;
e=($telerik.isIE6||$telerik.isIE7||$telerik.isIE8)?Math.min(e,4):e;
var f=g._getCurrentArea();
if(f.nodeName=="TEXTAREA"&&($telerik.isIE7||(!("box-sizing" in f.style)))){l+=this.getComputedSizes(f,["padding-top","padding-bottom"]);
}return o+e+j+k+l;
},_isPxHeight:function(e){return e.indexOf("px")!=-1;
},_isPercentHeight:function(){return/%/.test(this.editor.get_element().style.height);
},_getIframeParentTdBorders:function(e){return this.getComputedSizes(e,["border-top-width","border-bottom-width"]);
},_getModulesHeight:function(f){var e=0;
$telerik.$(".reModule",f).each(function(){e+=this.offsetHeight;
});
return e;
},_getToolbarHeight:function(e){var l=this;
var h=a(e);
var k=h.find("table.reAjaxspell_wrapper")[0];
if(k&&$telerik.getVisible(k)){return e.offsetHeight;
}var j=h.find("div.RadRibbonBar")[0];
if(j){return l._getRibbonBarHeight(j);
}if(h.find("div.reToolbarWrapper").length==0&&h.find("ul.reToolbar").length==1){return l._getFloatingToolbarHeight(e);
}var g=0;
if(!e.style.height){var m=e.firstChild,i=m.style.overflow,f=m.style.cssFloat;
e.style.height="10px";
m.style.overflow="auto";
m.style.cssFloat="left";
g=m.offsetHeight;
e.style.height="";
m.style.overflow=i;
m.style.cssFloat=f;
}return g;
},_getRibbonBarHeight:function(f){var h=this;
var g=h.getComputedSizes(f,["height"]);
var e=h.getComputedSizes(f.parentNode,["padding-top","padding-bottom"]);
if(!g){g=f.offsetHeight||a(f).find(".rrbContentWrapOut").get(0).offsetHeight;
}return g+e;
},_getFloatingToolbarHeight:function(f){var j=this;
var g=j.getComputedSizes(f,["height"]);
if(g){return g;
}else{var e=0;
var h=$telerik.getComputedStyle;
var i=["margin-top","margin-bottom","border-top-width","border-bottom-width"];
Array.forEach(a.makeArray(f.childNodes),function(k){var l=h(k,"height",0);
if(l=="auto"&&k.nodeName=="UL"){l=j._getToolsListHeight(k);
}e+=j._toNumber(l)+j.getComputedSizes(k,i);
});
return e;
}},_getToolsListHeight:function(e){var f=0;
Array.forEach(a.makeArray(a(e).children()),function(g){f=Math.max(f,g.offsetHeight);
});
return f;
},_toNumber:function(f){var e=f?parseFloat(f):0;
return !isNaN(e)?e:0;
},getComputedSizes:function(f,e){var h=$telerik.getComputedStyle;
var j=this;
var i=0;
var g=parseFloat(h(f,"font-size"));
Array.forEach(e,function(k){var l=h(f,k,0);
if(/em/i.test(l)){l=g*j._toNumber(l);
}i+=j._toNumber(l);
});
return i;
}};
})($telerik.$,Telerik.Web.UI.Editor.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.Sizer=function(f){c.Sizer.initializeBase(this,[f]);
};
c.Sizer.prototype={_setContentElementHeight:function(){var j=this.editor,i=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(j),l=i.isContainerPxHeight(),m=i._isPercentHeight(),n=i._getSupportingUIHeight(),f=i.containerHeight(),o=j.get_element(),k=this.getIframe(),g=$telerik.getBorderBox(k),h=f-n-g.vertical;
if(f<n+this.lineHeight){f=n+this.lineHeight;
if(l){o.style.height=f+"px";
}h=this.lineHeight;
}k.style.height=h+"px";
if(m){j.get_mainTable().style.height=f+"px";
this.percentHeightFirstLoad=m;
}if(!this.editorHeight){this.editorHeight=f;
}},onResizeStart:function(){c.Sizer.callBaseMethod(this,"onResizeStart");
var f=this.getIframe();
f.style.height=this.lineHeight+"px";
},modeChanged:function(f){if(this.percentHeightFirstLoad&&f!=Telerik.Web.UI.EditModes.Html){this.getIframe().style.height="0px";
}c.Sizer.callBaseMethod(this,"modeChanged");
}};
c.Sizer.registerClass("Telerik.Web.UI.Editor.UI.Sizer",c.SizerBase);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.SizerAutoResizeHeight=function(f){c.SizerAutoResizeHeight.initializeBase(this,[f]);
this.isLegacyIE=$telerik.isIE6||$telerik.isIE7||$telerik.isIE8;
};
c.SizerAutoResizeHeight.prototype={makeAutoResizeHeight:function(j,i){var g=this.editor;
if(j===false||g.isFullScreen()){return;
}var f=g.get_contentArea(),k=g.get_mainTable(),l=g.get_element(),h=this.getIframe();
if(!this._sizes.editorMinHeight){this._sizes.editorMinHeight=this._getEditorMinHeight(l);
}if(h.style.height=="100%"){h.style.height="";
}l.style.height="";
k.style.height="";
f.style.overflow="hidden";
this.resizeIframeHeight(true);
},disableAutoResizeHeight:function(){var g=this.editor,f=g.get_contentArea(),h=this.getIframe();
f.style.overflow="";
h.style.height="100%";
},_getEditorMinHeight:function(f){return/px/i.test(f.style.height)?parseInt(f.style.height,10):f.offsetHeight;
},resizeIframeHeight:function(g){if((!this.isHeightChanged()&&!g)||this.editor.isFullScreen()){return;
}var f=this.getIframe();
this.setIframeHeight(f);
this.saveIframeHeight(f);
if(this.editor._contentAreaWrapper){this.editor._contentAreaWrapper.style.height=f.style.height;
}},setIframeHeight:function(g){var j=this.getIframeMinHeight(),i=g.style.height?parseInt(g.style.height,10):0;
var h=this.calculateIframeHeight();
var k=Math.max(h,j);
var n=0;
if(this.editor.get_mode()==Telerik.Web.UI.EditModes.Preview){var f=this.editor.get_contentArea(),m=$telerik.getComputedStyle(f,"margin-top")||$telerik.getComputedStyle(f,"marginTop")||0,l=$telerik.getComputedStyle(f,"margin-bottom")||$telerik.getComputedStyle(f,"marginBottom")||0;
n=parseInt(m,10)+parseInt(l,10);
f.style.marginTop="0px";
f.style.marginBottom="0px";
f.style.paddingTop="0px";
f.style.paddingBottom="0px";
}if(Math.abs(k-n-i)>10){g.style.height=(k-n)+"px";
}},saveIframeHeight:function(g){var f=this.editor;
if(f.get_mode()==Telerik.Web.UI.EditModes.Design){this._sizes.iframeHight=g.offsetHeight;
}},modeChanged:function(){var i=this.editor,g=i.get_mode(),h=Telerik.Web.UI.EditModes,f=i.get_contentArea(),j=this.getIframe();
f.style.margin="";
f.style.padding="";
if(i.isFullScreen()){j.style.height="100%";
}else{if(g==h.Design){this.makeAutoResizeHeight(true,true);
this._sizes.iframeHight=j.offsetHeight;
}else{if(g==h.Html){if(this._sizes.iframeHight){j.style.height=(this._sizes.iframeHight)+"px";
j.style.overflow="";
}else{this.makeAutoResizeHeight(true,true);
j.style.height=(i.get_textArea().scrollHeight+1)+"px";
}}else{if(g==h.Preview){if(this._sizes.iframeHight){j.style.height=(this._sizes.iframeHight)+"px";
f.style.height="";
}else{this.makeAutoResizeHeight(true,true);
f.style.height="";
}f.style.marginTop="0px";
f.style.marginBottom="0px";
f.style.paddingTop="0px";
f.style.paddingBottom="0px";
}}}}},getIframeMinHeight:function(){var g=this.editor,h=this._sizes.editorMinHeight,f=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(g),j=f._getSupportingUIHeight(),i=Math.max(h-j,this.lineHeight);
return i;
},calculateIframeHeight:function(){var i=this.editor,f=i.get_contentArea(),h=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(i),m=h._getSupportingUIHeight(),g=Math.max(this.getContentAreaHeight(f),this.lineHeight),l=this._sizes.editorMinHeight,j=Math.max(m+g,l),k=j-m;
this._sizes.contentAreaHeight=g;
return k;
},getContentAreaHeight:function(f){var j=this.isLegacyIE;
var g=f.style.cssFloat;
var i=f.style.height;
var k;
f.style.cssFloat="left";
f.style.height="auto";
if(!j){k=f.style.overflow;
f.style.overflow="";
}var h=!j?f.offsetHeight:f.scrollHeight;
f.style.cssFloat=g;
f.style.height=i;
if(!j){f.style.overflow=k;
}return h;
},onSubmitSetEditorHeight:function(){var f=this.editor.get_element();
var g=$telerik.getComputedStyle(f,"height");
if(g&&/px$/i.test(g)){f.style.height=g;
this.editor.get_mainTable().style.height=g;
}},moduleToggleVisibility:function(){this.resizeIframeHeight(true);
},setHtmlViewElementHeight:function(f){var g=this;
if(g._sizes.iframeHight){f.style.height=g._sizes.iframeHight+"px";
}else{c.SizerAutoResizeHeight.callBaseMethod(g,"setHtmlViewElementHeight",[f]);
}}};
c.SizerAutoResizeHeight.registerClass("Telerik.Web.UI.Editor.UI.SizerAutoResizeHeight",Telerik.Web.UI.Editor.UI.SizerBase);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.SizerAutoResizeHeightDivMode=function(f){c.SizerAutoResizeHeightDivMode.initializeBase(this,[f]);
};
c.SizerAutoResizeHeightDivMode.prototype={resizeIframeHeight:function(g){var h=this;
if((!h.isHeightChanged()&&!g)||h.editor.isFullScreen()){return;
}var f=h.getIframe();
if(!f.style.minHeight){f.style.minHeight=h.getIframeMinHeight()+"px";
}h.saveIframeHeight(f);
},modeChanged:function(){var i=this;
var g=i.getIframe();
var f=i.editor;
if(f.get_mode()==b.EditModes.Design){if(f.isFullScreen()){g.style.height="100%";
}else{if(g.style.height){g.style.height="";
g.parentNode.style.height="";
}}return;
}var h=i._sizes;
if(h.iframeHight){g.style.height=(h.iframeHight)+"px";
g.style.overflow="";
}},hideDesignViewElement:function(g){var f=this.editor.get_element();
if(!f.style.height){var h=$telerik.getComputedStyle(f,"height");
if(!/px$/i.test(h)){h=f.clientHeight+"px";
}f.style.height=h;
setTimeout(function(){f.style.height="";
},0);
}g.style.display="none";
}};
c.SizerAutoResizeHeightDivMode.registerClass("Telerik.Web.UI.Editor.UI.SizerAutoResizeHeightDivMode",Telerik.Web.UI.Editor.UI.SizerAutoResizeHeight);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a){a.SizerEditTypeInline=function(b){a.SizerEditTypeInline.initializeBase(this,[b]);
};
a.SizerEditTypeInline.prototype={getIframeMinHeight:function(){return this.lineHeight;
}};
a.SizerEditTypeInline.registerClass("Telerik.Web.UI.Editor.UI.SizerEditTypeInline",a.SizerAutoResizeHeightDivMode);
})(Telerik.Web.UI.Editor.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,b){b.SizerFactory={getSizer:function(e){var h=e.get_renderMode();
var g=e._isInInlineEditMode();
var d=e.get_autoResizeHeight();
var f=e.get_contentAreaMode()==a.EditorContentAreaMode.Div;
if(h===c.Lite){if(g){return new b.SizerLightweightEditTypeInline(e);
}else{if(d){return f?new b.SizerLightweightAutoResizeHeightDivMode(e):new b.SizerLightweightAutoResizeHeight(e);
}else{return new b.SizerLightweight(e);
}}}else{if(h==c.Classic){if(g){return new b.SizerEditTypeInline(e);
}else{if(d){return f?new b.SizerAutoResizeHeightDivMode(e):new b.SizerAutoResizeHeight(e);
}else{if($telerik.isIE6||$telerik.isIE7||$telerik.isIE8){return new b.SizerLegacyIE(e);
}else{return new b.Sizer(e);
}}}}else{if(h===c.Mobile){return new b.SizerMobile(e);
}}}}};
})(Telerik.Web.UI,Telerik.Web.UI.RenderMode,Telerik.Web.UI.Editor.UI);
Type.registerNamespace("Telerik.Web.UI.Editor.UI");
(function(a,c,e,b,d){c.SizerLegacyIE=function(f){c.SizerLegacyIE.initializeBase(this,[f]);
};
c.SizerLegacyIE.prototype={_setContentElementHeight:function(){this.cancelResizing=true;
var k=this.editor,j=k.get_mode(),n=j==b.EditModes.Html,s=k.get_element(),i=new Telerik.Web.UI.Editor.UI.DimensionsCalculator(k),m=i.isContainerPxHeight(),o=i._isPercentHeight(),r=i._getSupportingUIHeight(),g=i.containerHeight(),h=g-r,l=this.getIframe(),p=k.get_mainTable(),f=$get(k.get_id()+"Center");
if(o&&!this.percentHeightFirstLoad){var t=this.getWrapperHeight(s);
if(t<=0){return;
}p.style.height=t+"px";
}if(o){g=parseInt(p.style.height,10);
h=g-r;
}if(g<r+this.lineHeight){g=r+this.lineHeight;
if(m){s.style.height=g+"px";
}f.style.height="";
h=this.lineHeight;
}l.style.height=h+"px";
if(!n){if(Math.abs(l.parentNode.offsetHeight-s.offsetHeight)<5&&l.parentNode.style.height=="100%"){l.parentNode.style.height="";
}}else{if(n){var q=k.get_textArea();
f.style.height="";
q.style.height=($telerik.isIE7?h-2:h)+"px";
setTimeout(function(){var v=q.createTextRange();
var u=v.getBookmark();
q.value=q.value;
v.moveToBookmark(u);
v.collapse(true);
v.select();
},0);
}}if(o&&!this.percentHeightFirstLoad){this.percentHeightFirstLoad=o;
if(parseInt(p.style.height,10)!=this.getWrapperHeight(s)){p.style.height=this.getWrapperHeight(s)+"px";
}}if(!this.editorHeight){this.editorHeight=g;
}setTimeout(Function.createDelegate(this,function(){this.cancelResizing=false;
}),10);
},getWrapperHeight:function(f){this._wrapperBorders=this._wrapperBorders==d?this.getWrapperBordersWidth(f):this._wrapperBorders;
return f.clientHeight-this._wrapperBorders;
},getWrapperBordersWidth:function(h){var g=$telerik.getComputedStyle(h,"border-top-width")||$telerik.getComputedStyle(h,"borderTopWidth"),f=$telerik.getComputedStyle(h,"border-bottom-width")||$telerik.getComputedStyle(h,"borderBottomWidth");
g=isNaN(parseInt(g,10))?0:parseInt(g,10);
f=isNaN(parseInt(f,10))?0:parseInt(f,10);
return g+f;
},onResizeStart:function(){c.SizerLegacyIE.callBaseMethod(this,"onResizeStart");
this.editor.get_contentArea().style.height=this.lineHeight+"px";
this.setContentElementHeight();
},onResizing:function(){if(!this.cancelResizing){this.ensureMinDimentions();
this.setContentElementHeight();
}},onResizeEnd:function(){this.ensureMinDimentions();
c.SizerLegacyIE.callBaseMethod(this,"onResizeEnd");
}};
Telerik.Web.UI.Editor.UI.SizerLegacyIE.registerClass("Telerik.Web.UI.Editor.UI.SizerLegacyIE",Telerik.Web.UI.Editor.UI.SizerBase);
})($telerik.$,Telerik.Web.UI.Editor.UI,Telerik.Web.UI.Editor.Utils,Telerik.Web.UI);
(function(a,b,c,d){c.SizerLightweight=function(e){c.SizerLightweight.initializeBase(this,[e]);
this._view=e._view;
};
c.SizerLightweight.prototype={moduleToggleVisibility:function(){this.setContentElementHeight();
},onSubmitSetEditorHeight:function(){},_setContentElementHeight:function(){var i=this,j=i._view,f=i.editor,g=f.get_element(),k=g.offsetHeight,e=Math.round(k-i._calcUiHeight()),h=i._getFontSize(g);
i._setHeight(j.contentAreaContainer(),i._convertPxToEm(e,h));
i._setHeight(i.getIframe(),"100%");
},_calcUiHeight:function(){var l=this,o=l._view,g=l.editor,f=new c.DimensionsCalculator(g),m=o.toolBarContainer(),n=l._getComponentHeight(m),k=f.getComputedSizes(g.get_element(),["padding-top"]),h=f.getComputedSizes(m,["margin-bottom"]),e=f.getComputedSizes(o.contentAreaContainer(),["border-top-width","border-bottom-width"]),i=l._getComponentHeight(o.modesRowContainer()),j=l._getComponentHeight(o.modulesContainer());
return n+i+j+h+e+k;
},_getComponentHeight:function(e){return $telerik.getVisible(e)?e.offsetHeight:0;
},_getFontSize:function(e){return parseFloat($telerik.getComputedStyle(e,"font-size"));
},_convertPxToEm:function(f,e){return(f/e)+"em";
},onResizeStart:function(){},onResizeEnd:function(){},onResizing:function(){this.setContentElementHeight();
},modeChanged:function(f){var e=this;
e._toggleContentElementVisibility(f);
e.setContentElementHeight();
},_toggleContentElementVisibility:function(j){var i=this,f=i.editor,k=i._view,h=j==b.EditModes.Html,g=h?f.get_contentAreaElement():f._getHtmlModeTextarea(),e=h?"none":"";
i._setCss(k.modulesContainer(),{display:e});
i._setHeight(g,0);
}};
c.SizerLightweight.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweight",c.SizerBase);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,b,c,d){c.SizerLightweightAutoResizeHeight=function(e){c.SizerLightweightAutoResizeHeight.initializeBase(this,[e]);
};
c.SizerLightweightAutoResizeHeight.prototype={makeAutoResizeHeight:function(){this.resizeIframeHeight(true);
},resizeIframeHeight:function(j){var k=this,h=k.editor;
if((!k.isHeightChanged()&&!j)||h.isFullScreen()){return;
}var i=h.get_element(),m=k._view,f=m.contentAreaContainer(),e=h.get_contentArea();
k._setHeight(f,"");
var g=$telerik.isIE&&!$telerik.isIE9Mode?e.scrollHeight:e.offsetHeight,l=k._calcUiHeight();
k.contentAreaMinHeight=k._getContentElementMinHeigth(l,g);
g=Math.max(k.contentAreaMinHeight,g);
k.contentHeight=g;
k.setContentAreaElementHeight();
k.setContentAreaMinHeight(e);
k._setHeight(f,g);
k._setHeight(i,l+g);
},_getContentElementMinHeigth:function(g,e){var f=this;
f.editorHeight=Math.round(f.editorHeight||a(f.editor.get_element()).height());
return Math.round(f.contentAreaMinHeight||Math.max(f.lineHeight,f.editorHeight-g));
},setContentAreaElementHeight:function(){var f=this;
var e=f.editor;
f._setHeight(e.get_contentAreaElement(),"100%");
},setContentAreaMinHeight:function(){},moduleToggleVisibility:function(){},modeChanged:function(k){var i=this;
var f=i.editor;
if(f.isFullScreen()){i.modeChangedFullScreen(k);
}else{if(k==b.EditModes.Design){i._toggleContentElementVisibility(k);
i.resizeIframeHeight(true);
}else{var h=i.getIframe();
var g=f.get_element();
var j=i._calcUiHeight();
var e=i.contentHeight||g.offsetHeight-j;
i._setHeight(h,e);
i._setHeight(g,e+j);
}}},modeChangedFullScreen:function(e){this.setContentElementHeight();
},disableAutoResizeHeight:function(){this.setContentElementHeight();
}};
c.SizerLightweightAutoResizeHeight.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweightAutoResizeHeight",c.SizerLightweight);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,b,c,d){c.SizerLightweightAutoResizeHeightDivMode=function(e){c.SizerLightweightAutoResizeHeightDivMode.initializeBase(this,[e]);
};
c.SizerLightweightAutoResizeHeightDivMode.prototype={makeAutoResizeHeight:function(){var e=this;
e._setHeight(e.editor.get_contentArea(),"");
c.SizerLightweightAutoResizeHeightDivMode.callBaseMethod(e,"makeAutoResizeHeight");
},modeChanged:function(g){var f=this;
var e=f.editor;
if(e.isFullScreen()){f.modeChangedFullScreen(g);
}else{if(g==b.EditModes.Design){f._setHeight(e.get_contentArea(),"");
}c.SizerLightweightAutoResizeHeightDivMode.callBaseMethod(f,"modeChanged",[g]);
}},setContentAreaMinHeight:function(e){if(!e.style.minHeight){var f=this;
f._setCss(e,{"min-height":f.contentAreaMinHeight});
}},setContentAreaElementHeight:function(){}};
c.SizerLightweightAutoResizeHeightDivMode.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweightAutoResizeHeightDivMode",c.SizerLightweightAutoResizeHeight);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,b,c,d){c.SizerLightweightEditTypeInline=function(e){c.SizerLightweightEditTypeInline.initializeBase(this,[e]);
};
c.SizerLightweightEditTypeInline.prototype={_getContentElementMinHeigth:function(f,e){return e;
},setContentAreaMinHeight:function(e){}};
c.SizerLightweightEditTypeInline.registerClass("Telerik.Web.UI.Editor.UI.SizerLightweightEditTypeInline",c.SizerLightweightAutoResizeHeightDivMode);
})($telerik.$,Telerik.Web.UI,Telerik.Web.UI.Editor.UI);
(function(a,c,e){var d=c.Editor.UI;
var b=c.EditModes;
d.SizerMobile=function(f){d.SizerMobile.initializeBase(this,[f]);
};
d.SizerMobile.prototype={setContentElementHeight:function(){},onResizeStart:function(){},onResizeEnd:function(){},onResizing:function(){},modeChanged:function(f){if(f===b.Design){this.setContentElementHeight();
}},moduleToggleVisibility:function(f){},onSubmitSetEditorHeight:function(){},hideDesignViewElement:function(f){},setHtmlViewElementHeight:function(f){},onRepaint:function(f){}};
d.SizerMobile.registerClass("Telerik.Web.UI.Editor.UI.SizerMobile",d.SizerBase);
})($telerik.$,Telerik.Web.UI);
(function(a,v){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI;
var h=b.Editor;
var j=function(){};
var f=Function.createDelegate;
var d=$telerik.cancelRawEvent;
var k="reTap";
var m=b.EventType;
var g=m.Down;
var p=m.Move;
var o=m.Leave;
var w=m.Up;
var e="click";
var i="RadEditorTap";
h.UI.TapEvent=function(x,y){this.element=x;
this.options=a.extend({down:j,move:j,tap:j,namespace:k,selector:v},y||{});
this.downDelegate=f(this,this._down);
this.moveDelegate=f(this,this._move);
this.upDelegate=f(this,this._up);
this.tapHandlers=[];
this._moved=false;
};
h.UI.TapEvent.prototype={init:function(){this._doEvents(true);
this.tapHandlers.push(this.options.tap);
},on:function(x){var y=this.tapHandlers;
if(y.length===0){this.init();
}if(x&&!Array.contains(y,x)){y.push(x);
}},tap:function(x){Array.forEach(this.tapHandlers,function(y){c(y,x);
});
},off:function(x){if(x===v){this.dispose();
return true;
}Array.remove(this.tapHandlers,x);
if(this.tapHandlers.length===0){this.dispose();
return true;
}},dispose:function(){this._doEvents(false);
this.element=v;
},_doEvents:function(y){var x=this.element;
var B=this.options;
var A=function(C){return q(C,B.namespace);
};
var z=y?"onEvent":"offEvent";
$telerik[z](x,A(g),B.selector,this.downDelegate);
this._detachMoveHandler();
$telerik[z](x,A(w),B.selector,this.upDelegate);
$telerik[z](x,A(e),B.selector,d);
},_attachMoveHandler:function(){this._detachMoveHandler();
var y=this.options;
var x=y.namespace;
$telerik.onEvent(this.element,q(p,x),y.selector,this.moveDelegate);
$telerik.onEvent(this.element,q(o,x),y.selector,f(this,this._cancel));
},_detachMoveHandler:function(){var x=this.options.namespace;
$telerik.offEvent(this.element,q(p,x));
$telerik.offEvent(this.element,q(o,x));
},_down:function(x){this._moved=false;
this.pos=l(x);
this._attachMoveHandler();
c(this.options.down,x);
},_move:function(y){var x=!t(this.pos,l(y));
this._moved=this._moved||x;
if(this._moved){this._cancel(y);
}},_cancel:function(x){c(this.options.move,x);
this._detachMoveHandler();
},_up:function(x){if(!this._moved){this.tap(x);
}this._moved=false;
this._detachMoveHandler();
}};
h.UI.TapEvent.registerClass("Telerik.Web.UI.Editor.UI.TapEvent");
function c(y,x){if(n(y)){y(x);
}}function s(y,z){var x=a(y);
var A=x.data(i);
if(n(z)){z={tap:z};
}if(A){A.on(z.tap);
}else{A=new h.UI.TapEvent(y,z);
A.on();
x.data(i,A);
}return A;
}function r(y,A){var x=a(y);
var B=x.data(i);
var z=!A||n(A)?A:A.tap;
if(B){if(B.off(z)){x.removeData(i);
}}}function q(x,y){return y?[x,y].join("."):x;
}function l(x){var y=$telerik.getEventLocation(x);
return u(y.pageX,y.pageY);
}function t(x,y){return x.x===y.x&&x.y===y.y;
}function u(z,A){return{x:z,y:A};
}function n(x){return typeof(x)==="function";
}h.UI.TapEvent.onTap=s;
h.UI.TapEvent.offTap=r;
})($telerik.$);
(function(a,d){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI,c=Telerik.Web.UI.Editor.UI.StaticToolsUI=function(){};
c.createToolWrapper=function(f,e,g){return c["createToolWrapper"+f](e,g);
};
c.createToolWrapperClassic=function(h,i){var f=h.get_enableAriaSupport();
var j=document.createElement("ul");
var g=document.createElement("li");
g.innerHTML="&nbsp;";
g.className="reGrip grip_first";
j.appendChild(g);
j.className="reToolbar "+i;
if(f){g.setAttribute("role","presentation");
}g=document.createElement("li");
j.appendChild(g);
var e=h.get_element();
g.appendChild(e);
g=document.createElement("li");
g.innerHTML="&nbsp;";
g.className="reGrip grip_last";
j.appendChild(g);
if(f){g.setAttribute("role","presentation");
j.setAttribute("role","presentation");
}return j;
};
c.createToolWrapperLightweight=function(h,i){var f=h.get_enableAriaSupport();
var j=document.createElement("ul");
j.className="reToolBar RadEditor_"+i;
if(f){j.setAttribute("role","presentation");
}var g=document.createElement("li");
j.appendChild(g);
var e=h.get_element();
g.appendChild(e);
return j;
};
c.createButton=function(e,f){c["createButton"+e](f);
};
c.createButtonClassic=function(h){var e=document.createElement("a");
e.className=h.showText==true?"reTool_text":"reTool";
var g=h.text;
e.title=g?g:h.name;
e.href="javascript:void(0);";
e.setAttribute("unselectable","on");
var f;
if(h.showIcon!=false){f=document.createElement("span");
f.className=h.name;
f.innerHTML="&nbsp;";
f.setAttribute("unselectable","on");
e.appendChild(f);
}if(h.showText==true){f=document.createElement("span");
f.className="reButton_text";
f.innerHTML=h.text?h.text:h.name;
f.setAttribute("unselectable","on");
e.appendChild(f);
}return e;
};
c.createButtonLightweight=function(e){var g=e.text||e.name,f=a("<a href='javascript:void(0);'></a>").attr({title:g,unselectable:"on"}).addClass("reTool re"+e.name);
if(e.showText==true){f.text(g).addClass("reToolText");
}if(e.showIcon!=false){f.addClass("reToolIcon");
}return f.get(0);
};
c.createTool=function(h,j,f,k,e,g){if(!k){k=b.EditorButton;
}j.rendermode=h;
if(!e){e=c["createToolUI"+h](j,k);
}var i=$create(k,j,f,null,e);
if(g&&g.appendChild){g.appendChild(e);
}return i;
};
c.createToolUIClassic=function(h,i){var f=c.createButtonClassic(h);
if(f.tagName=="A"){var e=f,g;
if(i==b.EditorSplitButton||i.inheritsFrom(b.EditorSplitButton)){Sys.UI.DomElement.addCssClass(e,"reSplitButton");
g=document.createElement("span");
g.className="split_arrow";
g.innerHTML="&nbsp;";
e.appendChild(g);
}else{if(i==b.EditorDropDown||i.inheritsFrom(b.EditorDropDown)){Sys.UI.DomElement.removeCssClass(e,"reTool");
Sys.UI.DomElement.addCssClass(e,"reDropdown");
e.innerHTML="";
g=document.createElement("span");
g.innerHTML="&nbsp;";
var j=h.width?h.width:"50px";
g.style.width=j;
e.appendChild(g);
}}}return f;
};
c.createToolUILightweight=function(g,h){var f=c.createButtonLightweight(g);
if(h==b.EditorSplitButton||h.inheritsFrom(b.EditorSplitButton)){var e=a("<span></span>").addClass("reSplitArrow").attr("unselectable","on");
a(f).append(e).addClass("reSplitButton");
}else{if(h==b.EditorDropDown||h.inheritsFrom(b.EditorDropDown)){a(f).removeClass("reTool").addClass("reDropdown").width(g.width||"50px");
}}return f;
};
})($telerik.$);
(function(a,g){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI;
var c=Telerik.Web.UI.Editor.UI;
var f=b.RenderMode;
var e="Mobile";
var h="View";
var d="FontName";
c.ToolsViewFactory={getView:function(i,j){var k=this.getViewName(i,j);
return new c[k](i);
},getViewName:function(l,n){var m=l.get_name();
var k=l._rendermode;
var j=k=="Mobile"||k==f.Mobile;
var o;
if(j){if(m===d){o=e+m+h;
}else{o=e+n+h;
}}else{var i=l._rendermode=="Lightweight"||l._rendermode==f.Lite||(l._attributes&&l._attributes.rendermode=="Lightweight");
o=(i?"Lightweight":"Classic")+n+"View";
}return o;
}};
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.BaseEditorButtonView=function(d){var e=this;
e.owner=d;
e.initialize();
};
b.BaseEditorButtonView.prototype={initialize:function(){var g=this,e=g.owner;
var d=e.getAnchorElement();
if(d){d.setAttribute("unselectable","on");
}var f=e.getSpanElement();
if(f){f.setAttribute("unselectable","on");
}},dispose:function(){delete this.owner;
},set_width:function(d){},get_width:function(){},set_height:function(d){},get_height:function(){},set_tooltipIncrease:function(d){},get_tooltipIncrease:function(){},set_tooltipDecrease:function(d){},get_tooltipDecrease:function(){},enable:function(){},disable:function(){},select:function(d){},deselect:function(d){},set_text:function(d){},updateElementsOnValueChange:function(d){this.set_text((""+d));
}};
b.BaseEditorButtonView.registerClass("Telerik.Web.UI.Editor.UI.BaseEditorButtonView");
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.BaseEditorDropDownView=function(d){b.BaseEditorDropDownView.initializeBase(this,[d]);
};
b.BaseEditorDropDownView.prototype={renderItemRoot:function(){},renderHeader:function(){},renderFooter:function(){},renderNewRow:function(d){},renderItemContainer:function(d){},renderChild:function(d,e,f){},getItemElements:function(d){}};
b.BaseEditorDropDownView.registerClass("Telerik.Web.UI.Editor.UI.BaseEditorDropDownView",b.BaseEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorButtonView=function(d){b.ClassicEditorButtonView.initializeBase(this,[d]);
};
b.ClassicEditorButtonView.prototype={set_width:function(e){var d=this.owner.getSpanElement();
if(d){d.style.width=e;
}},get_width:function(){return this.owner.get_element().offsetWidth;
},set_height:function(e){var d=this.owner.getSpanElement();
if(d){d.style.height=e;
}},get_height:function(){return this.owner.get_element().offsetHeight;
},set_tooltipIncrease:function(e){var d=this.owner.getAnchorElement();
if(d&&e){d.getElementsByTagName("A")[0].title=e;
}},get_tooltipIncrease:function(){var d=this.owner.getAnchorElement();
if(d){return d.getElementsByTagName("A")[0].title;
}},set_tooltipDecrease:function(e){var d=this.owner.getAnchorElement();
if(d&&e){d.getElementsByTagName("A")[1].title=e;
}},get_tooltipDecrease:function(){var d=this.owner.getAnchorElement();
if(d){return d.getElementsByTagName("A")[1].title;
}},enable:function(){var d=this.owner.getAnchorElement();
var e=this.owner.get_enableAriaSupport();
this._removeAnchorCssClass("reTool_disabled");
d.removeAttribute("disabled");
if(e){d.removeAttribute("aria-disabled");
}},disable:function(){var d=this.owner.getAnchorElement();
var e=this.owner.get_enableAriaSupport();
this._addAnchorCssClass("reTool_disabled");
d.setAttribute("disabled","disabled");
if(e){d.setAttribute("aria-disabled","true");
}},select:function(f){var g=this.owner.get_enableAriaSupport();
var d=this.owner.getAnchorElement();
var e=f?f:"aria-pressed";
this._addAnchorCssClass("reTool_selected");
if(d&&g){d.setAttribute(e,"true");
}},deselect:function(f){var g=this.owner.get_enableAriaSupport();
var d=this.owner.getAnchorElement();
var e=f?f:"aria-pressed";
this._removeAnchorCssClass("reTool_selected");
if(d&&g){d.removeAttribute(e);
}},set_text:function(d){this.owner.getSpanElement().innerHTML=d.replace(/\s+/ig,"&nbsp;");
},_addAnchorCssClass:function(d){Sys.UI.DomElement.addCssClass(this.owner.getAnchorElement(),d);
},_removeAnchorCssClass:function(d){Sys.UI.DomElement.removeCssClass(this.owner.getAnchorElement(),d);
}};
b.ClassicEditorButtonView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorButtonView",b.BaseEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorDropDownView=function(d){b.ClassicEditorDropDownView.initializeBase(this,[d]);
};
b.ClassicEditorDropDownView.prototype={renderItemRoot:function(){var d=document.createElement("table");
d.border=0;
d.cellPadding=0;
d.setAttribute("unselectable","on");
d.style.cursor="default";
if(this.owner.get_enableAriaSupport()){d.setAttribute("role","presentation");
}return d;
},renderHeader:function(){},renderFooter:function(){},renderNewRow:function(d){return d.insertRow(-1);
},renderItemContainer:function(f){var e=f.rows[f.rows.length-1];
var d=e.insertCell(-1);
return d;
},renderChildren:function(){var g=this.owner;
for(var d=0;
d<g._items.length;
d++){var h=false;
var e=g._items[d];
h=0==(d%g.get_itemsperrow());
if(h){g.renderNewRow();
}var f=g.renderItemContainer(e);
g.markItemContainer(f,d);
g.renderChild(f,e,d);
}},renderChild:function(d,e,f){var g=document.createElement("span");
if(e){var j=null;
var h=null;
if(e instanceof Array){j=e[1];
h=e[2];
}else{j=e;
}if(h){var i=document.createElement("span");
i.innerHTML="&nbsp;";
i.className=h;
g.appendChild(i);
}if(j){g.innerHTML+=j;
g.noWrap=true;
}}d.innerHTML=g.innerHTML;
},getItemElements:function(d){return d.getElementsByTagName("TD");
}};
b.ClassicEditorDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorDropDownView",b.ClassicEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorUpdateableDropDownView=function(d){b.ClassicEditorUpdateableDropDownView.initializeBase(this,[d]);
};
b.ClassicEditorUpdateableDropDownView.prototype={};
b.ClassicEditorUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorUpdateableDropDownView",b.ClassicEditorDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorSelfUpdateableDropDownView=function(d){b.ClassicEditorSelfUpdateableDropDownView.initializeBase(this,[d]);
};
b.ClassicEditorSelfUpdateableDropDownView.prototype={};
b.ClassicEditorSelfUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSelfUpdateableDropDownView",b.ClassicEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorSplitButtonView=function(d){b.ClassicEditorSplitButtonView.initializeBase(this,[d]);
};
b.ClassicEditorSplitButtonView.prototype={getSplitArrow:function(){var e=this.owner.getAnchorElement().getElementsByTagName("SPAN");
var d=e[e.length-1];
return d;
}};
b.ClassicEditorSplitButtonView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSplitButtonView",b.ClassicEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorToolStripView=function(d){b.ClassicEditorToolStripView.initializeBase(this,[d]);
};
b.ClassicEditorToolStripView.prototype={renderItemRoot:function(){var d=document.createElement("div");
d.className="reTlbVertical";
d.style.cssFloat="left";
d.style.width="100%";
return d;
},renderChildren:function(){var m=this.owner.get_tools();
var n=document.createElement("ul");
n.setAttribute("onmousedown","return false;");
n.className=this._getChildrenWrapperClass();
this.owner._itemRootElement.appendChild(n);
for(var f=0;
f<m.length;
f++){if(this._shouldRenderNewRow(f)){n=this.renderNewRow(n);
}var l=m[f];
if(null==l.showText){l.showText=true;
}var h=document.createElement("li");
n.appendChild(h);
var k=b.StaticToolsUI.createTool(this._renderMode,l,null,null,null,h);
var e=this.owner.get_enableAriaSupport();
if(e){var d=k.getAnchorElement();
if(d){k.set_enableAriaSupport(e,"option");
d.setAttribute("aria-posinset",f+1);
var g=this.owner._popupBehavior.get_id()+"_"+l.name;
h.setAttribute("role","presentation");
d.setAttribute("id",g);
var j=$telerik.getChildByClassName(d,"reButton_text");
if(j){j.setAttribute("id",g+"_text");
d.setAttribute("aria-describedby",j.id);
}}n.setAttribute("role","presentation");
}this.owner._items[this.owner._items.length]=k;
}},_getChildrenWrapperClass:function(){return"reToolbar "+this.owner.get_skin();
},_shouldRenderNewRow:function(d){var e=this.owner.get_itemsperrow();
return e>1&&d>1&&(d%e==0);
},renderNewRow:function(d){var e=document.createElement("ul");
e.className=this._getChildrenWrapperClass();
this.owner._itemRootElement.appendChild(e);
return e;
},_updateHeader:function(){var g=this.owner,j=g.get_selectedItem();
if(!j||!j.getSpanElement){return;
}var i=j.getSpanElement();
if(i){var f=i.cloneNode(true);
var e=g.getSpanElement();
var h=e.parentNode;
h.replaceChild(f,e);
var d=j.getAnchorElement();
if(d){h.setAttribute("title",d.getAttribute("title"));
}}},_renderMode:"Classic"};
b.ClassicEditorToolStripView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorToolStripView",b.ClassicEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicAlignmentSelectorView=function(d){b.ClassicAlignmentSelectorView.initializeBase(this,[d]);
this._alignmentClassName=["reNoAlignment","reNoAlignment","reNoAlignment","reTopLeft","reTopCenter","reTopRight","reMiddleLeft","reMiddleCenter","reMiddleRight","reBottomLeft","reBottomCenter","reBottomRight"];
};
b.ClassicAlignmentSelectorView.prototype={renderItemRoot:function(){var d=document.createElement("table");
d.border=0;
d.cellPadding=0;
d.setAttribute("unselectable","on");
d.style.cursor="default";
if(this.owner.get_enableAriaSupport()){d.setAttribute("role","presentation");
}return d;
},renderNewRow:function(d){return d.insertRow(-1);
},renderItemContainer:function(f){var e=f.rows[f.rows.length-1];
if(!e){e=this.renderNewRow(f);
}var d=e.insertCell(-1);
return d;
},renderChild:function(d,e,f){var g=document.createElement("div");
if(e){g.innerHTML="&nbsp;";
g.className=this._alignmentClassName[f];
}d.appendChild(g);
},getItemElements:function(d){return d.getElementsByTagName("TD");
},getSplitArrow:function(){var e=this.owner.getAnchorElement().getElementsByTagName("SPAN");
var d=e[e.length-1];
return d;
},decorate:function(d){var e=this.owner.getSpanElement();
e.className=d;
}};
b.ClassicAlignmentSelectorView.registerClass("Telerik.Web.UI.Editor.UI.ClassicAlignmentSelectorView",b.ClassicEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicApplyClassDropDownView=function(d){b.ClassicApplyClassDropDownView.initializeBase(this,[d]);
};
b.ClassicApplyClassDropDownView.prototype={renderChild:function(d,f){var l=this.owner;
var i=f[1];
if(i){var j=l._getClassTag(i);
var h=l._getClassCss(i);
var k=f[2]?f[2]:l._getDisplayName(i);
d.setAttribute("title",i.selectorText);
var e=l._getClassIcon(j);
d.appendChild(e);
var g=this._getChild(h,j,k);
d.appendChild(g);
}},_getChild:function(f,e,d){var g=document.createElement("div");
if(e.toLowerCase()=="a"){g=document.createElement("a");
g.href="#";
g.onmouseover="window.status = ''; return false;";
g.onclick=function(){return false;
};
g.style.cursor="default";
}if(null!=g.style.cssText){g.style.cssText=f;
}g.setAttribute("style",f);
g.innerHTML=d;
var h=g.style;
h.visibility="visible";
h.marginLeft="0px";
h.overflowX="hidden";
h.clear="none";
h.position="";
h.cssFloat="";
h.styleFloat="";
h.width="";
return g;
}};
b.ClassicApplyClassDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicApplyClassDropDownView",b.ClassicEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicColorPickerView=function(d){b.ClassicColorPickerView.initializeBase(this,[d]);
};
b.ClassicColorPickerView.prototype={decorate:function(f){var d=this.owner.getSpanElement();
d.style.borderBottom="0px";
d.style.height="";
if(f){var h=d.offsetHeight;
if(h){d.style.height=(h-3)+"px";
}try{d.style.borderBottom="3px solid "+f;
}catch(g){}}},get_addCustomColorElement:function(){return null;
},get_currentColorWrapperElement:function(){return null;
},get_clearColorElement:function(){return null;
}};
b.ClassicColorPickerView.registerClass("Telerik.Web.UI.Editor.UI.ClassicColorPickerView",b.ClassicEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorCheckBoxView=function(d){b.ClassicEditorCheckBoxView.initializeBase(this,[d]);
};
b.ClassicEditorCheckBoxView.prototype={};
b.ClassicEditorCheckBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorCheckBoxView",b.ClassicEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorContextMenuView=function(d){b.ClassicEditorContextMenuView.initializeBase(this,[d]);
};
b.ClassicEditorContextMenuView.prototype={};
b.ClassicEditorContextMenuView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorContextMenuView",b.ClassicEditorToolStripView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorSpellSuggestionBoxView=function(d){b.ClassicEditorSpellSuggestionBoxView.initializeBase(this,[d]);
};
b.ClassicEditorSpellSuggestionBoxView.prototype={};
b.ClassicEditorSpellSuggestionBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSpellSuggestionBoxView",b.ClassicEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorSpinBoxView=function(d){b.ClassicEditorSpinBoxView.initializeBase(this,[d]);
};
b.ClassicEditorSpinBoxView.prototype={initialize:function(){Telerik.Web.UI.Editor.UI.ClassicEditorSpinBoxView.callBaseMethod(this,"initialize");
this._createUI();
},getSpinBoxArrowFormEvent:function(d){var f=null;
if(!d){f=window.event.srcElement;
}else{f=d.target;
}while(f&&f.tagName.toLowerCase()!="a"){f=f.parentNode;
}return f;
},_createUI:function(){var k=this.owner;
var j=document.createElement("table");
j.cellSpacing=0;
j.cellPadding=0;
j.className=k.get_visibleInput()?k._className:"reTableWizardSpinBox";
j.insertRow(-1);
var g=j.rows[0].insertCell(-1);
var f=document.createElement("input");
f.className="radfd_skipme";
f.type="text";
f.onclick=function(l){f.focus();
};
f.onkeypress=Function.createDelegate(k,k._onKeyPressHandler);
f.onchange=Function.createDelegate(k,k._onChangeHandler);
k._inputElement=f;
g.appendChild(f);
if(!k.get_visibleInput()){k.set_visibleInput(false);
}var d;
if(k.get_visibleInput()){g=j.rows[0].insertCell(-1);
var i=document.createElement("table");
i.cellSpacing=0;
i.cellPadding=0;
i.insertRow(-1);
var h=i.rows[0].insertCell(-1);
d=this._createAnchorElement("Increase");
k._increaseButton=d;
h.appendChild(d);
i.insertRow(-1);
h=i.rows[1].insertCell(-1);
d=this._createAnchorElement("Decrease");
k._decreaseButton=d;
h.appendChild(d);
g.appendChild(i);
}else{g=j.rows[0].insertCell(-1);
d=this._createAnchorElement_noinput("Increase");
k._increaseButton=d;
g.appendChild(d);
g=j.rows[0].insertCell(-1);
d=this._createAnchorElement_noinput("Decrease");
k._decreaseButton=d;
g.appendChild(d);
}var e=k.get_element();
e.appendChild(j);
e.style.width=k.get_width();
},_createAnchorElement:function(g){var d=document.createElement("a");
var e=window.localization;
var f=typeof(e)!="undefined"&&e[g]?e[g]:g;
d.title=f;
d.href="javascript:void(0);";
d.innerHTML=f;
d.className="reSpinBox"+g;
d.onclick=Function.createDelegate(this.owner,this.owner._onPlusMinusClickHandler);
return d;
},_createAnchorElement_noinput:function(g){var d=document.createElement("a");
var e=window.localization;
var f=typeof(e)!="undefined"&&e[g]?e[g]:g;
d.title=f;
d.href="javascript:void(0);";
d.innerHTML="<span class='reTableWizardSpinBox_"+g+"'>"+f+"</span>";
d.onclick=Function.createDelegate(this.owner,this.owner._onPlusMinusClickHandler);
return d;
}};
b.ClassicEditorSpinBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorSpinBoxView",b.ClassicEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicEditorTextBoxView=function(d){b.ClassicEditorTextBoxView.initializeBase(this,[d]);
};
b.ClassicEditorTextBoxView.prototype={};
b.ClassicEditorTextBoxView.registerClass("Telerik.Web.UI.Editor.UI.ClassicEditorTextBoxView",b.ClassicEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicImageDialogCallerView=function(d){b.ClassicImageDialogCallerView.initializeBase(this,[d]);
};
b.ClassicImageDialogCallerView.prototype={};
b.ClassicImageDialogCallerView.registerClass("Telerik.Web.UI.Editor.UI.ClassicImageDialogCallerView",b.ClassicEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.ClassicInsertCustomLinkDropDownView=function(d){var e=this;
b.ClassicInsertCustomLinkDropDownView.initializeBase(e,[d]);
e._emptyIcon="reIcon_empty";
e._expandIcon="reIcon_plus";
e._collapseIcon="reIcon_minus";
e._linkCounter=0;
};
b.ClassicInsertCustomLinkDropDownView.prototype={renderItemRoot:function(){var d=document.createElement("ul");
d.className="reCustomLinks";
this._itemRootElement=d;
return this._itemRootElement;
},renderNewRow:function(d){},renderHeader:function(){},renderFooter:function(){},renderItemContainer:function(e){var d=document.createElement("li");
e.appendChild(d);
return d;
},renderChild:function(e,f,j){e.item_index=c;
var p=this;
var k=p._linkCounter;
p._linkCounter++;
p.owner.FlatLinksArray[k]=f;
var g=f.childLinks&&f.childLinks.length;
var m=document.createElement("span");
m.innerHTML="&nbsp;";
m.className="reCustomLinksIcon ";
m.className+=g?p._expandIcon:p._emptyIcon;
if(g){$addHandler(m,"click",function(r){var s=Sys.UI.DomElement.containsCssClass(this,p._expandIcon);
var t=this.parentNode.getElementsByTagName("UL")[0];
if(t){t.style.display=s?"":"none";
var q=s?p._expandIcon:p._collapseIcon;
var i=s?p._collapseIcon:p._expandIcon;
Sys.UI.DomElement.removeCssClass(this,q);
Sys.UI.DomElement.addCssClass(this,i);
}return $telerik.cancelRawEvent(r);
});
}e.appendChild(m);
var l=null;
if(f.href){l=document.createElement("a");
l.href="#";
l.innerHTML=f.name;
e.appendChild(l);
this.owner.markItemContainer(l,k);
}else{l=document.createElement("span");
l.innerHTML=f.name;
e.appendChild(l);
}if(g){var o=document.createElement("ul");
e.appendChild(o);
var d=f.childLinks;
for(var h=0;
h<f.childLinks.length;
h++){var n=d[h];
this.renderChild(p.renderItemContainer(o),n);
}o.style.display="none";
}},getItemElements:function(d){return null;
}};
b.ClassicInsertCustomLinkDropDownView.registerClass("Telerik.Web.UI.Editor.UI.ClassicInsertCustomLinkDropDownView",b.ClassicEditorDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorButtonView=function(d){Telerik.Web.UI.Editor.UI.LightweightEditorButtonView.initializeBase(this,[d]);
};
b.LightweightEditorButtonView.prototype={set_width:function(d){$telerik.$(this.owner.get_element()).width(d);
},get_width:function(){return $telerik.$(this.owner.get_element()).width();
},set_height:function(d){$telerik.$(this.owner.get_element()).height(d);
},get_height:function(){return $telerik.$(this.owner.get_element()).width();
},set_tooltipIncrease:function(d){},get_tooltipIncrease:function(){},set_tooltipDecrease:function(d){},get_tooltipDecrease:function(){},enable:function(){$telerik.$(this.owner.get_element()).removeClass("reToolDisabled").removeAttr("disabled");
if(this.owner.get_enableAriaSupport()){$telerik.$(this.owner.get_element()).removeAttr("aria-disabled");
}},disable:function(){$telerik.$(this.owner.get_element()).addClass("reToolDisabled").attr("disabled","disabled");
if(this.owner.get_enableAriaSupport()){$telerik.$(this.owner.get_element()).attr("aria-disabled",true);
}},select:function(d){$telerik.$(this.owner.get_element()).addClass("reToolSelected").attr(d||"aria-pressed","true");
},deselect:function(d){$telerik.$(this.owner.get_element()).removeClass("reToolSelected").removeAttr(d||"aria-pressed");
},set_text:function(h){var g,f,e=this.owner.get_element(),d=e.childNodes;
if(d.length>0){for(f in d){g=d[f];
if(g.nodeType===3){g.nodeValue=h;
}}}else{e.innerHTML=h;
}}};
b.LightweightEditorButtonView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorButtonView",b.BaseEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorDropDownView=function(d){b.LightweightEditorDropDownView.initializeBase(this,[d]);
};
b.LightweightEditorDropDownView.prototype={renderItemRoot:function(){var d=a("<ul></ul>").css("cursor","default").attr("unselectable","on");
if(this.owner.get_enableAriaSupport()){d.attr("role","presentation");
}return d.get(0);
},renderHeader:function(){},renderFooter:function(){},renderNewRow:function(d){var e=a("<li class='reClear'></li>");
a(d).append(e);
return e.get(0);
},renderItemContainer:function(e){var d=a("<li></li>");
a(e).append(d);
return d.get(0);
},renderChildren:function(){var g=this.owner;
for(var d=0;
d<g._items.length;
d++){var h=false;
var e=g._items[d];
h=g.get_itemsperrow()==1||(d>1&&0==(d%g.get_itemsperrow()));
if(h){g.renderNewRow();
}var f=g.renderItemContainer(e);
g.markItemContainer(f,d);
g.renderChild(f,e,d);
}g.renderNewRow();
},renderChild:function(d,e,g){var h,f;
if(e instanceof Array){h=e[1];
f=e[2];
}else{h=e;
}if(f){a(d).addClass("reToolIcon re"+f);
}a(d).html(h);
},getItemElements:function(d){return d.getElementsByTagName("LI");
}};
b.LightweightEditorDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorDropDownView",b.LightweightEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorUpdateableDropDownView=function(d){b.LightweightEditorUpdateableDropDownView.initializeBase(this,[d]);
};
b.LightweightEditorUpdateableDropDownView.prototype={};
b.LightweightEditorUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorUpdateableDropDownView",b.LightweightEditorDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorSelfUpdateableDropDownView=function(d){b.LightweightEditorSelfUpdateableDropDownView.initializeBase(this,[d]);
};
b.LightweightEditorSelfUpdateableDropDownView.prototype={};
b.LightweightEditorSelfUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSelfUpdateableDropDownView",b.LightweightEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorSplitButtonView=function(d){b.LightweightEditorSplitButtonView.initializeBase(this,[d]);
};
b.LightweightEditorSplitButtonView.prototype={getSplitArrow:function(){return a(this.owner.getAnchorElement()).find(".reSplitArrow").get(0);
}};
b.LightweightEditorSplitButtonView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSplitButtonView",b.LightweightEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorToolStripView=function(d){b.LightweightEditorToolStripView.initializeBase(this,[d]);
};
b.LightweightEditorToolStripView.prototype={renderItemRoot:function(){var d=document.createElement("div");
d.className="reTlbVertical";
d.style.cssFloat="left";
d.style.width="100%";
return d;
},renderChildren:function(){var m=this.owner.get_tools();
var n=document.createElement("ul");
n.setAttribute("onmousedown","return false;");
n.className=this._getChildrenWrapperClass();
this.owner._itemRootElement.appendChild(n);
for(var f=0;
f<m.length;
f++){if(this._shouldRenderNewRow(f)){n=this.renderNewRow(n);
}var l=m[f];
if(null==l.showText){l.showText=true;
}var h=document.createElement("li");
n.appendChild(h);
var k=b.StaticToolsUI.createTool(this._renderMode,l,null,null,null,h);
var e=this.owner.get_enableAriaSupport();
if(e){var d=k.getAnchorElement();
if(d){k.set_enableAriaSupport(e,"option");
d.setAttribute("aria-posinset",f+1);
var g=this.owner._popupBehavior.get_id()+"_"+l.name;
h.setAttribute("role","presentation");
d.setAttribute("id",g);
var j=$telerik.getChildByClassName(d,"reButton_text");
if(j){j.setAttribute("id",g+"_text");
d.setAttribute("aria-describedby",j.id);
}}n.setAttribute("role","presentation");
}this.owner._items[this.owner._items.length]=k;
}},_getChildrenWrapperClass:function(){return"reToolBar RadEditor_"+this.owner.get_skin();
},_shouldRenderNewRow:function(d){var e=this.owner.get_itemsperrow();
return e==0||(d>0&&0==(d%e));
},renderNewRow:function(d){b.LightweightEditorToolStripView.callBaseMethod(this,"renderNewRow",[d]);
return d;
},_clearHeader:function(){var e=this.owner,d=e.get_element(),f=e.get_selectedItem();
if(f){a(d).removeClass("re"+f.get_name());
}else{a(d).removeClass("re"+e.get_name());
}},_updateHeader:function(){var d=this.owner,e=d.get_selectedItem();
if(e){a(d.get_element()).addClass("re"+e.get_name());
}},_renderMode:"Lightweight"};
b.LightweightEditorToolStripView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorToolStripView",b.LightweightEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightAlignmentSelectorView=function(d){b.LightweightAlignmentSelectorView.initializeBase(this,[d]);
this._alignmentClassName=["reNoAlignment","reNoAlignment","reNoAlignment","reTopLeft","reTopCenter","reTopRight","reMiddleLeft","reMiddleCenter","reMiddleRight","reBottomLeft","reBottomCenter","reBottomRight"];
};
b.LightweightAlignmentSelectorView.prototype={renderItemRoot:function(){var d=document.createElement("table");
d.border=0;
d.cellPadding=0;
d.setAttribute("unselectable","on");
d.style.cursor="default";
if(this.owner.get_enableAriaSupport()){d.setAttribute("role","presentation");
}return d;
},renderNewRow:function(d){return d.insertRow(-1);
},renderItemContainer:function(f){var e=f.rows[f.rows.length-1];
if(!e){e=this.renderNewRow(f);
}var d=e.insertCell(-1);
return d;
},renderChild:function(d,e,f){var g=document.createElement("div");
if(e){g.innerHTML="&nbsp;";
g.className=this._alignmentClassName[f];
}d.appendChild(g);
},getItemElements:function(d){return d.getElementsByTagName("TD");
},getSplitArrow:function(){return a(this.owner.getAnchorElement()).find(".reSplitArrow").get(0);
},decorate:function(d){a(this.owner.get_element()).removeClass("reNoAlignment reTopLeft reTopCenter reTopRight reMiddleLeft reMiddleCenter reMiddleRight reBottomLeft reBottomCenter reBottomRight").addClass(d);
}};
b.LightweightAlignmentSelectorView.registerClass("Telerik.Web.UI.Editor.UI.LightweightAlignmentSelectorView",b.LightweightEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightApplyClassDropDownView=function(d){b.LightweightApplyClassDropDownView.initializeBase(this,[d]);
};
b.LightweightApplyClassDropDownView.prototype={renderChild:function(j,e){var f=this.owner;
var g=e[1];
var h;
if(g){if(e[0]){h=f._getClassTag(g);
h=h?h.charAt(0).toUpperCase()+h.substring(1):"All";
}else{h="Clear";
}var d=f._getClassCss(g);
var i=e[2]?e[2]:f._getDisplayName(g);
j.appendChild(this._getChild(d,h,i));
j.setAttribute("title",g.selectorText);
}},_getChild:function(e,i,f){var d="reRulePreview";
var h=(i.toLowerCase()=="a")?'<a class="'+d+'" href="#" unselectable="on" title="'+f+'">':'<span class="'+d+'">';
var g=a(h).html(f).css("cssText",e).css({visibility:"visible",marginLeft:"0px",overflowX:"hidden",clear:"none",position:"",cssFloat:"",styleFloat:"",width:"",cursor:"default"});
return a('<span class="reRuleIcon reIcon'+i+'">').append(g).get(0);
}};
b.LightweightApplyClassDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightApplyClassDropDownView",b.LightweightEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightColorPickerView=function(d){b.LightweightColorPickerView.initializeBase(this,[d]);
};
b.LightweightColorPickerView.prototype={decorate:function(d){var h=a("head").find("style#re"+this.owner.get_name()+"StyleHolder");
if(!h.get(0)){h=a("<style></style>").attr("id","re"+this.owner.get_name()+"StyleHolder");
a("head").append(h);
}var f="";
if(d){f="a.reToolIcon.reTool.re"+this.owner.get_name()+":before{color:"+d+";}";
}try{h.text(f);
}catch(g){h.prop("styleSheet").cssText=f;
}},get_addCustomColorElement:function(){return null;
},get_currentColorWrapperElement:function(){return null;
},get_clearColorElement:function(){return null;
}};
b.LightweightColorPickerView.registerClass("Telerik.Web.UI.Editor.UI.LightweightColorPickerView",b.LightweightEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorCheckBoxView=function(d){b.LightweightEditorCheckBoxView.initializeBase(this,[d]);
};
b.LightweightEditorCheckBoxView.prototype={};
b.LightweightEditorCheckBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorCheckBoxView",b.LightweightEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorContextMenuView=function(d){b.LightweightEditorContextMenuView.initializeBase(this,[d]);
};
b.LightweightEditorContextMenuView.prototype={};
b.LightweightEditorContextMenuView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorContextMenuView",b.LightweightEditorToolStripView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorSpellSuggestionBoxView=function(d){b.LightweightEditorSpellSuggestionBoxView.initializeBase(this,[d]);
};
b.LightweightEditorSpellSuggestionBoxView.prototype={renderChildren:function(){}};
b.LightweightEditorSpellSuggestionBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSpellSuggestionBoxView",b.LightweightEditorSplitButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorSpinBoxView=function(d){b.LightweightEditorSpinBoxView.initializeBase(this,[d]);
};
b.LightweightEditorSpinBoxView.prototype={initialize:function(){Telerik.Web.UI.Editor.UI.LightweightEditorSpinBoxView.callBaseMethod(this,"initialize");
this._createUI();
},getSpinBoxArrowFormEvent:function(d){var f=d.target||window.event.target;
if(a(f).hasClass("reSpinBoxIncrease")||a(f).hasClass("reSpinBoxDecrease")){return f;
}return null;
},_createUI:function(){var f=this.owner,d=f.get_element();
var h=document.createElement("div");
a(h).addClass("reSpinBox");
var e=document.createElement("input");
f._inputElement=e;
e.className="radfd_skipme";
e.type="text";
e.onclick=function(i){e.focus();
};
e.onkeypress=Function.createDelegate(f,f._onKeyPressHandler);
e.onchange=Function.createDelegate(f,f._onChangeHandler);
h.appendChild(e);
var g=document.createElement("div");
a(g).addClass("reSpinBoxButtons");
h.appendChild(g);
f._increaseButton=document.createElement("span");
a(f._increaseButton).addClass("reSpinBoxIncrease");
f._increaseButton.onclick=Function.createDelegate(f,f._onPlusMinusClickHandler);
g.appendChild(f._increaseButton);
f._decreaseButton=document.createElement("span");
a(f._decreaseButton).addClass("reSpinBoxDecrease");
f._decreaseButton.onclick=Function.createDelegate(f,f._onPlusMinusClickHandler);
g.appendChild(f._decreaseButton);
d.appendChild(h);
}};
b.LightweightEditorSpinBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorSpinBoxView",b.LightweightEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightEditorTextBoxView=function(d){b.LightweightEditorTextBoxView.initializeBase(this,[d]);
};
b.LightweightEditorTextBoxView.prototype={};
b.LightweightEditorTextBoxView.registerClass("Telerik.Web.UI.Editor.UI.LightweightEditorTextBoxView",b.LightweightEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightImageDialogCallerView=function(d){b.LightweightImageDialogCallerView.initializeBase(this,[d]);
};
b.LightweightImageDialogCallerView.prototype={};
b.LightweightImageDialogCallerView.registerClass("Telerik.Web.UI.Editor.UI.LightweightImageDialogCallerView",b.LightweightEditorButtonView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.LightweightInsertCustomLinkDropDownView=function(d){var e=this;
b.LightweightInsertCustomLinkDropDownView.initializeBase(e,[d]);
e._emptyIcon="reIconEmpty";
e._expandIcon="reIconAdd";
e._collapseIcon="reIconRemove";
e._linkCounter=0;
};
b.LightweightInsertCustomLinkDropDownView.prototype={renderItemRoot:function(){var d=document.createElement("ul");
d.className="reCustomLinks";
this._itemRootElement=d;
return this._itemRootElement;
},renderNewRow:function(d){},renderHeader:function(){},renderFooter:function(){},renderItemContainer:function(e){var d=document.createElement("li");
e.appendChild(d);
return d;
},renderChild:function(e,f,j){delete e.item_index;
var p=this;
var k=p._linkCounter;
p._linkCounter++;
p.owner.FlatLinksArray[k]=f;
var g=f.childLinks&&f.childLinks.length;
var m=document.createElement("span");
m.innerHTML="&nbsp;";
m.className="reCustomLinksIcon ";
m.className+=g?p._expandIcon:p._emptyIcon;
if(g){$addHandler(m,"click",function(r){var s=Sys.UI.DomElement.containsCssClass(this,p._expandIcon);
var t=this.parentNode.getElementsByTagName("UL")[0];
if(t){t.style.display=s?"":"none";
var q=s?p._expandIcon:p._collapseIcon;
var i=s?p._collapseIcon:p._expandIcon;
Sys.UI.DomElement.removeCssClass(this,q);
Sys.UI.DomElement.addCssClass(this,i);
}return $telerik.cancelRawEvent(r);
});
}e.appendChild(m);
var l=null;
if(f.href){l=document.createElement("a");
l.href="#";
l.innerHTML=f.name;
e.appendChild(l);
this.owner.markItemContainer(l,k);
}else{l=document.createElement("span");
l.innerHTML=f.name;
e.appendChild(l);
}if(g){var o=document.createElement("ul");
e.appendChild(o);
var d=f.childLinks;
for(var h=0;
h<f.childLinks.length;
h++){var n=d[h];
this.renderChild(p.renderItemContainer(o),n);
}o.style.display="none";
}},getItemElements:function(d){return null;
}};
b.LightweightInsertCustomLinkDropDownView.registerClass("Telerik.Web.UI.Editor.UI.LightweightInsertCustomLinkDropDownView",b.LightweightEditorDropDownView);
})($telerik.$);
(function(a,i){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI,g="reToolDisabled",h="reToolText",f="reButtonSelected",e="disabled",c="aria-disabled",d="aria-pressed";
b.MobileEditorButtonView=function(j){Telerik.Web.UI.Editor.UI.MobileEditorButtonView.initializeBase(this,[j]);
};
b.MobileEditorButtonView.prototype={set_width:function(j){},get_width:function(){return a(this.owner.get_element()).width();
},set_height:function(j){},get_height:function(){return a(this.owner.get_element()).width();
},set_tooltipIncrease:function(j){},get_tooltipIncrease:function(){},set_tooltipDecrease:function(j){},get_tooltipDecrease:function(){},enable:function(){a(this.owner.get_element()).removeClass(g).removeAttr(e);
if(this.owner.get_enableAriaSupport()){a(this.owner.get_element()).removeAttr(c);
}},disable:function(){a(this.owner.get_element()).addClass(g).attr(e,e);
if(this.owner.get_enableAriaSupport()){a(this.owner.get_element()).attr(c,true);
}},select:function(j){a(this.owner.get_element()).addClass(f).attr(j||d,"true");
},deselect:function(j){a(this.owner.get_element()).removeClass(f).removeAttr(j||d);
},set_text:function(l){var j=this.owner.get_element();
var k=a("."+h,j);
if(k.length>0){k.html(l);
}else{a('<span class="'+h+'">'+l+"</span>").appendTo(j);
}}};
b.MobileEditorButtonView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorButtonView",b.BaseEditorButtonView);
})($telerik.$);
(function(a,h){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
var f="role";
var e="presentation";
var i="unselectable";
var d="on";
var g="<ul/>";
var c="reToolList reToolDropDown";
b.MobileEditorDropDownView=function(j){b.MobileEditorDropDownView.initializeBase(this,[j]);
};
b.MobileEditorDropDownView.prototype={renderItemRoot:function(){var k=this;
var j=a(g).addClass(c).attr(i,d);
if(k.owner.get_enableAriaSupport()){j.attr(f,e);
}return j.get(0);
},renderNewRow:function(j){}};
b.MobileEditorDropDownView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorDropDownView",b.LightweightEditorDropDownView);
})($telerik.$);
(function(a,i){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
var d=".reToolValue";
var f='<span class="reIcon reIconSelected"></span>';
var g=".reIcon.reIconSelected";
var e="li";
var c="";
var h=/'/g;
b.MobileEditorUpdateableDropDownView=function(j){b.MobileEditorUpdateableDropDownView.initializeBase(this,[j]);
};
b.MobileEditorUpdateableDropDownView.prototype={getItemValueElement:function(){return a(this.owner.get_element()).find(d).get(0);
},updateElementsOnValueChange:function(j){var k=this;
a(k.getItemValueElement()).text(j.replace(h,c));
k._markSelectedItem();
},_markSelectedItem:function(){var m=this;
var j=m.owner;
var k=j.get_popupElement();
var l=null;
a(k).find(g).remove();
l=a(k).find(e).get(j._selectedIndex);
a(l).prepend(f);
}};
b.MobileEditorUpdateableDropDownView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorUpdateableDropDownView",b.MobileEditorDropDownView);
})($telerik.$);
(function(a,f){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
var e=/'/g;
var c="";
var d="font-family";
b.MobileFontNameView=function(g){b.MobileFontNameView.initializeBase(this,[g]);
};
b.MobileFontNameView.prototype={updateElementsOnValueChange:function(g){var h=this;
a(h.getItemValueElement()).css(d,g).text(g.replace(e,c));
h._markSelectedItem();
}};
b.MobileFontNameView.registerClass("Telerik.Web.UI.Editor.UI.MobileFontNameView",b.MobileEditorUpdateableDropDownView);
})($telerik.$);
(function(a,c){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
b.MobileEditorSplitButtonView=function(d){b.MobileEditorSplitButtonView.initializeBase(this,[d]);
};
b.MobileEditorSplitButtonView.prototype={getSplitArrow:function(){return a(this.owner.getAnchorElement()).find(".reSplitArrow").get(0);
}};
b.MobileEditorSplitButtonView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorSplitButtonView",b.MobileEditorUpdateableDropDownView);
})($telerik.$);
(function(a,f){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var c=Telerik.Web.UI;
var b=c.Editor;
var d=b.UI;
var e=c.EditorToolType;
d.MobileEditorToolStripView=function(g){d.MobileEditorToolStripView.initializeBase(this,[g]);
};
d.MobileEditorToolStripView.prototype={getSplitArrow:function(){},renderChildren:function(){var i=this;
var h=i.owner;
var l=h._itemRootElement;
var k=h.get_tools();
var g=h.get_items();
var j=new b.ToolFactory();
Array.forEach(k,function(m){m._rendermode="Mobile";
m.type=e.Button;
g.push(j.createTool(m,i._appendTool(l,m)));
});
},_appendTool:function(h,g){var i=h.ownerDocument;
var l=i.createElement("li");
var j=i.createElement("span");
j.className="reIcon reIcon"+g.name;
var k=i.createElement("span");
k.className="reToolText";
k.innerHTML=g.text;
h.appendChild(l);
l.appendChild(j);
l.appendChild(k);
return l;
}};
d.MobileEditorToolStripView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorToolStripView",d.MobileEditorSplitButtonView);
})($telerik.$);
(function(a,r){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI,o="li",i="reFirstItem",n="reLastItem",p="reSelectedColor",q="."+p,l=".reIcon:first",g=".reCurrentColor",f=".reCurrentColorHex",e=".reClearButton",c=".reAddCustomColor",h=".reCurrentColorWrapper",d=".reClearButton",m='<li style="width: # width #; background-color: # bgcolor #;"></li>',j='<span title="# text #" role="button" class="reButton reAddCustomColor"># text #</span>',k='<div class="reColorPickerHeader">	<span role="button" title="Clear" class="reButton reClearButton" style="display: none;">		<span class="reIcon reIconClearButton"></span>	</span>	<span class="reCurrentColorWrapper">		<span style="background-color: # currentValue #;" class="reCurrentColor"></span>		<span class="reCurrentColorHex"># currentValueText #</span>	</span></div>';
b.MobileColorPickerView=function(s){b.MobileColorPickerView.initializeBase(this,[s]);
this._renderedItems=0;
};
b.MobileColorPickerView.prototype={renderChildren:function(){var x=this,v=x.owner;
for(var s=0;
s<v._items.length;
s++){var w=false;
var t=v._items[s];
w=v.get_itemsperrow()==1||(s>1&&0==(s%v.get_itemsperrow()));
if(w){v.renderNewRow();
}var u=v.renderItemContainer(t);
v.markItemContainer(u,s);
v.renderChild(u,t,s);
if(!t){a(u).hide();
x._showClearColorButton();
x.owner._clearColorItemIndex=s;
}}v.renderNewRow();
},renderItemContainer:function(u,t){var v=parseFloat(100/this.owner.get_itemsperrow(),10)+"%",s=a(m.replace(/# width #/g,v).replace(/# bgcolor #/g,t));
a(u).append(s);
return s.get(0);
},renderChild:function(s,t,u){var y=this,x=y.owner.get_itemsperrow(),v=y._renderedItems%x==0,w=y._renderedItems%x==x-1||u==y.owner._items.length-1;
if(v){a(s).addClass(i);
}if(w){a(s).addClass(n);
if(!v){a(s.previousSibling).removeClass(n);
}}if(t){y._renderedItems++;
}},_showClearColorButton:function(){a(e,this.get_popupElement()).show();
},renderHeader:function(){var w=this,t=w.owner,v=t.get_value(),u=t.isEmptyValue(v)?t.get_currentColorText():v,s=k.replace(/# currentValue #/ig,v).replace(/# currentValueText #/ig,u);
a(s).prependTo(w.get_popupElement());
},renderFooter:function(){var s=this.owner.get_addCustomColorText(),t=j.replace(/# text #/g,s);
a(t).appendTo(this.get_popupElement());
},updateElementsOnValueChange:function(s){var t=this;
if(t.owner.isEmptyValue(s)){s="";
}t._markSelectedItem();
t._updateHeader(s);
t._updateIcon(s);
},get_popupElement:function(){return this.owner.get_popupElement();
},_markSelectedItem:function(){var s=this.get_popupElement();
a(q,s).removeClass(p);
a(o+":eq("+this.owner._selectedIndex+")",s).addClass(p);
},_updateHeader:function(t){var s=this.get_popupElement();
a(g,s).css("background-color",t);
a(f,s).html(t||this.owner.get_currentColorText());
},_updateIcon:function(t){var s=t?"3px solid "+t:"0px";
a(l,this.owner.get_element()).css({"border-bottom":s});
},decorate:function(){},get_addCustomColorElement:function(){var s=this;
if(!s._addCustomColorElement){s._addCustomColorElement=a(c,s.get_popupElement()).get(0);
}return s._addCustomColorElement;
},get_currentColorWrapperElement:function(){var s=this;
if(!s._currentColorWrapperElement){s._currentColorWrapperElement=a(h,s.get_popupElement()).get(0);
}return s._currentColorWrapperElement;
},get_clearColorElement:function(){var s=this;
if(!s._clearColorElement){s._clearColorElement=a(d,s.get_popupElement()).get(0);
}return s._clearColorElement;
}};
b.MobileColorPickerView.registerClass("Telerik.Web.UI.Editor.UI.MobileColorPickerView",b.MobileEditorUpdateableDropDownView);
})($telerik.$);
(function(a,m){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI;
var c=b.Editor.UI;
var g=Function.createDelegate;
var d=Sys.UI.DomElement.addCssClass;
var l=Sys.UI.DomElement.removeCssClass;
var k=$telerik.onEvent;
var i=b.EventType;
var h=i.Down;
var n=i.Up;
var j="reSpinBoxButtonHover";
c.MobileEditorSpinBoxView=function(o){c.MobileEditorSpinBoxView.initializeBase(this,[o]);
};
c.MobileEditorSpinBoxView.prototype={initialize:function(){Telerik.Web.UI.Editor.UI.MobileEditorSpinBoxView.callBaseMethod(this,"initialize");
this._createUI();
},getSpinBoxArrowFormEvent:function(o){var p=o.target||window.event.target;
if(a(p).hasClass("reSpinBoxDecrease")||a(p).hasClass("reSpinBoxIncrease")){return p;
}return null;
},_createUI:function(){var q=this.owner,o=q.get_element();
var s=f("div","reSpinBox t-hbox");
var p=f("input","radfd_skipme t-flex");
p.type="number";
p.onkeypress=g(q,q._onKeyPressHandler);
p.onchange=g(q,q._onChangeHandler);
p.onclick=function(t){p.focus();
};
q._inputElement=p;
s.appendChild(p);
var r=f("div","reSpinBoxButtons");
s.appendChild(r);
q._decreaseButton=e("reSpinBoxDecrease",Function.createDelegate(q,q._onPlusMinusClickHandler));
r.appendChild(q._decreaseButton);
q._increaseButton=e("reSpinBoxIncrease",Function.createDelegate(q,q._onPlusMinusClickHandler));
r.appendChild(q._increaseButton);
o.appendChild(s);
}};
c.MobileEditorSpinBoxView.registerClass("Telerik.Web.UI.Editor.UI.MobileEditorSpinBoxView",c.MobileEditorButtonView);
function f(p,o){var q=document.createElement(p);
a(q).addClass(o);
return q;
}function e(q,p){var o=f("span",q);
k(o,h,function(r){d(r.target,j);
});
k(o,n,function(r){l(r.target,j);
p(r);
});
return o;
}})($telerik.$);
(function(a,f){Type.registerNamespace("Telerik.Web.UI.Editor.UI");
var b=Telerik.Web.UI.Editor.UI;
var c=["ApplyClass","reMobileIOS","reIOS","reAndroid","reWindowsPhone","reCommentTitle","reCommentEdit","reCommentView","reCommentTextAreaWatermark","reEmptyMessage"];
var d="";
var e=/'/g;
b.MobileApplyClassDropDownView=function(g){b.MobileApplyClassDropDownView.initializeBase(this,[g]);
};
b.MobileApplyClassDropDownView.prototype={renderChild:function(m,h){var i=this.owner;
var j=h[1];
var k;
if(j){if(h[0]){k=i._getClassTag(j);
k=k?k.charAt(0).toUpperCase()+k.substring(1):"All";
}else{k="Clear";
}var g=i._getClassCss(j);
var l=h[2]?h[2]:i._getDisplayName(j);
this._appendIcon(m,k);
m.appendChild(this._getPreviewContainer(g,k,l));
m.setAttribute("title",j.selectorText);
}},_appendIcon:function(h,g){a('<span class="reIcon reIcon'+g+'" unselectable="on"></span>').appendTo(h);
},updateElementsOnValueChange:function(h){var i=this,g=this._getTextFromValue(h);
a(i.getItemValueElement()).text(g);
i._markSelectedItem();
},_getTextFromValue:function(l){var k=(l+"").replace(e,d);
if(k!=""){var g=k.split(" ");
for(var h=0,j=g.length;
h<j;
h++){if(a.inArray(g[h],c)!==-1){k="";
break;
}}}return k;
},_getPreviewContainer:function(h,l,i){var g="reRulePreview";
var k=(l.toLowerCase()=="a")?'<a class="reToolText '+g+'" href="#" unselectable="on" title="'+i+'">':'<span class="reToolText '+g+'">';
var j=a(k).html(i).css("cssText",h).css({visibility:"visible",marginLeft:"0px",overflowX:"hidden",clear:"none",position:"",cssFloat:"",styleFloat:"",width:"",cursor:"default"});
return j.get(0);
}};
b.MobileApplyClassDropDownView.registerClass("Telerik.Web.UI.Editor.UI.MobileApplyClassDropDownView",b.MobileEditorUpdateableDropDownView);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){var c=Telerik.Web.UI.Editor,d="Telerik.Web.UI.Editor.IView";
c.IView=function(){};
c.IView.prototype={initialize:function(){},dispose:function(){},toolBarContainer:function(){},contentAreaContainer:function(){},modulesContainer:function(){},modeButtonsContainer:function(){},resizerHandle:function(){},zone:function(f){},changeMode:function(){},getModeFromEvent:function(f){},headerToolbarContainer:function(){},headerContainer:function(){}};
c.IView.registerInterface(d);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d){var c=Telerik.Web.UI.Editor,e="Telerik.Web.UI.Editor.ViewBase";
c.ViewBase=function(f){this.editor=f;
};
c.ViewBase.prototype={initialize:function(){},dispose:function(){delete this.editor;
},toolBarContainer:function(){return this.zone("Top");
},contentAreaContainer:function(){return $get(this.editor.get_id()+"Center");
},modulesContainer:function(){return $get(this.editor.get_id()+"Module");
},modesRowContainer:function(){return a(".reBottomProperties",this.editor.get_element()).get(0);
},modeButtonsContainer:function(){return $get(this.editor.get_id()+"_ModesWrapper");
},resizerHandle:function(){return $get(this.editor.get_id()+"BottomResizer");
},zone:function(f){return $get(this.editor.get_id()+f);
},changeMode:function(){},getModeFromEvent:function(f){},headerToolbarContainer:function(){},headerContainer:function(){}};
c.ViewBase.registerClass(e,null,c.IView);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,d){var c=Telerik.Web.UI.Editor,e="Telerik.Web.UI.Editor.ClassicView";
c.ClassicView=function(f){c.ClassicView.initializeBase(this,[f]);
};
c.ClassicView.prototype={toolBarContainer:function(){return this.zone("Top").firstChild;
},changeMode:function(n){var j=Sys.UI.DomElement;
var k=b.EditModes;
var l=this.editor.get_enableAriaSupport();
var h="reMode_";
switch(n){case k.Html:h+="html";
break;
case k.Design:h+="design";
break;
case k.Preview:h+="preview";
break;
}var o=this.modeButtonsContainer();
var g=o?o.getElementsByTagName("A"):[];
for(var m=0;
m<g.length;
m++){var f=g[m];
j.removeCssClass(f,"reMode_selected");
if(l&&typeof(j.removeAttribute)!="undefined"){j.removeAttribute("aria-pressed");
}if(j.containsCssClass(f,h)){j.addCssClass(f,"reMode_selected");
if(l&&typeof(j.setAttribute)!="undefined"){j.setAttribute("aria-pressed","true");
}}}},getModeFromEvent:function(h){var i=null,k=b.Editor.Utils.getElementParentByTag(h.target,"LI");
if(k){var j=b.EditModes;
var g=Sys.UI.DomElement;
var f=k.getElementsByTagName("A")[0];
if(g.containsCssClass(f,"reMode_html")){i=j.Html;
}else{if(g.containsCssClass(f,"reMode_design")){i=j.Design;
}else{i=j.Preview;
}}}return i;
}};
c.ClassicView.registerClass(e,c.ViewBase,c.IView);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,e){var c=Telerik.Web.UI.Editor;
var f="Telerik.Web.UI.Editor.LightweightView";
var d="_ModesWrapper";
c.LightweightView=function(g){c.LightweightView.initializeBase(this,[g]);
};
c.LightweightView.prototype={toolBarContainer:function(){return a(this.zone("Top")).find(".reToolBarWrapper").get(0);
},modesRowContainer:function(){var g=$get(this.editor.get_id()+d);
if(g){return g.parentNode;
}},changeMode:function(l){var g=this.editor.get_enableAriaSupport();
var m=this.modeButtonsContainer();
if(!m){return false;
}var k=a(m).find("a");
if(k.length==0){return false;
}k.removeClass("reSelectedMode");
if(g){k.removeAttr("aria-pressed");
}for(var h=0;
h<k.length;
h++){var j=a(k[h]);
if(l==this.getModeFromElement(j)){j.addClass("reSelectedMode");
if(g){j.attr("aria-pressed","true");
}}}},getModeFromEvent:function(h){var g=h.target.tagName=="a"?h.target:b.Editor.Utils.getElementParentByTag(h.target,"A");
if(!g){return null;
}return this.getModeFromElement(g);
},getModeFromElement:function(i){var g=a(i).attr("href");
var j=g.split("#");
var h=this._toPascalCase(j[1]);
return b.EditModes[h];
},_toPascalCase:function(g){var h=g.trim().toLowerCase();
return h.substr(0,1).toUpperCase()+h.substr(1);
}};
c.LightweightView.registerClass(f,c.ViewBase,c.IView);
})($telerik.$,Telerik.Web.UI);
(function(a,d){Type.registerNamespace("Telerik.Web.UI.Editor");
var c=Telerik.Web.UI;
var b=c.Editor;
b.MobileView=function(e){b.MobileView.initializeBase(this,[e]);
};
b.MobileView.prototype={toolBarContainer:function(){return this._getElement(".reToolZone");
},headerToolbarContainer:function(){return this._getElement("ul.reToolBar.t-hbox");
},headerContainer:function(){return this._getElement("div.reHeader");
},_getElement:function(e){return a(this.editor.get_element()).find(e).get(0);
}};
b.MobileView.registerClass("Telerik.Web.UI.Editor.MobileView",b.ViewBase,b.IView);
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,f){var c=Telerik.Web.UI;
var b=c.Editor;
var d=c.RadEditor;
var e=c.RenderMode;
b.ViewFactory={getView:function(g){if(!d.isInstanceOfType(g)){throw new Error('Invalid argument! Argument "editor" is not a Telerik.Web.UI.RadEditor.');
}if(g._renderMode===e.Classic){return new b.ClassicView(g);
}if(g._renderMode===e.Lite){return new b.LightweightView(g);
}if(g._renderMode===e.Mobile){return new b.MobileView(g);
}return null;
}};
})($telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){b.WordListConverter=function(){};
b.WordListConverter.prototype={removeOriginalElements:function(c){for(var d=0;
d<c.length;
d++){c[d].parentNode.removeChild(c[d]);
}},setItemsAttributes:function(d){var c=$telerik.isIE&&d.all?d.all:d.getElementsByTagName("*");
for(var f=0;
f<c.length;
f++){var e=c[f];
if(e.nodeType==1){if(this.isListItem(e)){var g=this.getItemData(e);
if(g){e.setAttribute("data-listId",g);
}else{if(/^(?:_TELERIK_I_)*_TELERIK_CHROME_/gi.test(e.innerHTML)){var h=e.style.marginLeft?e.style.marginLeft:"0";
h=h.replace(/[a-z]+/gi,"");
g="lxlevel"+h+"lfox";
e.setAttribute("data-listId",g);
}}}}}},getGroupedListItems:function(h){var l=[];
var n=this;
var d=function(q,v,o){var u=v.substring(v.indexOf("lfo"),v.length);
var s=o;
for(var r=o+1;
r<q.length;
r++){var p=n.getItemData(q[r]);
if(p){var t=p.substring(p.indexOf("lfo"),p.length);
if(p==v||t==u){s=r;
}}}return s;
};
var m=function(o,q,i){var p=d(o,q,i);
l.push({elements:o,startIndex:i,endIndex:p,data:q});
i=p+1;
return i;
};
var f=function(q){var p=0;
while(p<q.length){var o=q[p];
if(!o||o.nodeType!=1){continue;
}var r=n.getItemData(o);
if(r&&r!=""){p=m(q,r,p);
continue;
}if(o.tagName=="DIV"){f(o.children);
p++;
continue;
}if(o.tagName=="TABLE"){var s=o.getElementsByTagName("TD");
for(var i=0;
i<s.length;
i++){var t=s[i];
f(t.children);
}p++;
continue;
}p++;
}};
f(h);
var g=[];
var c=[];
for(var j=0;
j<l.length;
j++){var e=l[j];
for(var k=e.startIndex;
k<=e.endIndex;
k++){c.push(e.elements[k]);
}g.push(c.slice(0,c.length));
c=[];
}return g;
},getItemData:function(e){if(e.getAttribute("data-listId")){return e.getAttribute("data-listId");
}var c=Telerik.Web.UI.Editor.Utils.getOuterHtml(e).replace(e.innerHTML,"");
var f=c.match(/mso-list:\s?(\w+)\s(\w+)\s(\w+)/i);
var d="";
if(f&&f[0]&&f[1]&&f[2]&&f[3]){d=f[1]+f[2]+f[3];
}return d;
},isListItem:function(d){if(!d||d.nodeType!=1){return false;
}if(d.tagName=="TABLE"||d.tagName=="TR"||d.tagName=="TD"||d.tagName=="TBODY"){return false;
}if(d.getAttribute("data-listId")){return true;
}var c=Telerik.Web.UI.Editor.Utils.getOuterHtml(d).replace(d.innerHTML,"");
var e=c.match(/mso-list:\s?\w+\s\w+\s\w+/i);
if(e){return true;
}if(/MsoListParagraph/i.test(c)||/_TELERIK_I_/gm.test(this.markListItems(d.innerHTML))){return true;
}return false;
},removeListsIds:function(c){a(c).find("UL,OL").removeAttr("class");
},markListItems:function(c){c=c.replace(/(<!--\[if !supportLists\]-->)/gi,"_TELERIK_CHROME__TELERIK_I_");
c=c.replace(/(<span[^>]+:\s*symbol[^>]+>)/gi,"$1_TELERIK_I_");
c=c.replace(/(<span[^>]+mso-list:[^>]+>)/gi,"$1_TELERIK_I_");
c=c.replace(/(<p[^>]+(?:MsoListParagraph)[^>]+>)/gi,"$1_TELERIK_I_");
return c;
},getUnorderedListType:function(c){var d=null;
if(/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(c)){d="disc";
}else{if(/^o/.test(c)){d="circle";
}else{d="square";
}}return d;
},getOrderedListType:function(d){var c=null;
if(isNaN(d)){c=(/^[a-z]/.test(d)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(d)?"roman":"alpha");
}return c;
},createList:function(f,e,d){f=f?f:"UL";
var c=document.createElement(f);
if(d&&d!=""){c.className=d;
}if(e&&e!=""){c.style.listStyleType=e;
}return c;
},insertList:function(d,c){var f=c.parentNode;
var e=c.nextSibling;
if(e){f.insertBefore(d,e);
}else{f.appendChild(d);
}},replaceNbspWithSpace:function(c){c=c.replace(/&nbsp;/gm,"\u00a0");
return c;
},getElementLevel:function(c){var e=Telerik.Web.UI.Editor.Utils.getOuterHtml(c).match(/level[0-9]+/im);
var d=0;
if(e){var f=e[0].substring(5,e[0].length);
d=parseFloat(f);
}return d;
},setDataLevelAttribute:function(d){var f=true,c=null,e=0,g;
for(g=0;
g<d.length;
g++){c=d[g];
if(!c||c.innerHTML.indexOf("_TELERIK_")==-1){continue;
}if(c.style.marginLeft==""){e=this.getElementLevel(c);
if(e!=0&&e!=1){f=false;
break;
}}}if(f){for(g=0;
g<d.length;
g++){var h=d[g].style.marginLeft==""?0:parseFloat(d[g].style.marginLeft);
d[g].setAttribute("data-level",h);
}return;
}for(g=0;
g<d.length;
g++){c=d[g];
if(!c||c.innerHTML.indexOf("_TELERIK_")==-1){continue;
}e=this.getElementLevel(c);
c.setAttribute("data-level",e);
}},removeMarkers:function(d){var c=a(d).find("*");
a(c).removeAttr("data-level");
a(c).removeAttr("data-listId");
var e=d.innerHTML;
e=e.replace(/_TELERIK_I_/gm,"");
if($telerik.isIE7||$telerik.isIE8){e=e.replace(/\sdata-listid/gm,"");
}d.innerHTML=e;
},matchListItem:function(c,e){var d=this.getItemData(e.element);
if(!d){return;
}if(!/^_TELERIK_I_/.test(c)){return;
}c=c.replace(/_TELERIK_I_/gm,"");
var f;
var h=this.matchUnorderedList(c);
if(h){f=h[0];
if(f){f=f.replace(/^[\u00a0\n\r\s]+/,"");
f=f.replace(/[\u00a0\n\r\s]+$/,"");
}e.html=c.replace(h[0],"");
e.type="UL";
e.listStyle=this.getUnorderedListType(f);
}var g=this.matchOrderedList(c);
if(g){f=g[0];
if(f){f=f.replace(/^[\u00a0\n\r\s]+/,"");
f=f.replace(/[\u00a0\n\r\s]+$/,"");
f=f.replace(/[.()\s]+/gm,"");
}e.html=c.replace(g[0],"");
e.type="OL";
e.listStyle=this.getOrderedListType(f);
}},matchUnorderedList:function(c){return c.match(/^([\u2022\u00b7\u00a7\u00a0\u00fc\u00d8\u002dovn-]*\s*\u00a0*(&nbsp;)*)+/);
},matchOrderedList:function(c){var d=c.match(/^[0-9]+[\.\)][\s\u00a0]+/)||c.match(/^\([0-9]+\)[\s\u00a0]+/)||c.match(/^[a-z]+[\.\)][\s\u00a0]+/i)||c.match(/^\([a-z]+\)[\s\u00a0]+/i)||c.match(/^[0-9]+\.(?:[0-9]+\.)*[0-9]+[\s\u00a0]+/)||c.match(/^[\s\u00a0]+[ivxlcdm]+\.[\s\u00a0]+/i)||c.match(/^[a-z]+\s[0-9ivxlcdm.]+[\s\u00a0]{3,}/i);
return d;
},getListElementHtml:function(f,d){if(!f){return"";
}var c=document.createElement("DIV");
b.Utils.setElementInnerHtml(c,f);
var h=this.getInnerText(c);
h=h.trim();
var e=this.getInnerText(d);
var i=e.replace(/_TELERIK_I_/g,"");
i=i.replace(h,"");
i=i.replace(/\n\r?/gm," ");
i=i.replace(/&nbsp;/gm,"");
i=i.trim();
i=i.replace(/([.()])/gm,"\\$1");
var g=d.innerHTML;
g=g.replace(/\n\r?/gm," ");
var j=new RegExp("([^a-z0-9])("+i+")([^a-z0-9])","im");
g=g.replace(j,"$1$3");
g=g.replace(/_TELERIK_I_/g,"");
return g;
},getInnerText:function(c){var d=c.innerHTML;
d=d.replace(/<!--(.|\s)*?-->/gi,"");
d=d.replace(/<\/?[^>]+?\/?>/gm,"");
return d;
},clearListItemHtml:function(f){var d=$telerik.isIE&&f.all?f.all:f.getElementsByTagName("*");
for(var c=d.length-1;
c>=0;
c--){if(d[c].nodeType==1){var e=this.getInnerText(d[c]);
if(/^\s+$/.test(e)){b.Utils.removeNode(d[c]);
continue;
}e=e.replace(/&nbsp;/gm,"");
e=e.replace(/\s+/gm,"");
if(e==""){d[c].parentNode.removeChild(d[c]);
}}}b.Utils.removeEmptyElements(f);
},convert:function(k){k=b.Utils.clearInvalidHtml(k);
k=this.markListItems(k);
k=b.Utils.clearComments(k);
var c=document.createElement("div");
b.Utils.setElementInnerHtml(c,k);
this.setItemsAttributes(c);
k=c.innerHTML;
k=k.replace(/_TELERIK_CHROME_/gm,"");
c.innerHTML=k;
var g=this.getGroupedListItems(c.children);
for(var m=0;
m<g.length;
m++){var j=g[m];
this.setDataLevelAttribute(j);
var t=null,r=null,p=-1,q=null,y=[];
for(var f=0;
f<j.length;
f++){var d=j[f];
if(!d){return;
}var s="",z=null,x=null,h="";
var e=this.getInnerText(d);
var v={};
v.element=d;
s=this.replaceNbspWithSpace(e);
this.matchListItem(s,v);
if(v.type){z=v.type;
x=v.listStyle;
h=v.html;
}var u=this.getItemData(d);
if(h==""&&u==""){if(t){var n=d.innerHTML;
n=n.replace(/_TELERIK_I_/g,"");
var o=this.getInnerText(d);
o=o.replace(/_TELERIK_I_/g,"").trim();
var l="&nbsp;";
if(o&&o!=""){l=n;
}t.children[t.children.length-1].innerHTML=t.children[t.children.length-1].innerHTML+"<p>"+l+"</p>";
y.push(d);
}continue;
}if(z){q=parseFloat(d.getAttribute("data-level")||0);
if(r&&q>p){if(t&&t.className!=u){t=this.createList(z,x,u);
r.appendChild(t);
}}else{if(q<p){t=a(c).find("."+u+":last")[0];
if(!t){var w=c.getElementsByTagName(z);
if(w.length>0){t=w[w.length-1];
}}}else{if(!t){t=this.createList(z,x,u);
this.insertList(t,d);
}}}r=document.createElement("li");
r.innerHTML=this.getListElementHtml(h,d);
this.clearListItemHtml(r);
if(!t||(t.className!=u)){t=this.createList(z,x,u);
this.insertList(t,d);
}t.appendChild(r);
y.push(d);
p=q;
}else{p=0;
x=null;
t=null;
r=null;
}}this.removeOriginalElements(y);
this.removeListsIds(c);
}this.removeMarkers(c);
return c.innerHTML;
}};
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){b.FormElementsSelectionUtils={_removeHandler:function(c,d,e){if(!c||!d){return;
}if(c&&e){a(c).off(d,e);
}else{if(!e){a(c).off(d);
}}},_addHandler:function(c,d,e,f){if(f){a(c).on(d,f,e);
}else{a(c).on(d,e);
}},_switchEditorEditableMode:function(c,d){if(c.nodeName=="BODY"){c.ownerDocument.designMode=d?"on":"off";
}else{c.contentEditable=d;
}},addEventHandler:function(d,g,f,h,c){if(!d||!g){return;
}var i;
if(c){i=a.proxy(d,this,c);
}else{i=a.proxy(d,this);
}if(h&&!f){var e=this.editor.get_contentArea();
b.FormElementsSelectionUtils._removeHandler(e,g,h);
b.FormElementsSelectionUtils._addHandler(e,g,i,h);
}else{b.FormElementsSelectionUtils._removeHandler(f,g);
b.FormElementsSelectionUtils._addHandler(f,g,i);
}},getBrowserRange:function(c){var e=c.getSelection();
var d=e.getRange(true);
if(!d){c.setFocus();
d=e.getRange(true);
}return d;
}};
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b){var c=b.FormElementsSelectionUtils;
b.CheckboxesSelection=function(d){this.editor=d;
this.mouseup="mouseup.radEditorCheckboxesFix";
this.mousemove="mousemove.radEditorCheckboxesFix";
this.mousedown="mousedown.radEditorCheckboxesFix";
this.mouseout="mouseout.radEditorCheckboxesFix";
this.mouseover="mouseover.radEditorCheckboxesFix";
this.checkboxSelector="input[type=checkbox]";
this.excludeCondition=d.get_enableImmutableElements()?b.Utils.isImmutableNode:function(){return false;
};
};
b.CheckboxesSelection.prototype={enableSelecting:function(){var d,e;
if($telerik.isIE){d=this._mouseupHandlerIE,e=this.mouseup;
}else{if($telerik.isFirefox){d=this._mousemoveHandlerFirefox,e=this.mousemove;
}else{if($telerik.isSafari){this._enableSelecting(this._mouseoverHandlerSafari,this.mouseover,null,this.checkboxSelector);
this._enableSelecting(this._mouseoutHandlerSafari,this.mouseout,null,this.checkboxSelector);
this._enableSelecting(this._mousedownHandlerSafari,this.mousedown,null,this.checkboxSelector);
return;
}else{if($telerik.isOpera){d=this._mouseupHandlerIE,e=this.mousedown;
}}}}this._enableSelecting(d,e,null,this.checkboxSelector);
},_enableSelecting:function(e,g,f,h,d){c.addEventHandler.call(this,e,g,f,h,d);
},disableSelecting:function(){var d=this.editor.get_contentArea();
if($telerik.isIE){this._removeHandler(d,this.mouseup,this.checkboxSelector);
}else{if($telerik.isFirefox){this._removeHandler(d,this.mousedown,this.checkboxSelector);
this._removeHandler(d,this.mouseout,this.checkboxSelector);
this._removeHandler(d,this.mousemove,this.checkboxSelector);
}else{if($telerik.isSafari){this._removeHandler(d,this.mouseover,this.checkboxSelector);
this._removeHandler(d,this.mouseout,this.checkboxSelector);
this._removeHandler(d,this.mousedown,this.checkboxSelector);
}else{if($telerik.isOpera){this._removeHandler(d,this.mousedown,this.checkboxSelector);
}}}}},_mouseupHandlerIE:function(d){if(this.excludeCondition(d.target)){return;
}this._checkCheckbox(d.target);
},_mousemoveHandlerFirefox:function(f){if(this.excludeCondition(f.target)){return;
}var e=this.editor;
if(e.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}var d=e.get_contentArea();
f.target.style.cursor="default";
var g=c.getBrowserRange(e);
this._switchEditorEditableMode(d,false);
this._enableSelecting(this._mouseoutHandlerFirefox,this.mouseout,f.target,null,g);
this._enableSelecting(this._mousedownHandlerFirefox,this.mousedown,f.target);
},_mousedownHandlerFirefox:function(d){this._checkCheckbox(d.target);
this._switchEditorEditableMode(this.editor.get_contentArea(),true);
this.editor.selectElement(d.target);
},_mouseoutHandlerFirefox:function(e,d){var f=this.editor.getSelectedElement();
this._switchEditorEditableMode(this.editor.get_contentArea(),true);
if(f&&f.tagName=="INPUT"&&f.type=="checkbox"){this.editor.selectElement(f);
}else{this.editor.getSelection().selectRange(e);
}d.target.style.cursor="";
},_mouseoverHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="default";
},_mouseoutHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="";
},_mousedownHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}this._checkCheckbox(d.target);
this.editor.selectElement(d.target);
},_checkCheckbox:function(d){if($telerik.isSafari||$telerik.isOpera){this._checkCheckboxSafariOpera(d);
}else{this._checkCheckboxFirefoxIE(d);
}},_checkCheckboxFirefoxIE:function(d){if(d.getAttribute("checked")||d.checked){a(d).removeAttr("checked");
}else{d.checked=true;
a(d).attr("checked","checked");
}},_checkCheckboxSafariOpera:function(d){if(d.getAttribute("checked")||d.checked){a(d).removeAttr("checked");
d.checked=true;
}else{a(d).attr("checked","checked");
d.checked=false;
}},_switchEditorEditableMode:function(d,e){c._switchEditorEditableMode(d,e);
},_removeHandler:function(d,e,f){c._removeHandler(d,e,f);
}};
b.CheckboxesSelection.registerClass("Telerik.Web.UI.Editor.CheckboxesSelection",null);
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b){b.FormElementsSelection=function(c){this.editor=c;
this.checkboxesSelection=null;
this.radioButtonsSelection=null;
this.selectsSelection=null;
this.standardButtonsSelection=null;
};
b.FormElementsSelection.prototype={enableFormElementsSelecting:function(){this.enableRadioButtonsSelecting();
this.enableCheckboxesSelecting();
this.enableSelectsSelecting();
this.enableStandardButtonsSelecting();
},enableRadioButtonsSelecting:function(){this.radioButtonsSelection=new b.RadioButtonsSelection(this.editor);
this.radioButtonsSelection.enableSelecting();
},enableCheckboxesSelecting:function(){this.checkboxesSelection=new b.CheckboxesSelection(this.editor);
this.checkboxesSelection.enableSelecting();
},enableSelectsSelecting:function(){this.selectsSelection=new b.SelectsSelection(this.editor);
this.selectsSelection.enableSelecting();
},enableStandardButtonsSelecting:function(){var c=this;
c.standardButtonsSelection=new b.StandardButtonsSelection(c.editor);
c.standardButtonsSelection.enableSelecting();
},disableFormElementsSelecting:function(){this.disableRadioButtonsSelecting();
this.disableCheckboxesSelecting();
this.disableSelectsSelecting();
this.disableStandardButtonsSelecting();
},disableRadioButtonsSelecting:function(){if(this.radioButtonsSelection){this.radioButtonsSelection.disableSelecting();
}},disableCheckboxesSelecting:function(){if(this.checkboxesSelection){this.checkboxesSelection.disableSelecting();
}},disableSelectsSelecting:function(){if(this.selectsSelection){this.selectsSelection.disableSelecting();
}},disableStandardButtonsSelecting:function(){var c=this.standardButtonsSelection;
if(c){c.disableSelecting();
}}};
b.FormElementsSelection.registerClass("Telerik.Web.UI.Editor.FormElementsSelection",null);
})($telerik.$,Telerik.Web.UI.Editor);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){var c=b.FormElementsSelectionUtils;
b.RadioButtonsSelection=function(d){this.editor=d,this.mousedown="mousedown.radEditorRadioButtonsFix";
this.mouseover="mouseover.radEditorRadioButtonsFix";
this.mouseout="mouseout.radEditorRadioButtonsFix";
this.mousemove="mousemove.radEditorRadioButtonsFix";
this.radioButtonSelector="input[type=radio]";
this.excludeCondition=d.get_enableImmutableElements()?b.Utils.isImmutableNode:function(){return false;
};
};
b.RadioButtonsSelection.prototype={enableSelecting:function(){var d,e;
if($telerik.isIE||$telerik.isOpera){d=this._mousedownHandlerIE,e=this.mousedown;
}else{if($telerik.isSafari){this._enableSelecting(this._mouseoverHandlerSafari,this.mouseover,null,this.radioButtonSelector);
this._enableSelecting(this._mouseoutHandlerSafari,this.mouseout,null,this.radioButtonSelector);
this._enableSelecting(this._mousedownHandlerSafari,this.mousedown,null,this.radioButtonSelector);
return;
}else{if($telerik.isFirefox){d=this._mousemoveHandlerFirefox,e=this.mousemove;
}}}this._enableSelecting(d,e,null,this.radioButtonSelector);
},_enableSelecting:function(e,g,f,h,d){c.addEventHandler.call(this,e,g,f,h,d);
},disableSelecting:function(){var d=this.editor.get_contentArea();
if($telerik.isIE||$telerik.isOpera){this._removeHandler(d,this.mousedown,this.radioButtonSelector);
}else{if($telerik.isSafari){this._removeHandler(d,this.mouseover,this.radioButtonSelector);
this._removeHandler(d,this.mouseout,this.radioButtonSelector);
this._removeHandler(d,this.mousedown,this.radioButtonSelector);
}else{if($telerik.isFirefox){this._removeHandler(d,this.mousedown,this.radioButtonSelector);
this._removeHandler(d,this.mouseout,this.radioButtonSelector);
this._removeHandler(d,this.mousemove,this.radioButtonSelector);
}}}},_mousedownHandlerIE:function(d){if(this.excludeCondition(d.target)){return;
}this._checkRadioButton(d.target);
},_mouseoverHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="default";
},_mouseoutHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}d.target.style.cursor="";
},_mousedownHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}this.editor.selectElement(d.target);
this._checkRadioButton(d.target);
},_mousemoveHandlerFirefox:function(f){if(this.excludeCondition(f.target)){return;
}var e=this.editor;
if(e.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}var d=e.get_contentArea();
f.target.style.cursor="default";
this._switchEditorEditableMode(d,false);
this._enableSelecting(this._mousedownHandlerFirefox,this.mousedown,f.target);
var g=c.getBrowserRange(e);
this._enableSelecting(this._mouseoutHandlerFirefox,this.mouseout,f.target,null,g);
},_mousedownHandlerFirefox:function(d){this._checkRadioButton(d.target);
this._switchEditorEditableMode(this.editor.get_contentArea(),true);
this.editor.selectElement(d.target);
},_mouseoutHandlerFirefox:function(f,e){var d=this.editor;
var g=d.getSelectedElement();
this._switchEditorEditableMode(d.get_contentArea(),true);
if(g&&g.tagName=="INPUT"&&g.type=="radio"){d.selectElement(g);
}else{d.getSelection().selectRange(f);
}e.target.style.cursor="";
},_checkRadioButton:function(d){var g=d.getAttribute("name");
var f=d.parentNode.children;
for(var h=0;
h<f.length;
h++){var e=f[h];
if(e.nodeType==1&&e.nodeName=="INPUT"&&e.getAttribute("type")=="radio"&&e.getAttribute("name")==g&&e.getAttribute("checked")){e.checked=false;
e.removeAttribute("checked");
}}d.checked=true;
a(d).attr("checked","checked");
},_switchEditorEditableMode:function(d,e){c._switchEditorEditableMode(d,e);
},_removeHandler:function(d,e,f){c._removeHandler(d,e,f);
}};
b.RadioButtonsSelection.registerClass("Telerik.Web.UI.Editor.RadioButtonsSelection",null);
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(b,a){var c=b.FormElementsSelectionUtils;
b.SelectsSelection=function(d){this.editor=d;
this.mousemove="mousemove.radEditorSelectFix";
this.mousedown="mousedown.radEditorSelectFix";
this.mouseout="mouseout.radEditorSelectFix";
this.selectSelector="SELECT";
this.excludeCondition=d.get_enableImmutableElements()?b.Utils.isImmutableNode:function(){return false;
};
};
b.SelectsSelection.prototype={enableSelecting:function(){if($telerik.isFirefox){this._enableSelecting(this._mousemoveHandlerFirefox,this.mousemove,null,this.selectSelector);
}else{if($telerik.isSafari){this._enableSelecting(this._mousedownHandlerSafari,this.mousedown,null,this.selectSelector);
}}},_enableSelecting:function(e,g,f,h,d){c.addEventHandler.call(this,e,g,f,h,d);
},disableSelecting:function(){var d=this.editor.get_contentArea();
if($telerik.isFirefox){this._removeHandler(d,this.mousedown,this.selectSelector);
this._removeHandler(d,this.mouseout,this.selectSelector);
this._removeHandler(d,this.mousemove,this.selectSelector);
}else{if($telerik.isSafari){this._removeHandler(d,this.mousedown,this.selectSelector);
}}},_mousemoveHandlerFirefox:function(f){if(this.excludeCondition(f.target)){return;
}var e=this.editor;
if(e.get_mode()!=Telerik.Web.UI.EditModes.Design){return;
}var d=e.get_contentArea();
this._switchEditorEditableMode(d,false);
var g=e.getSelection().getRange();
this._enableSelecting(this._mousedownHandlerFirefox,this.mousedown,f.target);
this._enableSelecting(this._mouseoutHandlerFirefox,this.mouseout,f.target,null,g);
},_mousedownHandlerFirefox:function(d){if(d.which==2){return;
}this.editor.selectElement(d.target);
if(d.which==1){this._switchEditorEditableMode(this.editor.get_contentArea(),true);
}},_mouseoutHandlerFirefox:function(f,e){var d=this.editor;
var g=d.getSelectedElement();
this._switchEditorEditableMode(d.get_contentArea(),true);
if(g&&g.tagName=="SELECT"){d.selectElement(g);
}else{d.getSelection().selectRange(f);
}},_mousedownHandlerSafari:function(d){if(this.excludeCondition(d.target)){return;
}this.editor.selectElement(d.target);
},_switchEditorEditableMode:function(d,e){c._switchEditorEditableMode(d,e);
},_removeHandler:function(d,e,f){c._removeHandler(d,e,f);
}};
b.SelectsSelection.registerClass("Telerik.Web.UI.Editor.SelectsSelection",null);
})(Telerik.Web.UI.Editor,$telerik.$);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,d,g){var b=d.Editor;
var h=b.Utils;
var e=b.FormElementsSelectionUtils;
var c=d.EditModes;
var f="input[type=button],input[type=submit],button";
b.StandardButtonsSelection=function(i){this.editor=i;
};
b.StandardButtonsSelection.prototype={enableSelecting:function(){var i=this;
if(i._shouldEnableSelecting()){e.addEventHandler.call(i,i._mouseEventHandler,i._getEventType(),g,f,g);
i._selectingEnabled=true;
}},disableSelecting:function(){var i=this;
if(i._selectingEnabled){e._removeHandler(i.editor.get_contentArea(),i._getEventType(),f);
i._selectingEnabled=g;
}},_shouldEnableSelecting:function(){return $telerik.isFirefox||$telerik.isSafari||($telerik.isIE10Mode&&!$telerik.isIE10);
},_getEventType:function(){return($telerik.isFirefox||$telerik.isIE?"mousedown":"mouseup")+".radEditorButtonsFix";
},_getSelector:function(){return f;
},_mouseEventHandler:function(i){var k=this;
var j=i.target;
if(!k._shouldCancelSelecting(j)){k._selectTarget(j);
}},_shouldCancelSelecting:function(j){var i=this.editor;
if(i.get_mode()==c.Design){return i.get_enableImmutableElements()?h.isImmutableNode(j):false;
}return true;
},_selectTarget:function(l){var m=this;
var j=m.editor;
var i=j.getSelection().getRange(true);
var k=i?new b.DomRange(i):b.DomRange.createRange(j.get_document());
k[$telerik.isSafari&&h.isTag(l,"button")?"selectNodeContents":"selectNode"](l);
k.select();
}};
b.StandardButtonsSelection.registerClass("Telerik.Web.UI.Editor.StandardButtonsSelection",null);
})($telerik.$,Telerik.Web.UI);
Type.registerNamespace("Telerik.Web.UI.Editor");
(function(a,b,g){var d=b.Editor;
var e=d.FormElementsSelectionUtils;
var c=Telerik.Web.Browser;
var f=c.ie&&c.version<9;
d.TextFieldsTyping=function(h){this.editor=h;
this.mousedown="mousedown.radEditorTextFieldsFix";
this.blur="blur.radEditorTextFieldsFix";
this.mouseenter="mouseenter.radEditorTextFieldsFix";
this.mouseout="mouseout.radEditorTextFieldsFix";
this.selector="input[type=text],input[type=password],textarea";
this.excludeCondition=h.get_enableImmutableElements()?d.Utils.isImmutableNode:function(){return false;
};
};
d.TextFieldsTyping.prototype={enableTextFieldsTyping:function(){var h,i;
if(c.ie&&c.version<11){h=this._mousedownHandlerIE,i=this.mousedown;
}else{h=this._mouseenterHandlerFirefox,i=this.mouseenter;
}this.enableTyping(h,i,null,this.selector);
},enableTyping:function(i,k,j,l,h){e.addEventHandler.call(this,i,k,j,l,h);
},disableTextFieldsTyping:function(){var h=this.editor.get_contentArea();
if(c.ie&&c.version<11){this._removeHandler(h,this.mousedown,this.selector);
this._removeHandler(h,this.blur,this.selector);
}else{this._removeHandler(h,this.mouseenter,this.selector);
this._removeHandler(h,this.mouseout,this.selector);
this._removeHandler(h,this.mousedown,this.selector);
this._removeHandler(h,this.blur,this.selector);
}},_mousedownHandlerIE:function(j){var k=j.target;
var i=this.editor;
var h=i.get_document().activeElement;
if(this.excludeCondition(k)){return;
}if(!$telerik.$(h).is(k)){i.selectElement(k,true);
if(!f){this.enableTyping(this._blurHandlerIE,this.blur,null,this.selector);
}}},_blurHandlerIE:function(h){this._saveContent(h.target);
},_mouseenterHandlerFirefox:function(i){var k=i.target;
var h=this.editor;
if(h.get_mode()!=b.EditModes.Design||this.excludeCondition(k)){return;
}var j=h.getSelection().getRange(true);
this._switchEditorEditableMode(h.get_contentArea(),false);
this.enableTyping(this._mouseoutHandlerFirefox,this.mouseout,k,null,j);
this.enableTyping(this._mousedownHandlerFirefox,this.mousedown,k);
},_mousedownHandlerFirefox:function(j){var i=this.editor;
var l=j.target;
var k=a(l);
var h=i.get_document().activeElement;
if(!k.is(h)){if(a(h).is(this.selector)){this._removeHandler(h,this.blur);
this._blurHandlerFirefox({target:h});
this._switchEditorEditableMode(i.get_contentArea(),false);
}k.focus();
i.raiseEvent("selectionChange",Sys.EventArgs.Empty);
this.enableTyping(this._blurHandlerFirefox,this.blur,l);
}},_blurHandlerFirefox:function(i){this._saveContent(i.target);
var h=this.editor;
if(!h.get_editable()){this._switchEditorEditableMode(h.get_contentArea(),true);
}},_mouseoutHandlerFirefox:function(k,j){var i=this.editor;
var h=i.get_document().activeElement;
if(!a(h).is(this.selector)){this._switchEditorEditableMode(i.get_contentArea(),true);
if(k&&j){i.getSelection().selectRange(k);
}}},_removeHandler:function(h,i,j){e._removeHandler(h,i,j);
},_switchEditorEditableMode:function(h,i){e._switchEditorEditableMode(h,i);
},_saveContent:function(h){var i=h.value;
if(h.nodeName=="TEXTAREA"){h.defaultValue=i;
}else{if(h.nodeName=="INPUT"){$telerik.$(h).attr("value",i);
}}}};
d.TextFieldsTyping.registerClass("Telerik.Web.UI.Editor.TextFieldsTyping",null);
})($telerik.$,Telerik.Web.UI);
