(function(a,C){Type.registerNamespace("Telerik.Web.UI");
var b=Telerik.Web.UI;
var k=b.EventType;
var l=window;
var i=l.document;
var c=l.$telerik;
var v=l.Math;
var z=a.proxy;
var j="";
var y="px";
var A=".telerikRotator";
c.toRotator=function(D){return D;
};
c.findRotator=$find;
a.registerEnum(b,"RotatorScrollDirection",{Left:1,Right:2,Up:4,Down:8});
a.registerEnum(b,"RotatorAnimationType",{None:1,Fade:2,Pulse:3,CrossFade:4});
a.registerEnum(b,"RotatorType",{AutomaticAdvance:1,ButtonsOver:2,Buttons:3,SlideShow:4,SlideShowButtons:5,FromCode:6,Carousel:7,CarouselButtons:8,CoverFlow:9,CoverFlowButtons:10});
b.RadRotator=function(D){var E=this;
b.RadRotator.initializeBase(E,[D]);
E._enabled=true;
E._postBackReference=null;
E._webServiceSettings=new b.WebServiceSettings({});
E._webServiceLoader=null;
E._containerElement=null;
E._clickDelegate=null;
E._mouseOutDelegate=null;
E._mouseOverDelegate=null;
E._itemShownDelegate=null;
E._rotatorDisposed=false;
E._scrollDuration=500;
E._canPause=true;
E._domScrollSpeed=0.6;
E._itemWidth=null;
E._itemHeight=null;
E._isLODEnabled=null;
E._lastLODRequestPassed=false;
E._firstLODRequestPassed=false;
E._noActiveLODRequest=true;
E._relativeWrapper=null;
E._clipElement=null;
E._itemsElement=null;
E._loadingSign=null;
E._rightButton=null;
E._leftButton=null;
E._downButton=null;
E._upButton=null;
E._firstItem=null;
E._imageItems=[];
E._initialAngle=(v.PI/2);
E._carouselAnimationAngle=E._initialAngle;
E._coverFlowAnimationIndex=-1;
E._pendingImage=null;
E._imageOnLoadDelegate=null;
E._automaticAdvanceStarted=false;
E._nextItemIndex=-1;
E._persistedItemIndex=-1;
E._isMouseOverClipElement=false;
E._clientDataSourceID=j;
E._clientTemplate=j;
E._clientDataSource=null;
E._dataSource=null;
E._ieTouchActionManager=new b.Helpers.IETouchActionManager();
E._dragHandler=z(E._onDrag,E);
E._dragEndHandler=z(E._onDragEnd,E);
};
b.RadRotator.prototype={initialize:function(){b.RadRotator.callBaseMethod(this,"initialize");
this._rotatorDisposed=false;
this._isLODEnabled=!this.isCarousel()&&!this.isCoverFlow()&&this.get_webServiceSettings().get_method();
this._setChildElements();
this._createUI();
var D=this.get_initialItemIndex();
if(this._isLODEnabled){this._enableDisableAllButtonsUnconditionally(false);
this._loadChildrenFromWebService(D);
}else{this._createChildItems();
this._initialItemSet=false;
this._loadInitialFrame();
this._enableDisableButtons();
}this._attachEventHandlers(true);
this.add_parentShown(this.get_element());
if(c.isSafari){this._mouseWheelDelegate=Function.createDelegate(this,this._mouseWheelHandler);
$addHandler(this._relativeWrapper,"mousewheel",this._mouseWheelDelegate);
}this.raiseEvent("load",Sys.EventArgs.Empty);
if(!this._isLODEnabled){this._startAutomaticAdvance();
}this._itemShownHandler();
if(this._persistedItemIndex!=-1){this.set_currentItemIndex(this._persistedItemIndex);
}if(this.get_enableDragScrolling()&&c.isTouchDevice&&Telerik.Web.Browser.scrollBarWidth==0){Sys.UI.DomElement.addCssClass(this.get_element(),"rrTouchEnabled");
}},dispose:function(){var D=this;
if(this._imageOnLoadDelegate&&this._pendingImage){c.removeExternalHandler(this._pendingImage,"load",this._imageOnLoadDelegate);
this._pendingImage=null;
this._imageOnLoadDelegate=null;
}this._firstItem=null;
this._previousCrossFadeItems=this._currentCrossFadeItems=null;
this._rotatorDisposed=true;
this._attachEventHandlers(false);
this._containerElement=null;
if(this._animation){if(this._animation.dispose){this._animation.dispose();
}this._animation=null;
}this._imageItems=null;
b.RadRotatorAnimation._removeScrollAnimation(this.get_id());
if(this._rightButton){$clearHandlers(this._rightButton);
}if(this._leftButton){$clearHandlers(this._leftButton);
}if(this._downButton){$clearHandlers(this._downButton);
}if(this._upButton){$clearHandlers(this._upButton);
}if(c.isSafari){if(this._mouseWheelDelegate&&this._relativeWrapper){$removeHandler(this._relativeWrapper,"mousewheel",this._mouseWheelDelegate);
}}if(this._itemsElement){$clearHandlers(this._itemsElement);
}D._ieTouchActionManager.dispose();
b.RadRotator.callBaseMethod(this,"dispose");
},saveClientState:function(){return this.get_persistCurrentItemOnPostBack()?'{"currentItemIndex":'+this.get_currentItemIndex()+"}":null;
},get_currentItemIndex:function(){var D=this.get_currentItem();
return D?D.get_index():-1;
},_createChildItems:function(){var F=this;
var D=c.getChildrenByTagName(F.get_containerElement(),"li");
for(var E=0;
E<D.length;
E++){var G=$create(b.RadRotatorItem,F.get_items()[E],null,null,D[E]);
G.get_index();
D[E]._item=G;
F.get_items()[E]=G;
}F._createClientDataBoundItems();
},_createClientDataBoundItems:function(){var D=this;
if(D._clientDataSourceID){D._dataBindToClientDataSource();
}else{D._dataBindToCustomDataSource();
}},_dataBindToClientDataSource:function(){var E=this,D=E.get_clientDataSource();
if(D){E._initializeClientDataSource(D);
}else{Sys.Application.add_load(function(){D=E.get_clientDataSource();
E._initializeClientDataSource(D);
});
}},_dataBindToCustomDataSource:function(){var E=this,D=E.get_dataSource();
if(D){E.dataBind();
}},_initializeClientDataSource:function(D){var E=this;
if(D&&(D instanceof b.RadClientDataSource)){E._clientDataSource=D;
E._bindToClientDataSourceChangeEvent();
E._clientDataSource.fetch();
}},_bindToClientDataSourceChangeEvent:function(){var E=this,D=E.get_clientDataSource();
if(D&&(D instanceof b.RadClientDataSource)){if(!E._clientDataSourceChangeDelegate){E._clientDataSourceChangeDelegate=Function.createDelegate(E,E._clientDataSourceChangeHandler);
}D.remove_change(E._clientDataSourceChangeDelegate);
D.add_change(E._clientDataSourceChangeDelegate);
}},_clientDataSourceChangeHandler:function(){var F=this,D=F.get_clientDataSource();
if(D){var E=D._kendoDataSource.view();
F.set_dataSource(E);
F.dataBind();
}},dataBind:function(){var F=this,D=F.get_containerElement(),E=F.get_dataSource();
if(!F.get_appendClientDataBoundItems()){F.clearItems();
F.start();
}if(E){F.repaint();
F._createDataBoundItems(E);
D.style.width="";
D.style.height="";
F.repaint();
}},set_dataSource:function(D){var E=this;
E._dataSource=D;
},get_dataSource:function(){var D=this;
return D._dataSource;
},_createDataBoundItems:function(D){var G=this,E=D.length;
for(var F=0;
F<E;
F++){G._createDataBoundItem(D[F]);
}G._raiseDataBound();
},_createDataBoundItem:function(E){var G=this,H=null,F=null,D=null;
H=G._initializeRotatorDataItem(E);
F=G._createRotatorItem(H);
G._raiseItemDataBound(F,E);
D=G.get_currentItemIndex();
G.set_currentItemIndex(D);
},_initializeRotatorDataItem:function(E){var F=this;
var G={CssClass:E.CssClass,Visible:E.Visible};
var D=b.TemplateRenderer.renderTemplate(E,F);
if(D){G.Html=D;
}return G;
},_raiseItemDataBound:function(G,D){var F=this;
F._itemDataBoundHandler=F.get_events().getHandler(o);
if(G&&F._itemDataBoundHandler){var E=new b.RotatorItemDataBoundEventArgs(G,D);
F.raiseEvent(o,E);
}},_raiseDataBound:function(){this.raiseEvent(h,Sys.EventArgs.Empty);
},get_clientDataSourceID:function(){return this._clientDataSourceID;
},set_clientDataSourceID:function(D){this._clientDataSourceID=D;
},get_clientDataSource:function(){var E=this,D=$find(E.get_clientDataSourceID());
if(D&&(D instanceof b.RadClientDataSource)){return D;
}return null;
},get_clientTemplate:function(){return this._clientTemplate;
},set_clientTemplate:function(D){this._clientTemplate=D;
},_mouseWheelHandler:function(D){this._customSafariScroll(D.rawEvent.wheelDeltaX,D.rawEvent.wheelDeltaY);
D.preventDefault();
},_customSafariScroll:function(G,H){var E=G!=0?"Left":H!=0?"Top":null;
if(!E){return;
}var F=G||H;
var D=this._domScrollSpeed*F;
this._customDomScrollBy(-D,E);
},_customDomScrollBy:function(G,D){var H="scroll"+D;
for(var F=this._relativeWrapper;
F&&F.tagName;
F=F.parentNode){var E=F[H];
F[H]+=G;
if(F[H]!=E){return;
}}},_getNextItemToShow:function(){var D=this._nextItemIndex;
var F=this.getItemHtmlElements();
var E=this.isCarousel()||(this.get_wrapFrames()&&!this.isCoverFlow());
var G=null;
if(D<0){D=this._getCurrentItemIndex();
if(this.isScrollingForward()){D++;
}else{D--;
}if(E){if(D<0){D=F.length-1;
}else{if(D>F.length-1){D=0;
}}}if(D>=0&&D<F.length){G=F[D];
}}else{if(E){D=D%F.length;
}if(D>=0&&D<F.length){G=this.get_items()[D].get_element();
}}return G;
},_startAutomaticAdvance:function(){if(this.isAutomaticAdvance()&&!isNaN(this.get_frameDuration())){this._automaticAdvanceTimeOut=window.setTimeout(Function.createDelegate(this,this._startAutoPlayItems),this.get_frameDuration());
}},get_firstItem:function(){var D=this._firstItem;
if(!D){var E=this.getItemHtmlElements();
D=this.isScrollingForward()?E[0]:E[E.length-1];
}return D;
},get_currentItem:function(){var E=this.getItemHtmlElements();
var D=this._getCurrentItemIndex();
return((0<=D&&D<E.length)?E[D].control:null);
},_getCurrentItemIndex:function(){var K=this.getItemHtmlElements();
var J=K.length;
var G=-1;
if(J<1){return -1;
}var H=this.isCarousel();
if(H||this.isCoverFlow()){var E=this._animation;
if(!E){G=this.get_initialItemIndex();
}else{if(H){var D=E.get_angle()-this._initialAngle;
G=v.round(v.abs(D)/((v.PI*2)/J));
if(D>0&&G>0){G=J-G;
}G%=J;
}else{G=E.get_index();
}}}else{var L=parseInt(K[0].parentNode.style.left,10),F="left";
if(isNaN(L)||L==0){L=parseInt(K[0].parentNode.style.top,10);
F="top";
}while(++G<J&&L<0){var I=c.getOuterSize(K[G]);
L=L+(F=="top"?I.height:I.width);
}}return G;
},set_currentItemIndex:function(K,D){var P=this.get_items();
if(!this.get_enabled()||K<0||K>=P.length){return;
}var Q=P[K];
if(!Q){return;
}var L=this.isCarousel();
var M=this.isCoverFlow();
if(D&&(L||M)){var E=this._animation;
if(E&&this.get_pauseOnMouseOver()){E._isPaused=false;
E._isPlaying=true;
E._getAnimationQuery().filter("[paused='true']").removeAttr("paused").removeAttr("elapsedTime");
E.stop();
}this._nextItemIndex=K;
this.scrollItem();
this._nextItemIndex=-1;
}else{if(L){this._changeCarouselAngleByIndex(K);
if(!this._animation){this.set_currentItemIndex(K,true);
}}else{if(M){this._changeCoverFlowIndexByIndex(K);
if(!this._animation){this.set_currentItemIndex(K,true);
}}else{var R=Q.get_element();
var V=this.get_wrapFrames();
if(V){var T=this.getItemHtmlElements();
for(var J=0,S=T.length;
J<S;
J++){if(R===T[J]){K=J;
break;
}}}var U=this._itemsElement;
var F=this._getCurrentItemIndex();
var G=parseInt(U.style.left,10)||0;
var H=parseInt(U.style.top,10)||0;
var I=(F-K);
var O=c.getOuterSize(R);
var N=this.isVertical();
if(this.get_slideShowAnimationSettings().type==b.RotatorAnimationType.CrossFade){this._resetCrossFadeAnimation();
}if(N){U.style.top=H+I*O.height+"px";
}else{U.style.left=G+I*O.width+"px";
}if(V){this._fillEmptyVisibleItems(K);
}this.raiseEvent("itemShown",new b.RotatorEventArgs(Q));
}}}if(!L){this._enableDisableButtons();
}this.updateClientState();
},_fillEmptyVisibleItems:function(D){var F=this.getItemHtmlElements().length,G=v.min(this._getVisibleItemsCount(),F),E=parseInt(G-F+D,10);
if(!isNaN(E)){while(E-->0){this._shiftItemInList();
}}},_changeCarouselAngleByIndex:function(J,H,Q,I){var G=this._imageItems;
var L=G.length;
if(L<1){return;
}if(J<0){J=0;
}else{if(J>(L-1)){J%=L;
}}var N=(v.PI*2)/L;
var K=H?a(G[0].element).attr("telerikCarouselAngle"):null;
var D=((typeof(K)!="undefined"&&K!=null)?K:this._initialAngle)-J*N;
if(D.toString().indexOf("e")>-1){D=(v.round(D*10000)/10000);
}var E=this._animation;
if(E){E.set_angle(D);
}else{this._carouselAnimationAngle=D;
}var F=b.RadRotatorAnimation.get_scrollAnimationProperties(this.get_id());
var P=/^([\d+-.]+)(.*)$/;
var O=!a.support.opacity&&(F&&F.opacity!=null);
var M=this._getScrollAnimationOptions(Q,I);
a.each(G,function(T,aa){var Y=this;
var X=v.sin(D);
var U=M.minScale;
var W=U+(X+1)*((1-U)/2);
var ab=M.xO+(((v.cos(D+v.PI)*M.xR)-Y.outerWidth/2)*W);
var ac=M.yO+((X*M.yR)*W);
var R=a.extend({},F);
if(F){a.each(R,function(ad,af){var ae=P.exec(af);
R[ad]=ae?(ae[1]*W+ae[2]):af;
});
}var S=this.element;
S.telerikCarouselAngle=D;
var Z="px";
var V=a.extend(R,{width:Y.width*W+Z,height:Y.height*W*(O&&this.reflection?2:1)+Z,position:"absolute",left:ab+Z,top:ac+Z,zIndex:parseInt(W*100,10)});
a(S).css("display","none").css(V).css("display","");
D+=N;
if(D.toString().indexOf("e")>-1){D=(v.round(D*10000)/10000);
}});
},_getTransformProperty:function(){var D="transform";
if(c.isIE9Mode){D="msTransform";
}else{if(c.isIE){D="filter";
}else{if(c.isFirefox){D="MozTransform";
}else{if(c.isSafari){D="WebkitTransform";
}else{if(c.isOpera){D="OTransform";
}}}}}return D;
},_changeCoverFlowIndexByIndex:function(I,R,H){var G=this._imageItems;
var K=G.length;
if(K<1){return;
}if(I<0){I=0;
}else{if(I>(K-1)){I%=K;
}}var D=this._animation;
if(D){D.set_index(I);
}else{this._coverFlowAnimationIndex=I;
}var F=b.RadRotatorAnimation.get_scrollAnimationProperties(this.get_id());
var Q=/^([\d+-.]+)(.*)$/;
var L=this._getScrollAnimationOptions(R,H);
var J=this.isVertical();
var M=G[I];
var N={top:L.yO-M.outerHeight/2,right:L.xO+M.outerWidth/2,bottom:L.yO+M.outerHeight/2,left:L.xO-M.outerWidth/2};
var E=L.matrix;
if(E.m11==1&&E.m22==1&&E.m12==0&&E.m21==0){E=null;
}var P=this._getTransformProperty();
var O=("filter"==P)&&E;
a.each(G,function(Y,al){var ae=this;
var S=(Y-I);
var X=(S==0);
var ad=X?1:L.minScale;
var W=(S>0);
var am=J?(L.xO+ae.outerWidth/2-ae.outerWidth*ad):(N[W?"right":"left"]);
var an=J?(N[W?"bottom":"top"]):(L.yO+ae.outerHeight/2-ae.outerHeight*ad);
var ab=S;
if(ab>0){if(J){an+=L.yR+(--ab*L.yItemSpacing);
}else{am+=L.xR+(--ab*L.xItemSpacing);
}}else{if(ab<0){if(J){an+=-(L.yR+ae.outerHeight*ad)+(++ab*L.yItemSpacing);
}else{am+=-(L.xR+ae.outerWidth*ad)+(++ab*L.xItemSpacing);
}}else{am+=L.selectedItemOffsetX;
an+=L.selectedItemOffsetY;
}}var T=a.extend({},F);
if(F&&!X){a.each(T,function(ao,aq){var ap=Q.exec(aq);
T[ao]=ap?(ap[1]*ad+ap[2]):aq;
});
}var ak="px";
var ac=a.extend(T,{width:ae.width*ad+ak,height:ae.height*ad*(O&&this.reflection?2:1)+ak,position:"absolute",zIndex:((K-v.abs(S))*100)});
var ag=0;
var ai=0;
if(E){var Z=a.extend({},E);
var aa=X?0:(S<0?-1:1);
Z.m12*=aa;
Z.m21*=aa;
if(X){Z.m11=Z.m22=1;
}var V=("filter"==P);
var af="matrix("+Z.m11+", "+Z.m21+", "+Z.m12+", "+Z.m22+", 0, 0)";
if(V){af="progid:DXImageTransform.Microsoft.Matrix(FilterType='bilinear',M11="+Z.m11+", M12="+Z.m12+", M21="+Z.m21+", M22="+Z.m22+",sizingMethod='auto expand')";
}ac[P]=af;
var ah=v.abs(Z.m11)+v.abs(Z.m12);
var aj=v.abs(Z.m21)+v.abs(Z.m22);
if(!J){ag=aa*((1-ah)/2);
}else{ai=aa*((1-aj)/2);
}if(V&&!X){ag+=(ah-1)/2;
ai+=(aj-1)/2;
if(E.m12&&this.reflection){ag*=2;
}}}ac.left=am-ag*ad*ae.outerWidth+ak;
ac.top=an-ai*ad*ae.outerHeight+ak;
var U=this.element;
U.telerikCoverFlowIndex=S;
a(U).css("display","none").css(ac).css("display","");
});
},_needsShift:function(G){if(null==G){G=this.get_animationDirection();
}var J=this._itemsElement;
var M=this._clipElement;
var K=parseInt(J.style.left,10);
var L=parseInt(J.style.top,10);
var I=c.getOuterSize(J);
var N=c.getContentSize(M);
var E=this.get_firstItem();
if(!E){return false;
}var F=c.getOuterSize(E);
var D=false;
var H=b.RotatorScrollDirection;
switch(G){case H.Left:D=K+I.width<N.width+F.width;
break;
case H.Up:D=L+I.height<N.height+F.height;
break;
case H.Right:D=K*-1<F.width;
break;
case H.Down:D=L*-1<F.height;
break;
}return D;
},_getMoveAnimation:function(){if(!this._animation){var E=this.isCarousel();
var D=(this.get_frameDuration()<5?"easeLinear":null);
var F;
if(E||this.isCoverFlow()){F=new b.Animations[E?"jCarousel":"jCoverFlow"](this,this._itemsElement,this._imageItems,this.get_scrollDuration(),this._getScrollAnimationOptions(),b.RadRotatorAnimation.get_scrollAnimationProperties(this.get_id()),D);
if(E){F.set_angle(this._carouselAnimationAngle);
}else{F.set_index(this._coverFlowAnimationIndex==-1?this.get_initialItemIndex():this._coverFlowAnimationIndex);
}}else{F=new b.Animations.jMove(this,this._itemsElement,this.get_scrollDuration(),true,false,D);
}F.initialize();
F.set_isCyclic(this.isAutomaticAdvance()||this._isRotatorTypeEnabled(b.RotatorType.ButtonsOver));
this._animation=F;
}return this._animation;
},_initializeAnimationHandlers:function(D){this._animation.add_started(D.started);
this._animation.add_ended(D.ended);
if(this._isPaused){this._animation.pause();
}},_getScrollAnimationOptions:function(E,D){var I=E;
var H=D;
if(!I||!H){var J=c.getContentSize(this._clipElement);
I=I?I:J.width;
H=H?H:J.height;
}var G=b.RadRotatorAnimation.get_scrollAnimationOptions(this.get_id());
G.minScale=(isNaN(G.minScale)||G.minScale<0||G.minScale>1)?0.5:G.minScale;
G.reflectionHeight=isNaN(G.reflectionHeight)?0:G.reflectionHeight;
G.reflectionOpacity=isNaN(G.reflectionOpacity)?1:G.reflectionOpacity;
G.xO=isNaN(G.xO)?parseInt(I/2,10):G.xO;
if(this.isCarousel()){G.xR=isNaN(G.xR)?parseInt(I/2.3,10):G.xR;
G.yR=isNaN(G.yR)?parseInt(H/6,10):G.yR;
G.yO=isNaN(G.yO)?parseInt(G.minScale*((H-(1-G.minScale)*G.yR)/2),10):G.yO;
G.matrix=null;
}else{if(this.isCoverFlow()){var F=this.isVertical();
G.xR=isNaN(G.xR)?(F?0:15):G.xR;
G.yR=isNaN(G.yR)?(F?15:0):G.yR;
G.yO=isNaN(G.yO)?parseInt(H/2,10):G.yO;
G.xItemSpacing=isNaN(G.xItemSpacing)?(F?0:100):G.xItemSpacing;
G.yItemSpacing=isNaN(G.yItemSpacing)?(F?100:0):G.yItemSpacing;
G.selectedItemOffsetX=isNaN(G.selectedItemOffsetX)?0:G.selectedItemOffsetX;
G.selectedItemOffsetY=isNaN(G.selectedItemOffsetY)?0:G.selectedItemOffsetY;
G.matrix.m11=isNaN(G.matrix.m11)?1:G.matrix.m11;
G.matrix.m12=isNaN(G.matrix.m12)?0:G.matrix.m12;
G.matrix.m21=isNaN(G.matrix.m21)?0:G.matrix.m21;
G.matrix.m22=isNaN(G.matrix.m22)?1:G.matrix.m22;
G.coverFlowDirection=isNaN(G.coverFlowDirection)?1:(G.coverFlowDirection<0?-1:1);
}}return G;
},scrollViewport:function(){if(!this.get_enabled()){return;
}var D=this._itemsElement;
if(!this._animation){var E=this._getMoveAnimation();
this._initItemAnimation=Function.createDelegate(this,function(){if(this.get_wrapFrames()&&!this._hasViewportWidth()){if(!this._isLODEnabled||this._noActiveLODRequest){var K=this.getItemHtmlElements().length;
for(var H=0;
H<K;
H++){this._shiftItemInList();
if(this._hasViewportWidth()){break;
}}}}var J=this._getViewPortPixelsToScroll();
var I=this.isScrollingForward();
if(this.get_vertical()){var G=parseInt(D.style.top,10)+(I?-J:J);
E.set_vertical(G);
}else{var F=parseInt(D.style.left,10)+(I?-J:J);
E.set_horizontal(F);
}if(this.isSlideShow()){this._initCrossFadeItemAnimation();
D.style.visibility="hidden";
}});
this._initializeAnimationHandlers({started:Function.createDelegate(this,function(H,F){this.stopViewportAnimation();
if(!this.get_wrapFrames()&&!this._canSlideMore()){if(!this._isLODEnabled||this._lastLODRequestPassed){F.set_cancel(true);
return false;
}}this._doLoadOnDemand(F);
var G=this.get_currentItem();
var I=new b.RotatorCancelEventArgs(G);
this.raiseEvent("itemShowing",I);
if(I.get_cancel&&I.get_cancel()){F.set_cancel(true);
return false;
}this._initItemAnimation();
}),ended:Function.createDelegate(this,function(){if(!this._isLODEnabled||this._lastLODRequestPassed){this._enableDisableButtons();
}if(this.isSlideShow()){var F=this.get_slideShowAnimationSettings().type||b.RotatorAnimationType.None;
if(b.RotatorAnimationType.CrossFade!=F){D.style.visibility="visible";
}this.runSlideShowAnimation();
}else{var G=this.get_currentItem();
this.raiseEvent("itemShown",new b.RotatorEventArgs(G));
}this.updateClientState();
})});
}this._animation.play();
},_getVisibleItemsCount:function(){var G=this._getVarSizeAttribute();
var F=this.getItemHtmlElements();
var D=this._getCurrentItemIndex();
if(D==-1||D>=F.length){return 0;
}var E=c.getOuterSize(F[D])[G];
if(!E&&this._isLODEnabled){E=this.get_vertical()?parseInt(this._itemHeight,10):parseInt(this._itemWidth,10);
}var H=parseInt(c.getContentSize(this._clipElement)[G]/E,10);
return H;
},_initCrossFadeItemAnimation:function(){var D=this.get_slideShowAnimationSettings().type||b.RotatorAnimationType.None;
if(b.RotatorAnimationType.CrossFade==D){var K=this._itemsElement;
var J=(-1)*parseInt(K.style.top,10)+"px";
var H=(-1)*parseInt(K.style.left,10)+"px";
var L=this.getItemHtmlElements();
var E=this._getCurrentItemIndex();
if(E>=L.length){return;
}var O=this._getVarSizeAttribute();
var I=c.getOuterSize(L[E])[O];
var P=this._getVisibleItemsCount();
var M=E+(this.isScrollingForward()?1:-1)*P;
if(M>=0&&M<L.length){var F=a(L[E]).css({left:H,top:J});
var N=a(L[M]).css({left:H,top:J});
var G=this.get_vertical();
while(--P){if(G){J=(parseInt(J,10)+I+"px");
}else{H=(parseInt(H,10)+I+"px");
}if(++E<L.length){F=F.add(a(L[E]).css({left:H,top:J}));
}if(++M<L.length){N=N.add(a(L[M]).css({left:H,top:J}));
}}F.css({position:"absolute",visibility:"visible",opacity:1});
N.css({position:"absolute",visibility:"visible",opacity:0});
}}},scrollItem:function(){if(!this.get_enabled()){return;
}if(this.isCarousel()||this.isCoverFlow()){return this._scrollImageItem();
}var D=this._itemsElement;
if(!this._animation){var E=this._animation=this._getMoveAnimation();
this._initItemAnimation=Function.createDelegate(this,function(){var I=this._getNextItemToShow();
if(!I){return;
}this._firstItem=I;
var H=c.getOuterSize(I);
if(this.isScrollingForward()){H.width*=-1;
H.height*=-1;
}if(this.get_vertical()){var G=parseInt(D.style.top,10)+H.height;
E.set_vertical(G);
}else{var F=parseInt(D.style.left,10)+H.width;
E.set_horizontal(F);
}});
this._initializeAnimationHandlers({started:Function.createDelegate(this,function(H,F){var J=this.get_wrapFrames();
if(!J&&!this._canSlideMore()){if(!this._isLODEnabled||this._lastLODRequestPassed){F.set_cancel(true);
return false;
}}this._doLoadOnDemand(F);
var G=this.get_currentItem();
var I=new b.RotatorCancelEventArgs(G);
this.raiseEvent("itemShowing",I);
if(I.get_cancel&&I.get_cancel()){F.set_cancel(true);
return false;
}if(J&&this._needsShift()){if(!this._isLODEnabled||this._noActiveLODRequest){this._shiftItemInList();
}}if(this._stopAnimationButtonOver){return;
}this._initItemAnimation();
}),ended:Function.createDelegate(this,function(){if(!this._isLODEnabled||this._lastLODRequestPassed){this._enableDisableButtons();
}var F=this.get_currentItem();
if(F!=null){this.raiseEvent("itemShown",new b.RotatorEventArgs(F));
}this.updateClientState();
if(this._stopAnimationButtonOver){return;
}if(this.isAutomaticAdvance()||this._isRotatorTypeEnabled(b.RotatorType.ButtonsOver)){if(this.get_frameDuration()>0){this._setAnimationTimeout(this.get_frameDuration());
}else{this._animation.play();
}}})});
}this._animation.stop();
this._animation.play();
},_scrollImageItem:function(){var D=this.isCarousel();
var E=this.isCoverFlow();
if(!this._animation){var F=this._imageItems.length;
if(F<1){return;
}this._animation=this._getMoveAnimation();
this._initializeAnimationHandlers({started:Function.createDelegate(this,function(I,G){var H=this._getNextItemToShow();
if(!H){G.set_cancel(true);
return false;
}var J=new b.RotatorCancelEventArgs(H.control);
this.raiseEvent("itemShowing",J);
if(J.get_cancel&&J.get_cancel()){G.set_cancel(true);
return false;
}this._initItemAnimation();
}),ended:Function.createDelegate(this,function(){var G=this._itemsElement;
if(!G||!G.parentNode){return;
}if(a(G).children("li:animated").length>1){return;
}if(E){this._enableDisableButtons();
}var H=this.get_currentItem();
if(H!=null){this.raiseEvent("itemShown",new b.RotatorEventArgs(H));
}if(this.isAutomaticAdvance()){if(this.get_frameDuration()>0){this._setAnimationTimeout(this.get_frameDuration());
}else{this._animation.play();
}}this.updateClientState();
})});
this._initItemAnimation=Function.createDelegate(this,function(){var I=this._getCurrentItemIndex(true);
var O=this._getNextItemToShow().control.get_index();
var G=I-O;
if(D){G=v.abs(G);
if(G>v.floor(F/2)){G=v.abs(F-G);
}var K=(I+v.floor(F/2))%F;
if(O<=K&&O<=I){O+=F;
}if(K<I){K+=F;
}if(K>=O&&O>=I){G*=(-1);
}var M=this.getItemHtmlElements();
var Q=(M.length>0)?((v.PI*2)/M.length):0;
G*=Q;
var H=this._animation.get_angle()+G;
var L=this._initialAngle;
var P=v.PI*2+Q;
if(v.round((H-(L+P))/Q)==0||v.round((H-(L-P))/Q)==0){H=L+G;
}if(H.toString().indexOf("e")>-1){H=(v.round(H*10000)/10000);
}var J=H-G;
a(M).each(function(S,R){if(J.toString().indexOf("e")>-1){J=(v.round(J*10000)/10000);
}R.telerikCarouselAngle=J;
J+=Q;
});
this._animation.set_angle(H);
}else{var N=this._animation.get_index()-this._getScrollAnimationOptions().coverFlowDirection*G;
this._animation.set_index(N);
}});
}this._animation.stop();
this._animation.play();
},_checkItemsSize:function(){var G=c.getOuterSize(this._itemsElement);
var D=this.get_vertical();
var E=(D)?G.height:G.width;
var F=(D)?this.get_height():this.get_width();
return parseInt(E,10)>parseInt(F,10);
},_shiftItemInList:function(){var N=(this._initialItemSet&&this.get_enableRandomOrder());
var J=this._itemsElement;
var I=this.getItemHtmlElements();
var G=this.get_vertical();
var F=this.isScrollingForward();
var D=parseInt(J.style.left,10);
var E=parseInt(J.style.top,10);
var K=0;
if(N){var O=this._getVisibleItemsCount();
var M=v.ceil(v.random()*(I.length-O))-1;
K=F?M:M+O;
}else{K=F?0:I.length-1;
}var L=I[K];
var H=c.getOuterSize(L);
L.parentNode.removeChild(L);
if(!F){J.insertBefore(L,J.firstChild);
}if(G){J.style.top=(E+(F?H.height:-H.height))+"px";
}else{J.style.left=(D+(F?H.width:-H.width))+"px";
}if(F){J.appendChild(L);
}return L;
},_shuffleFrames:function(){if(!this._canShuffle()){return;
}var D=this._getShuffledArray(a.makeArray(this.getItemHtmlElements()));
while(D.length){this._itemsElement.appendChild(D.pop());
}},_getShuffledArray:function(D){var E=[];
while(D.length){E.push(this._extractRandomFromArray(D));
}return E;
},_extractRandomFromArray:function(D){return D.splice(v.random()*D.length,1)[0];
},_canShuffle:function(){return !this._initialItemSet&&this.get_enableRandomOrder();
},_loadInitialFrame:function(){var F=this.get_initialItemIndex();
if(!this.isCarousel()&&!this.isCoverFlow()){this._shuffleFrames();
var D=this.get_defaultAnimationDirection();
var E=b.RotatorScrollDirection;
var G=this.isVertical();
var I=this._itemsElement;
var J=c.getOuterSize(I);
var K=c.getContentSize(this._clipElement);
var L=0;
var M=0;
F=this.get_initialItemIndex();
if(F>=0){if(G){M=(D==E.Up)?0:-J.height+K.height;
}else{L=(D==E.Left)?0:-J.width+K.width;
}}else{if(F==-1){if(G){M=(D==E.Down)?-J.height:K.height;
}else{L=(D==E.Right)?-J.width:K.width;
}}}I.style.left=L+"px";
I.style.top=M+"px";
if(F>0&&!this._initialItemSet){for(var H=0;
H<F;
H++){this._shiftItemInList();
}I.style.left=L+"px";
I.style.top=M+"px";
}}if(!this._initialItemSet&&F>=0){this.raiseEvent("itemShown",new b.RotatorEventArgs(this.get_items()[F]));
}this._initialItemSet=true;
},_setImageItems:function(){if(this._imageItems.length>0){return;
}var F={};
if(this._itemWidth){F.width=parseInt(this._itemWidth,10);
}if(this._itemHeight){F.height=parseInt(this._itemHeight,10);
}var E=(F.width&&F.height);
var D=[];
a(this.getItemHtmlElements()).each(function(H,I){var M=a.extend({},F);
if(!E){var L=a(I).css("float","left");
M=a.extend(c.getContentSize(I),M);
L.css("float","");
}var G=c.getBorderBox(I);
var K=c.getPaddingBox(I);
var J=c.getMarginBox(I);
G.horizontal+=K.horizontal+J.horizontal;
G.vertical+=K.vertical+J.vertical;
D[H]=a.extend(M,{element:I,outerWidth:(M.width+G.horizontal),outerHeight:(M.height+G.vertical)});
});
this._imageItems=D;
},stop:function(){this._clearAnimationTimeout();
this._canPause=false;
this.pause();
},pause:function(){if(this._isPaused){return;
}this._isPaused=true;
if(this._animation&&this._animation.get_isActive()){this._animation.pause();
}},start:function(){this._canPause=true;
this._isPaused=false;
this.resume();
},resume:function(){var D=this._animation;
if(!D||!D._isPlaying){if(this._timeoutPassed||!this._isPaused){if(D){D.play(this._timeoutPassed);
}}else{if(this._isPaused){if(D&&D.get_isActive()){D.play();
}}}}this._isPaused=false;
},isViewportScrollMode:function(){var D=b.RotatorType;
if(this._isRotatorTypeEnabled(D.AutomaticAdvance)||this._isRotatorTypeEnabled(D.ButtonsOver)||this._isRotatorTypeEnabled(D.FromCode)||this._isRotatorTypeEnabled(D.Carousel)||this._isRotatorTypeEnabled(D.CarouselButtons)||this._isRotatorTypeEnabled(D.CoverFlow)||this._isRotatorTypeEnabled(D.CoverFlowButtons)){return false;
}return true;
},_getButtonScrollDirection:function(D){var E=b.RotatorScrollDirection;
var F=E.Left;
switch(D){case this._rightButton:F=E.Left;
break;
case this._leftButton:F=E.Right;
break;
case this._downButton:F=E.Up;
break;
case this._upButton:F=E.Down;
break;
}return F;
},_buttonClicked:function(G){if(!this.get_enabled()){c.cancelRawEvent(G);
return false;
}this._raiseItemClickedFlags();
var D=this._animation;
if(D&&D.get_isPlaying()){D.stop();
}var F=G.target;
var H=F.parentNode;
if(H&&Sys.UI.DomElement.containsCssClass(H,"RadButton")){F=H;
}if(this._isButtonDisabled(F)||this.get_items().length==0){return;
}var E=new b.RotatorButtonEventArgs(F);
this.raiseEvent("buttonClick",E);
if(E.get_cancel()){return;
}var I=this._getButtonScrollDirection(F);
this.set_animationDirection(I);
if(this.isCarousel()||this.isCoverFlow()){this.scrollItem();
}else{this.scrollViewport();
}return c.cancelRawEvent(G);
},_buttonOver:function(F){if(!this.get_enabled()){c.cancelRawEvent(F);
return false;
}var E=F.target;
if(this._isButtonDisabled(E)||this.get_items().length==0){return;
}var D=new b.RotatorButtonEventArgs(E);
this.raiseEvent("buttonOver",D);
if(D.get_cancel()){return;
}var G=this._getButtonScrollDirection(E);
this.set_animationDirection(G);
this._stopAnimationButtonOver=false;
this.scrollItem();
return c.cancelRawEvent(F);
},_buttonOut:function(F){if(!this.get_enabled()){c.cancelRawEvent(F);
return false;
}var E=F.target;
if(this._isButtonDisabled(E)){return;
}var D=new b.RotatorButtonEventArgs(E);
this.raiseEvent("buttonOut",D);
if(D.get_cancel()){return;
}var G=this._getButtonScrollDirection(E);
this.set_animationDirection(G);
this._stopAnimationButtonOver=true;
return c.cancelRawEvent(F);
},_initializeButtonsRotatorType:function(){this._rightButton=c.getElementByClassName(this._rootElement,this._rotatorRightClass);
this._leftButton=c.getElementByClassName(this._rootElement,this._rotatorLeftClass);
this._downButton=c.getElementByClassName(this._rootElement,this._rotatorDownClass);
this._upButton=c.getElementByClassName(this._rootElement,this._rotatorUpClass);
var I=this.get_controlButtons(),H=this._clipElement,M=b.RotatorScrollDirection,L=[M.Right,M.Left,M.Down,M.Up],E=[this._leftButton,this._rightButton,this._upButton,this._downButton],K=[I.LeftButtonID?$get(I.LeftButtonID):null,I.RightButtonID?$get(I.RightButtonID):null,I.UpButtonID?$get(I.UpButtonID):null,I.DownButtonID?$get(I.DownButtonID):null],J=[this._rotatorLeftClass,this._rotatorRightClass,this._rotatorUpClass,this._rotatorDownClass],Q=["marginLeft","marginRight","marginTop","marginBottom"],R=["width","width","height","height"];
for(var O=0;
O<E.length;
O++){var D=E[O];
var G=(null!=K[O])?K[O]:D;
this._createButton(D,J[O]);
if(this._isScrollDirectionEnabled(L[O])&&null==K[O]){D.style.display="block";
var S=R[O];
var F=parseInt(c.getBounds(D)[S],10);
if(isNaN(F)){F=0;
}H.style[Q[O]]=F+"px";
}if(this._isRotatorTypeEnabled(b.RotatorType.Buttons)||this._isRotatorTypeEnabled(b.RotatorType.SlideShowButtons)||this._isRotatorTypeEnabled(b.RotatorType.CarouselButtons)||this._isRotatorTypeEnabled(b.RotatorType.CoverFlowButtons)){if(!Sys.UI.DomElement.containsCssClass(G,"RadButton")){$clearHandlers(G);
}$addHandlers(G,{click:this._buttonClicked},this);
}else{$clearHandlers(G);
$addHandlers(G,{mouseover:this._buttonOver,mouseout:this._buttonOut},this);
}}this._ensureButtonsPosition();
this._rightButton=K[1]||this._rightButton;
this._leftButton=K[0]||this._leftButton;
this._downButton=K[3]||this._downButton;
this._upButton=K[2]||this._upButton;
var N=false;
for(var P=0;
P<K.length;
P++){if(K[P]){N=true;
}break;
}return N;
},_ensureButtonsPosition:function(){this.set_buttonTopPosition(this._leftButton);
this.set_buttonTopPosition(this._rightButton);
this.set_buttonLeftPosition(this._upButton);
this.set_buttonLeftPosition(this._downButton);
},set_buttonTopPosition:function(D){if(!D||this._isHeightInPersent()){return;
}var E=((this._element.offsetHeight/2)-(D.offsetHeight/2)+10)+"px";
a(D).css({top:E});
},set_buttonLeftPosition:function(D){if(!D||this._isWidthInPersent()){return;
}var E=((this._element.offsetWidth/2)-(D.offsetWidth/2)+10)+"px";
a(D).css({left:E});
},runSlideShowAnimation:function(){var G=this._itemsElement;
var E=this.get_slideShowAnimationSettings().duration||500;
var D=this.get_slideShowAnimationSettings().type||b.RotatorAnimationType.None;
var F=Function.createDelegate(this,function(){if(!G||!G.parentNode){return;
}var I=(D==b.RotatorAnimationType.CrossFade);
if(I&&a(G).children("li:animated").length>1){return;
}this._canPause=true;
if(D!=b.RotatorAnimationType.None){if(I){a(this.getItemHtmlElements()).css({position:"",visibility:""});
a(G).css("visibility","visible");
}else{a(G).css("opacity","1");
}}var J=this.get_currentItem();
this.raiseEvent("itemShown",new b.RotatorEventArgs(J));
if(!this.get_pauseOnMouseOver()||(!this._isMouseOverClipElement)){if(this.isAutomaticAdvance()){var H=this.get_frameDuration();
if(H>=0){this._setAnimationTimeout(H);
}}}});
switch(D){case b.RotatorAnimationType.Fade:this._canPause=false;
a(G).css("opacity","0").fadeTo(E,1,F);
break;
case b.RotatorAnimationType.Pulse:this._canPause=false;
a(G).fadeTo(E,0).fadeTo(E,1,F);
break;
case b.RotatorAnimationType.CrossFade:this._canPause=false;
this._runCrossFadeSlideShowAnimation(E,F);
break;
default:F();
break;
}},_runCrossFadeSlideShowAnimation:function(F,G){var L=this._itemsElement;
var K=(-1)*parseInt(L.style.top,10)+"px";
var I=(-1)*parseInt(L.style.left,10)+"px";
var M=this.getItemHtmlElements();
var D=this._getCurrentItemIndex();
if(D>=M.length){return;
}var P=this._getVarSizeAttribute();
var J=c.getOuterSize(M[D])[P];
var Q=parseInt(c.getContentSize(this._clipElement)[P]/J,10);
var N=D-(this.isScrollingForward()?1:-1)*Q;
if(N>=0&&N<M.length){var O=a(M[N]).css({left:I,top:K});
var E=a(M[D]).css({left:I,top:K});
var H=this.get_vertical();
while(--Q){if(H){K=(parseInt(K,10)+J+"px");
}else{I=(parseInt(I,10)+J+"px");
}if(++N<M.length){O=O.add(a(M[N]).css({left:I,top:K}));
}if(++D<M.length){E=E.add(a(M[D]).css({left:I,top:K}));
}}O.fadeTo(F,0,G);
E.fadeTo(F,1,G);
this._previousCrossFadeItems=O;
this._currentCrossFadeItems=E;
}},_resetCrossFadeAnimation:function(){if(!this._previousCrossFadeItems||!this._currentCrossFadeItems){return;
}this._previousCrossFadeItems.stop(true,true);
this._currentCrossFadeItems.stop(true,true);
a(this.getItemHtmlElements()).css({position:"",visibility:"",opacity:1});
a(this._itemsElement).css({visibility:"visible",opacity:1});
},_getVarSizeAttribute:function(D){return(this.get_vertical()?"height":"width");
},_hasViewportWidth:function(E){if(null==E){E=this.get_animationDirection();
}var H=this._itemsElement;
var K=this._clipElement;
var I=parseInt(H.style.left,10);
var J=parseInt(H.style.top,10);
var G=c.getOuterSize(H);
var L=c.getContentSize(K);
var D=false;
var F=b.RotatorScrollDirection;
switch(E){case F.Left:D=G.width+I<L.width*2;
break;
case F.Up:D=G.height+J<L.height*2;
break;
case F.Right:D=(I*-1<L.width);
break;
case F.Down:D=(J*-1<L.height);
break;
}return !D;
},stopViewportAnimation:function(){var E=this._animation;
if(!E){return;
}if(E.get_isPlaying()){E.stop();
var D=this.get_vertical();
var F=D?E.get_vertical():E.get_horizontal();
if(null!=F){this._itemsElement.style[D?"top":"left"]=F+"px";
}}},_getViewPortPixelsToScroll:function(){var E=this.get_vertical();
var F=c.getContentSize(this._clipElement);
var D=E?F.height:F.width;
return D;
},showNext:function(D){this.set_animationDirection(D?D:b.RotatorScrollDirection.Left);
if(!this._checkItemsSize()&&!this.isCarousel()&&!this.isCoverFlow()&&(!this._isLODEnabled||this._lastLODRequestPassed)){return;
}if(this.isViewportScrollMode()){this.scrollViewport();
}else{this.scrollItem();
}},getItemHtmlElements:function(){var E=this._itemsElement;
if(!this._hasCleanedList){var G=E.childNodes;
for(var D=0;
D<G.length;
D++){var F=G[D];
if(F&&F.tagName!="LI"){E.removeChild(F);
D--;
}}this._hasCleanedList=true;
}return E.childNodes;
},_setAnimationTimeout:function(D){this._clearAnimationTimeout();
this._currentAnimationTimeout=window.setTimeout(Function.createDelegate(this,function(){if(!this._isPaused){this.resume();
}this._timeoutPassed=true;
}),D);
},_clearAnimationTimeout:function(){if(this._currentAnimationTimeout){window.clearTimeout(this._currentAnimationTimeout);
}this._currentAnimationTimeout=0;
this._timeoutPassed=false;
},isAutomaticAdvance:function(){var D=b.RotatorType;
if(this._isRotatorTypeEnabled(D.AutomaticAdvance)||this._isRotatorTypeEnabled(D.SlideShow)||this._isRotatorTypeEnabled(D.Carousel)||this._isRotatorTypeEnabled(D.CoverFlow)){return true;
}return false;
},isCarousel:function(){var D=b.RotatorType;
if(this._isRotatorTypeEnabled(D.Carousel)||this._isRotatorTypeEnabled(D.CarouselButtons)){return true;
}return false;
},isCoverFlow:function(){var D=b.RotatorType;
if(this._isRotatorTypeEnabled(D.CoverFlow)||this._isRotatorTypeEnabled(D.CoverFlowButtons)){return true;
}return false;
},isSlideShow:function(){var D=b.RotatorType;
if(this._isRotatorTypeEnabled(D.SlideShow)||this._isRotatorTypeEnabled(D.SlideShowButtons)){return true;
}return false;
},isScrollingForward:function(){return this.isScrollingLeft()||this.isScrollingUp();
},isScrollingLeft:function(){return this._isAnimationDirectionOn(b.RotatorScrollDirection.Left);
},isScrollingUp:function(){return this._isAnimationDirectionOn(b.RotatorScrollDirection.Up);
},_isAnimationDirectionOn:function(D){return D==this.get_animationDirection()?true:false;
},_enableDisableButtons:function(){var H=this.get_rotatorType();
if(H==b.RotatorType.AutomaticAdvance||H==b.RotatorType.Carousel||H==b.RotatorType.CoverFlow){return;
}var I=this.get_wrapFrames();
var F=this.isCarousel();
var G=this.isCoverFlow();
var D=(I&&!G)||F;
var E=b.RotatorScrollDirection;
this._enableButton(this._rightButton,D||this._canSlideMore(E.Left));
this._enableButton(this._leftButton,D||this._canSlideMore(E.Right));
this._enableButton(this._downButton,D||this._canSlideMore(E.Up));
this._enableButton(this._upButton,D||this._canSlideMore(E.Down));
},_enableDisableAllButtonsUnconditionally:function(D){this._enableButton(this._rightButton,D);
this._enableButton(this._leftButton,D);
this._enableButton(this._downButton,D);
this._enableButton(this._upButton,D);
},_enableButton:function(D,E){if(!D){return;
}if(E){Sys.UI.DomElement.removeCssClass(D,this._rotatorButtonDisabledClass);
D.removeAttribute("disabled");
}else{Sys.UI.DomElement.addCssClass(D,this._rotatorButtonDisabledClass);
D.setAttribute("disabled","disabled");
}},_canSlideMore:function(G){if(null==G){G=this.get_animationDirection();
}var D=false;
var H=b.RotatorScrollDirection;
if(this.isCoverFlow()){var F=this._getCurrentItemIndex();
var E=this._getScrollAnimationOptions().coverFlowDirection;
var J=(G==H.Right||G==H.Down);
var I=(G==H.Left||G==H.Up);
if((J&&E==1)||(I&&E==-1)){D=F>0;
}else{if((I&&E==1)||(J&&E==-1)){D=F<this.getItemHtmlElements().length-1;
}}}else{var L=this._itemsElement;
var O=this._clipElement;
var M=parseInt(L.style.left,10);
var N=parseInt(L.style.top,10);
var K=c.getBounds(L);
var P=c.getBounds(O);
if(G==H.Left){D=(K.width+M)>P.width;
}else{if(G==H.Up){D=(K.height+N)>P.height;
}else{if(G==H.Right){D=(M<0);
}else{if(G==H.Down){D=(N<0);
}}}}}return D;
},_getCalculatedAnimationDirection:function(){var D=this.get_animationDirection();
var F=b.RotatorScrollDirection;
var E=23;
switch(D){case F.Left:E=21;
break;
case F.Down:E=32;
break;
case F.Up:E=12;
break;
default:E=23;
}return E;
},startAutoPlay:function(){if(this._rotatorDisposed){return;
}this._loadInitialFrame();
this._startAutoPlayItems();
},_startAutoPlayItems:function(){if(this._rotatorDisposed){return;
}if((this.isCarousel()||this.isCoverFlow())&&!this._automaticAdvanceStarted){this._automaticAdvanceStarted=true;
return;
}this.showNext(this.get_defaultAnimationDirection());
},get_defaultAnimationDirection:function(){var E=b.RotatorScrollDirection;
var D=0;
if(this._isScrollDirectionEnabled(E.Left)){D=E.Left;
}else{if(this._isScrollDirectionEnabled(E.Up)){D=E.Up;
}else{if(this._isScrollDirectionEnabled(E.Right)){D=E.Right;
}else{if(this._isScrollDirectionEnabled(E.Down)){D=E.Down;
}}}}if(!D){D=E.Left;
}return D;
},get_containerElement:function(){return this._itemsElement;
},_setChildElements:function(){this._rotatorListClass="rrItemsList";
this._rotatorListItemClass="rrItem";
this._rotatorVerticalClass="rrVerticalList";
this._rotatorRelativeWrapperClass=("rrRelativeWrapper");
this._rotatorClipRegionClass="rrClipRegion";
this._rotatorRightClass="rrButtonRight";
this._rotatorLeftClass="rrButtonLeft";
this._rotatorDownClass="rrButtonDown";
this._rotatorUpClass="rrButtonUp";
this._rotatorButtonDisabledClass="rrButtonDisabled";
this._rootElement=this.get_element();
this._relativeWrapper=c.getElementByClassName(this._rootElement,this._rotatorRelativeWrapperClass);
this._clipElement=c.getElementByClassName(this._rootElement,this._rotatorClipRegionClass);
this._itemsElement=c.getElementByClassName(this._rootElement,this._rotatorListClass);
if(this.get_items().length==0&&this._itemsElement.children.length){this._itemsElement.removeChild(this._itemsElement.firstChild);
}this._fixEmptyList();
},_fixEmptyList:function(){var D=this._itemsElement.getElementsByTagName("li");
if(this.get_items().length==0&&D.length==1){this._itemsElement.removeChild(D[0]);
}},_createUI:function(){if(!this.isVisible()){return;
}var O=this.get_element(),N=this._relativeWrapper,D=this._clipElement,E={top:0,bottom:0,left:0,right:0,horizontal:0,vertical:0},J=this._hasButtons();
if(!O){return;
}if(!this._isCreated){var K=true;
if(J){K=this._initializeButtonsRotatorType();
}if(K){Sys.UI.DomElement.addCssClass(O,"rrNoBorder");
}E=c.getBorderBox(D);
this._fixRootElementSize();
N.style.height=O.offsetHeight+E.vertical+"px";
N.style.width=O.offsetWidth+E.horizontal+"px";
this._isCreated=true;
}else{if(J){E=c.getBorderBox(D);
}}if(this.get_vertical()){this.set_vertical(true);
}N.style.overflow="auto";
D.style.overflow="auto";
var M=this._itemsElement;
if(this._isLODEnabled){M.style.width="";
M.style.height="";
}var H=10000,F;
try{H=1000+M.offsetWidth*c.getChildrenByTagName(M,"li").length;
}catch(I){H=10000;
}D.style.width=v.max(H,10000)+"px";
D.style.height="10000px";
var G=c.getMarginBox(D);
H=(N.offsetWidth-G.horizontal-E.horizontal)+"px";
F=(N.offsetHeight-G.vertical-E.vertical)+"px";
var L=this.isCarousel()||this.isCoverFlow();
if(L){this._setImageItemsSize(parseInt(H,10),parseInt(F,10),true);
}M.style.width=L?H:(this.get_vertical()?N.style.width:M.offsetWidth+"px");
M.style.height=L?F:(M.offsetHeight+"px");
N.style.overflow="";
D.style.width=H;
D.style.height=F;
D.style.overflow="hidden";
D.style.position="relative";
M.style.position="relative";
O.style.visibility="visible";
this._ensureWrappersPersentWidht();
},_hasButtons:function(){var D=this;
return D._isRotatorTypeEnabled(b.RotatorType.Buttons)||D._isRotatorTypeEnabled(b.RotatorType.ButtonsOver)||D._isRotatorTypeEnabled(b.RotatorType.SlideShowButtons)||D._isRotatorTypeEnabled(b.RotatorType.CarouselButtons)||D._isRotatorTypeEnabled(b.RotatorType.CoverFlowButtons);
},_ensureWrappersPersentWidht:function(){var D=this;
if(D._isWidthInPersent()){D._relativeWrapper.style.width="auto";
D._clipElement.style.width="auto";
}},_isWidthInPersent:function(){return this._element.style.width.indexOf("%")>-1;
},_isHeightInPersent:function(){return this._element.style.height.indexOf("%")>-1;
},_setImageItemsSize:function(E,D,F){if(this._shouldWaitForImagesToLoad(E,D)){this._waitForImagesToLoad(Function.createDelegate(this,function(){this._finishSetImageItemSize(E,D,F);
}));
}else{this._finishSetImageItemSize(E,D,F);
}},_finishSetImageItemSize:function(E,D,G){if(G){this._shuffleFrames();
this._setImageItems();
if(this.isCarousel()){this._changeCarouselAngleByIndex(this.get_initialItemIndex(),true,E,D);
}else{this._changeCoverFlowIndexByIndex(this.get_initialItemIndex(),E,D);
}var F=this.getItemHtmlElements();
a(F).children("div").css({width:"100%",height:"100%"}).children("img").css({width:"100%",height:"100%"});
}this._createReflection(E,D);
if(G){this._startAutomaticAdvance();
}},_shouldWaitForImagesToLoad:function(E,D){var F=(this._imageItems.length>0);
var H=(this._itemWidth&&this._itemHeight);
var G=this._toCreateReflection(E,D);
return(!F&&!H)||G;
},_waitForImagesToLoad:function(D){var G=a(this._itemsElement).find("img");
this._imagesToLoad=G.length;
this._imagesLoadedDelegate=D;
this._imageOnLoadDelegate=Function.createDelegate(this,this._loadedImageHandler);
for(var E=0,H=G.length;
E<H;
E++){var F=G[E];
if(this._isImageLoading(F)){c.addExternalHandler(F,"load",this._imageOnLoadDelegate);
F.src=F.src;
}else{this._imagesToLoad--;
}}this._checkImagesLoaded();
},_isImageLoading:function(D){return(D.width===C)||(D.src!=""&&(D.complete!==C)&&D.complete===false);
},_loadedImageHandler:function(D){c.removeExternalHandler(D.target||D.srcElement,"load",this._imageOnLoadDelegate);
this._imagesToLoad--;
this._checkImagesLoaded();
},_checkImagesLoaded:function(){if(this._imagesToLoad<=0){this._imagesLoadedDelegate.call(this);
this._imagesLoadedDelegate=Function.emptyFunction;
}},_fixRootElementSize:function(){var F=this.get_element();
if(!F){return;
}var D=b.RotatorScrollDirection;
var E=parseInt(F.style.paddingLeft,10);
if(E&&!isNaN(E)&&this._isScrollDirectionEnabled(D.Left)){F.style.width=(parseInt(F.style.width,10)+E)+"px";
F.style.paddingLeft="";
}E=parseInt(F.style.paddingRight,10);
if(E&&!isNaN(E)&&this._isScrollDirectionEnabled(D.Right)){F.style.width=(parseInt(F.style.width,1)+E)+"px";
F.style.paddingRight="";
}E=parseInt(F.style.paddingTop,10);
if(E&&!isNaN(E)&&this._isScrollDirectionEnabled(D.Up)){F.style.height=(parseInt(F.style.height,10)+E)+"px";
F.style.paddingTop="";
}E=parseInt(F.style.paddingBottom,10);
if(E&&!isNaN(E)&&this._isScrollDirectionEnabled(D.Down)){F.style.height=(parseInt(F.style.height,10)+E)+"px";
F.style.paddingBottom="";
}},_toCreateReflection:function(E,D){var F=this._getScrollAnimationOptions(E,D);
return(!this.isVertical()&&(this.isCoverFlow()||this.isCarousel())&&F.reflectionHeight>0&&F.reflectionOpacity>0);
},_createReflection:function(H,G){var J=this._imageItems;
if(!J||J.length==0||J[0].reflection||!this._toCreateReflection(H,G)){return;
}var M=this._getScrollAnimationOptions(H,G);
var I=M.reflectionHeight;
I=M.reflectionHeight=(I>1)?1:I;
var L=M.reflectionOpacity;
L=M.reflectionOpacity=(L>1)?1:L;
var O=I;
var F=(I<=0.5)?0:(I-0.5);
var K=M.matrix;
var D=b.RadRotatorAnimation.get_scrollAnimationProperties(this.get_id());
var N=(K!=null&&("filter"==this._getTransformProperty())&&!(K.m11==1&&K.m22==1&&K.m12==0&&K.m21==0))||(D&&D.opacity!=null&&!a.support.opacity);
a.each(J,function(V,X){var S=this.element;
var U=S.getElementsByTagName("img");
U=(U&&U.length>0)?U[0]:null;
var W={width:"100%",height:"100%"};
if(U&&!this.reflection){var P=i.createElement("canvas");
if(P.getContext){P.height=this.height;
P.width=this.width;
S.appendChild(P);
var R=P.getContext("2d");
R.save();
R.globalAlpha=L;
R.translate(0,this.height);
R.scale(1,-1);
R.drawImage(U,0,0,this.width,this.height);
R.restore();
R.globalCompositeOperation="destination-in";
var T=R.createLinearGradient(0,0,0,this.height);
T.addColorStop(0,"rgba(255, 255, 255, "+O+")");
T.addColorStop((I>=0.5)?1:2*I,"rgba(255, 255, 255, "+F+")");
R.fillStyle=T;
R.rect(0,0,this.width,this.height);
R.fill();
this.reflection=P;
}else{var Q=a(U).clone(false).appendTo(S);
if(c.isIE){Q.css({filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1) progid:DXImageTransform.Microsoft.Alpha(opacity="+O*L*100+", style=1, finishOpacity="+F*L*100+", startx=0, starty=0, finishx=0, finishy="+this.height*((I>=0.5)?1:2*I)+")"});
}this.reflection=Q[0];
if(N){a(S).children("div").css({height:"50%"});
W.height="50%";
}}a(this.reflection).css(W);
}});
var E=this._animation;
if(N&&(!E||!E.get_isPlaying())){if(this.isCoverFlow()){this._changeCoverFlowIndexByIndex(this._getCurrentItemIndex(),H,G);
}else{if(this.isCarousel()){this._changeCarouselAngleByIndex(this._getCurrentItemIndex(),false,H,G);
}}}},_createButton:function(D,E){var F=D;
if(!F){F=i.createElement("div");
}if(!F.className){F.className=this._rotatorDownClass;
}return F;
},_isButtonDisabled:function(D){if(!D){return true;
}return Sys.UI.DomElement.containsCssClass(D,this._rotatorButtonDisabledClass);
},_isScrollDirectionEnabled:function(D){return D&this.get_scrollDirection()?true:false;
},_isRotatorTypeEnabled:function(D){return D==this.get_rotatorType()?true:false;
},get_scrollDuration:function(){if(this.isSlideShow()){return 1;
}else{return this._scrollDuration;
}},set_scrollDuration:function(D){this._scrollDuration=D;
if(this._animation){this._animation.set_duration(this.get_scrollDuration());
}},set_vertical:function(E){var D=this._itemsElement;
if(D){Sys.UI.DomElement.addCssClass(D,this._rotatorVerticalClass);
}},get_vertical:function(){var D=b.RotatorScrollDirection;
return(this._isScrollDirectionEnabled(D.Down)||this._isScrollDirectionEnabled(D.Up));
},isVertical:function(){if(this._itemsElement){return Sys.UI.DomElement.containsCssClass(this._itemsElement,this._rotatorVerticalClass);
}return false;
},get_height:function(){return this.get_element().style.height;
},set_height:function(D){this.get_element().style.height=this._toStyleComplientValue(D);
if(this.isVisible()){this._isCreated=false;
this.repaint();
}},get_width:function(){return this.get_element().style.width;
},set_width:function(D){this.get_element().style.width=this._toStyleComplientValue(D);
if(this.isVisible()){this._isCreated=false;
this.repaint();
}},_toStyleComplientValue:function(D){return isNaN(D)?D:D+"px";
},_attachEventHandlers:function(G){var F=this;
var D=this.get_containerElement();
if(null==D){return;
}var E=a(D).find("li."+this._rotatorListItemClass);
if(G!=false){this._clickDelegate=Function.createDelegate(this,this._mouseClickHandler);
this._mouseOutDelegate=Function.createDelegate(this,this._mouseOutHandler);
this._mouseOverDelegate=Function.createDelegate(this,this._mouseOverHandler);
this._itemShownDelegate=Function.createDelegate(this,this._itemShownHandler);
E.on({mouseenter:this._mouseOverDelegate,mouseleave:this._mouseOutDelegate});
$addHandler(D,"click",this._clickDelegate);
if(this.get_enableDragScrolling()&&!this.isCarousel()&&!this.isCoverFlow()&&!this.isSlideShow()){F._dragStartHandler=z(F._onDragStart,F);
a(D).onEvent(k.Down+A,F._dragStartHandler);
F._ieTouchActionManager.element=D;
F._ieTouchActionManager.allowUserTouch();
F._dragStartHandler=z(F._onDragStart,F);
F._attachImagesDragHandler();
}this.add_itemShown(this._itemShownDelegate);
if(c.isSafari){this._documentClickDelegate=Function.createDelegate(this,this._documentClickHandler);
this._keyDownDelegate=Function.createDelegate(this,this._keyDownHandler);
c.addHandler(i,"click",this._documentClickDelegate);
c.addHandler(i,"keydown",this._keyDownDelegate);
}}else{if(this._mouseOverDelegate){E.off({mouseenter:this._mouseOverDelegate,mouseleave:this._mouseOutDelegate});
}if(this._clickDelegate){$removeHandler(D,"click",this._clickDelegate);
}if(this._dragStartHandler){a(D).offEvent(k.Down+A,F._dragStartHandler);
}if(this._imgDragStartHandler){F._detachImagesDragHandler();
}this._clickDelegate=this._mouseOutDelegate=this._mouseOverDelegate=this._dragStartHandler=null;
if(this._itemShownDelegate){this.remove_itemShown(this._itemShownDelegate);
}if(c.isSafari){if(this._documentClickDelegate){c.removeHandler(i,"click",this._documentClickDelegate);
this._documentClickDelegate=null;
}if(this._keyDownDelegate){c.removeHandler(i,"keydown",this._keyDownDelegate);
this._keyDownDelegate=null;
}}}},_attachImagesDragHandler:function(){var D=this;
D._imgDragStartHandler=z(D._imgDragStart,D);
D._getRotatorItemImages().on("dragstart"+A,D._imgDragStartHandler);
},_detachImagesDragHandler:function(){var D=this;
D._getRotatorItemImages().off("dragstart"+A,D._imgDragStartHandler);
},_imgDragStart:function(D){D.preventDefault();
},_getRotatorItemImages:function(){return a(this.get_element()).find(".rrItemsList .rrItem img");
},_documentClickHandler:function(D){if(this._itemClickedChanged){this._itemClickedChanged=false;
}else{if(this._itemClicked){this._itemClicked=false;
}}},_keyDownHandler:function(D){if(this._itemClicked&&(D.keyCode>32&&D.keyCode<41)&&a(D.target).is("body")){return c.cancelRawEvent(D.rawEvent);
}},_itemShownHandler:function(D){if(typeof(b.RadTicker)=="undefined"){return;
}var F=this.get_items();
for(var E=0,G=F.length;
E<G;
E++){var H=F[E];
if(this._isItemVisible(H)){this._fireTickersForItem(H);
}else{this._resetTickersForItem(H);
}}},_mouseOverHandler:function(D){var F=this;
if(F._isMouseOverClipElement){return;
}F._isMouseOverClipElement=true;
if(F.isAutomaticAdvance()&&F._canPause&&F.get_pauseOnMouseOver()){if(F.get_frameDuration()<100){this._isPaused=true;
}else{F.pause();
}}var E=F._getItemFromEvent(D.currentTarget);
if(null!=E){F.raiseEvent("mouseOver",new b.RotatorEventArgs(E));
}},_mouseOutHandler:function(D){var F=this;
if(F._isMouseOverItemsList(D.originalEvent)){return;
}F._isMouseOverClipElement=false;
if(F.isAutomaticAdvance()&&F._canPause&&F.get_pauseOnMouseOver()){F._isPaused=false;
F._setAnimationTimeout(F.get_frameDuration());
}var E=F._getItemFromEvent(D.currentTarget);
if(null!=E){F.raiseEvent("mouseOut",new b.RotatorEventArgs(E));
}return false;
},_isMouseOverItemsList:function(G){var F=c.getBounds(this.get_containerElement());
var E=c.getBounds(this._clipElement);
var D=new Telerik.Web.UI.Bounds(E.x,E.y,v.min(E.width,F.width),v.min(E.height,F.height));
var H=c.getDocumentRelativeCursorPosition(G);
return c.containsPoint(D,H.x,H.y);
},_mouseClickHandler:function(D){this._raiseItemClickedFlags();
if(!this.get_enabled()){c.cancelRawEvent(D.rawEvent);
return false;
}var F=this._getItemFromEvent(D.target);
if(null!=F){var E=new b.RotatorCancelEventArgs(F);
this.raiseEvent("itemClicking",E);
if(E.get_cancel&&E.get_cancel()){c.cancelRawEvent(D.rawEvent);
return false;
}window.setTimeout(Function.createDelegate(this,function(){this.raiseEvent("itemClicked",new b.RotatorEventArgs(F));
this._postback(F.getServerIndex());
}),0);
}},_raiseItemClickedFlags:function(){this._itemClicked=true;
this._itemClickedChanged=true;
},_startMousePos:{},_startListPos:{},_onDragStart:function(D){var F=this;
var E=c.getEventLocation(D);
this._eventDirectionName=this.isVertical()?"clientY":"clientX";
F._startMousePos=E[F._eventDirectionName];
F._finishDragStart();
c.cancelRawEvent(D);
},_finishDragStart:function(){var G=this;
var D=a(i);
if(this.isAutomaticAdvance()){this.stop();
}var F=this.get_containerElement();
this._startListPos=this.isVertical()?parseInt(F.style.top,10):parseInt(F.style.left,10);
this._draggingCssDirection=this._getCssDirection();
var E=this._getOffsetDimension();
this._maxDragOffset=parseInt(this._clipElement.style[this._getCssDimension()],10)-F[E];
D.onEvent(k.Move+A,G._dragHandler);
D.onEvent(k.Up+A,G._dragEndHandler);
},_onDrag:function(E){var G=this;
var F=c.getEventLocation(E);
var D=F[G._eventDirectionName]-G._startMousePos;
this._offsetListWhenDragging(D);
c.cancelRawEvent(E);
},_offsetListWhenDragging:function(D){var F=this;
var E=F._itemsElement;
var G=v.min(0,F._startListPos+D);
F._isDragged=true;
E.style[F._draggingCssDirection]=v.max(F._maxDragOffset,G)+y;
},_onDragEnd:function(E){var F=this;
var D=a(i);
D.offEvent(k.Move+A,F._dragHandler);
D.offEvent(k.Up+A,F._dragEndHandler);
this.snapToEdge();
if(this.isAutomaticAdvance()){this.start();
}c.cancelRawEvent(E);
var G=!!this._isDragged;
this.add_itemClicking(function(I,H){H.set_cancel(G);
});
delete this._isDragged;
},getItemAtEdge:function(){return this._getElementAtEdge().control;
},snapToEdge:function(){var H=this;
var F=H._getElementAtEdge();
var E=H._getCssDirection();
var G=H._getOffsetDirection();
var D=H.get_containerElement();
if(F){D.style[E]=(-1)*F[G]+y;
}},_getElementAtEdge:function(){var D=this._getCssDirection();
var F=parseInt(this.isVertical()?this._itemHeight:this._itemWidth,10);
var G=this.get_containerElement();
var H=-1*parseInt(G.style[D],10);
var E=H<0?0:v.round(H/F-0.15);
return a("li",G)[E];
},_getCssDirection:function(){return this.isVertical()?"top":"left";
},_getCssDimension:function(){return this.isVertical()?"height":"width";
},_getOffsetDirection:function(){return this.isVertical()?"offsetTop":"offsetLeft";
},_getOffsetDimension:function(){return this.isVertical()?"offsetHeight":"offsetWidth";
},_postback:function(D){if(!this._postBackReference){return;
}var E=this._postBackReference.replace("arguments",D);
eval(E);
},_isItemVisible:function(F){var I=c.getContentSize(this._clipElement);
var G=c.getLocation(this._clipElement);
I.x=G.x;
I.y=G.y;
var E=c.getOuterSize(F.get_element());
G=c.getLocation(F.get_element());
E.x=G.x;
E.y=G.y;
var D=(c.containsPoint(I,E.x,E.y)&&c.containsPoint(I,E.x+E.width,E.y+E.height));
var H=(c.containsPoint(E,I.x,I.y)&&c.containsPoint(E,I.x+I.width,I.y+I.height));
return D||H;
},_fireTickersForItem:function(E){var H=E.get_tickers();
for(var D=0,F=H.length;
D<F;
D++){if(H[D]){var G=$find(H[D]);
if(G){G.startTicker();
}}}},_resetTickersForItem:function(E){var H=E.get_tickers();
for(var D=0,F=H.length;
D<F;
D++){if(H[D]){var G=$find(H[D]);
if(G){G.resetTicker();
}}}},_getItemFromEvent:function(E){var D=this.get_containerElement();
var F=null;
while(null!=E&&E!=D&&E!=i){if(E.tagName.toLowerCase()=="li"&&null!=E._item&&Object.getTypeName(E._item)=="Telerik.Web.UI.RadRotatorItem"){F=E._item;
}E=E.parentNode;
}return F;
},_initializeWebServiceLoader:function(){this._webServiceLoader=new b.WebServiceLoader(this.get_webServiceSettings());
this._webServiceLoader.add_loadingStarted(Function.createDelegate(this,this._onItemLoadingStarted));
this._webServiceLoader.add_loadingSuccess(Function.createDelegate(this,this._onItemLoadingSuccess));
this._webServiceLoader.add_loadingError(Function.createDelegate(this,this._onItemLoadingError));
},_loadChildrenFromWebService:function(E){if(!this._webServiceLoader){this._initializeWebServiceLoader();
}var D=new Sys.CancelEventArgs();
D._argument=null;
D.get_argument=function(){return this._argument;
};
D.set_argument=function(G){this._argument=G;
};
this.raiseEvent("itemsRequesting",D);
if(D.get_cancel()){return;
}var F={itemIndex:E,argument:D.get_argument()};
this._webServiceLoader.loadData(F);
},loadItemsFromWebService:function(E){var D=E||0,G=this;
if(G.get_items().length==0){G._nextItemIndex=-1;
}var F=function(I,H){G.set_currentItemIndex(D);
G.start();
G.remove_itemsRequested(F);
};
G.add_itemsRequested(F);
G._enableDisableAllButtonsUnconditionally(false);
G._loadChildrenFromWebService(D);
},showLoadingSign:function(G){if(!this._loadingSign){var D=this._clipElement;
var E=i.createElement("div");
D.appendChild(E);
var F=E.style;
F.width="16px";
F.height="16px";
F.position="absolute";
F.left=v.round(D.offsetWidth/2)-8+"px";
F.top=v.round(D.offsetHeight/2)-8+"px";
Sys.UI.DomElement.addCssClass(E,"rrLoadingSign");
this._loadingSign=E;
}if(G){this._loadingSign.style.display="";
}else{this._loadingSign.style.display="none";
}},_onItemLoadingStarted:function(E,D){this._enableDisableAllButtonsUnconditionally(false);
this.showLoadingSign(true);
},_onItemLoadingSuccess:function(J,D){var I=D.get_data();
var H=this._itemsElement;
var G=H.children.length;
if(!this._firstLODRequestPassed&&G>0){H.innerHTML="";
var E=H.firstChild;
if(E&&H.removeChild){H.removeChild(E);
}}if(I&&I.length>0){for(var F=0;
F<I.length;
F++){this.addRotatorItem(I[F],G);
if(!this.isScrollingForward()){this._shiftItemInList();
}}if(this._hasButtons()){this._repaintUI();
}else{this.repaint();
}if(!this._firstLODRequestPassed){this._firstLODRequestPassed=true;
this._loadInitialFrame();
this._enableDisableAllButtonsUnconditionally(true);
this.raiseEvent("itemsRequested",Sys.EventArgs.Empty);
}else{this._enableDisableButtons();
this.raiseEvent("itemsRequested",Sys.EventArgs.Empty);
}}else{this._lastLODRequestPassed=true;
this._enableDisableButtons();
}this.showLoadingSign(false);
this._noActiveLODRequest=true;
if(this._animation&&!this._isRotatorTypeEnabled(b.RotatorType.ButtonsOver)){this._animation.play();
}},_onItemLoadingError:function(G,F){var E=F.get_message();
if(!E){E="No error data available";
}var D=new Telerik.Web.UI.RotatorErrorEventArgs(E);
this.raiseEvent("itemsRequestFailed",D);
if(!D.get_cancelErrorAlert()){alert("RadRotator items request failed :\n Exception="+E);
}this.showLoadingSign(false);
this._lastLODRequestPassed=true;
this._noActiveLODRequest=true;
this._enableDisableButtons();
if(this._animation&&!this._isRotatorTypeEnabled(b.RotatorType.ButtonsOver)){this._animation.play();
}},addRotatorItem:function(F,E){var G=this,D=G.get_containerElement();
G._createRotatorItem(F,E);
if(!G._isLODEnabled){D.style.width="";
D.style.height="";
G.repaint();
}},_createRotatorItem:function(I,F){if(F<0){return;
}var G=this.get_items(),E=this.get_containerElement(),H=E.ownerDocument.createElement("li");
a(H).addClass(this._rotatorListItemClass);
if(this._itemWidth){H.style.width=parseInt(this._itemWidth,10)+"px";
}if(this._itemHeight){H.style.height=parseInt(this._itemHeight,10)+"px";
}if(!I){I={};
}if(I.Html===C){I.Html="";
}if(I.CssClass===C){I.CssClass="";
}if(I.Visible===C){I.Visible=true;
}H.innerHTML=I.Html;
var D={cssClass:I.CssClass,visible:I.Visible};
var J=$create(b.RadRotatorItem,D,null,null,H);
H._item=J;
if(F>=E.children.length||typeof(F)=="undefined"||F==null||this._isLODEnabled){E.appendChild(H);
Array.add(G,J);
}else{E.insertBefore(H,E.children[F]);
Array.insert(this.get_items(),F,J);
this._fixItemsIndices(G,F);
}return J;
},removeRotatorItem:function(F){var K=this.get_items();
var L=K.length;
F=parseInt(F,10);
F=isNaN(F)||F>=L?L-1:F;
if(F<0){F=0;
}var D=this.get_containerElement();
if(L){this.pause();
var E=this._getCurrentItemIndex();
var H=K.splice(F,1)[0];
var J=H.get_element();
var I=c.getOuterSize(J);
D.removeChild(J);
D.style.width="";
D.style.height="";
this._firstItem=null;
if(K.length<1){this.stop();
return;
}this.repaint();
this._fixItemsIndices(K,F);
var G=this.isVertical();
if(G){var N=v.floor(parseInt(this._itemsElement.style.top,10)/I.height);
if(N!=0&&E<=v.abs(N)){this._itemsElement.style.top=(-(E-1)*I.height)+"px";
}}else{var M=v.floor(parseInt(this._itemsElement.style.left,10)/I.width);
if(M!=0&&E<=v.abs(M)){this._itemsElement.style.left=(-(E-1)*I.width)+"px";
}}var O=this.get_rotatorType();
if(O==b.RotatorType.AutomaticAdvance||O==b.RotatorType.SlideShow||O==b.RotatorType.FromCode){this.resume();
}}},_fixItemsIndices:function(F,E){var G=F.length;
for(var D=E;
D<G;
D++){F[D]._index=-1;
}},clearItems:function(){this.stop();
var D=this.get_containerElement();
var F=this.get_items();
while(F.length){var E=F.pop();
D.removeChild(E.get_element());
}var G=new Telerik.Web.UI.Bounds(0,0,0,0);
c.setBounds(this._itemsElement,G);
},isEmptyItemElement:function(){return;
},_doLoadOnDemand:function(D){var E=this._loadNextFrame();
if(this._isLODEnabled&&this._noActiveLODRequest&&E){this._animation.stop();
D.set_cancel(true);
this._noActiveLODRequest=false;
this._enableDisableAllButtonsUnconditionally(false);
this._loadChildrenFromWebService(E);
return false;
}},_loadNextFrame:function(){var D=this._getCurrentItemIndex();
var H=this._getVisibleItemsCount()||1;
var F=this.get_items().length;
var E=null;
var G=this.isScrollingForward()?D+H:D-1;
if(this.isViewportScrollMode()){G=this.isScrollingForward()?G+H-1:G-H+1;
}if(this._isLODEnabled&&!this.get_items()[G]){if(!this._lastLODRequestPassed){E=F;
}}return E;
},isVisible:function(){return(c.getInvisibleParent(this.get_element())==null);
},repaint:function(){window.clearTimeout(this._automaticAdvanceTimeOut);
var D=this.get_currentItemIndex();
this._repaintUI();
if(!this._animation){this._startAutomaticAdvance();
}else{if(this._animation.dispose){this._animation.dispose();
}this._animation=null;
this._startAutoPlayItems();
}this.set_currentItemIndex(D);
},_repaintUI:function(){if(this._isWidthInPersent()){this._relativeWrapper.style.width=this._relativeWrapper.offsetWidth+"px";
this._clipElement.style.width=this._clipElement.offsetWidth+"px";
}this._createUI();
this._enableDisableButtons();
},get_webServiceSettings:function(){return this._webServiceSettings;
},set_webServiceSettings:function(E){var D=Sys.Serialization.JavaScriptSerializer.deserialize(E);
this._webServiceSettings=new b.WebServiceSettings(D);
},get_enabled:function(){return this._enabled;
},set_enabled:function(D){if(D!=this._enabled){this._enabled=D;
if(this.get_isInitialized()){if(D){this.start();
}else{this.stop();
}}}}};
a.registerControlProperties(b.RadRotator,{skin:"Default",pauseOnMouseOver:true,persistCurrentItemOnPostBack:false,items:null,rotatorType:b.RotatorType.AutomaticAdvance,wrapFrames:true,scrollDirection:b.RotatorScrollDirection.Left+b.RotatorScrollDirection.Right,frameDuration:2000,controlButtons:{},initialItemIndex:0,slideShowAnimationSettings:{},animationDirection:b.RotatorScrollDirection.Left,enableRandomOrder:false,enableDragScrolling:false,appendClientDataBoundItems:false});
var n="itemClicking",m="itemClicked",x="mouseOver",w="mouseOut",s="itemShowing",t="itemShown",u="load",f="buttonOver",e="buttonOut",d="buttonClick",q="itemsRequested",p="itemsRequestFailed",r="itemsRequesting",o="itemDataBound",h="dataBound",B="templateDataBound";
a.registerControlEvents(b.RadRotator,[n,m,x,w,s,t,u,f,e,d,q,p,r,o,h,B]);
b.RadRotator.registerClass("Telerik.Web.UI.RadRotator",b.RadWebControl);
var g=function(E,D){b[E]=function(){var F=Array.prototype.slice.call(arguments);
b[E].initializeBase(this,F);
};
b[E].registerClass("Telerik.Web.UI."+E,D);
};
b.RotatorEventArgs=function(D){b.RotatorEventArgs.initializeBase(this);
this._item=D;
};
b.RotatorEventArgs.prototype={get_item:function(){return this._item;
}};
b.RotatorEventArgs.registerClass("Telerik.Web.UI.RotatorEventArgs",Sys.EventArgs);
g("RadRotatorEventArgs",Telerik.Web.UI.RotatorEventArgs);
b.RotatorCancelEventArgs=function(D){b.RotatorCancelEventArgs.initializeBase(this);
this._item=D;
};
b.RotatorCancelEventArgs.prototype={get_item:function(){return this._item;
}};
b.RotatorCancelEventArgs.registerClass("Telerik.Web.UI.RotatorCancelEventArgs",Sys.CancelEventArgs);
g("RadRotatorCancelEventArgs",Telerik.Web.UI.RotatorCancelEventArgs);
b.RotatorButtonEventArgs=function(D){b.RotatorButtonEventArgs.initializeBase(this);
this._button=D;
};
b.RotatorButtonEventArgs.prototype={get_button:function(){return this._button;
}};
b.RotatorButtonEventArgs.registerClass("Telerik.Web.UI.RotatorButtonEventArgs",Sys.CancelEventArgs);
g("RadRotatorButtonEventArgs",Telerik.Web.UI.RotatorButtonEventArgs);
b.RotatorErrorEventArgs=function(D){b.RotatorErrorEventArgs.initializeBase(this);
this._cancelErrorAlert=false;
this._errorMessage=D;
};
b.RotatorErrorEventArgs.prototype={get_errorMessage:function(){return this._errorMessage;
},get_cancelErrorAlert:function(){return this._cancelErrorAlert;
},set_cancelErrorAlert:function(D){this._cancelErrorAlert=D;
}};
b.RotatorErrorEventArgs.registerClass("Telerik.Web.UI.RotatorErrorEventArgs",Sys.EventArgs);
g("RadRotatorErrorEventArgs",Telerik.Web.UI.RotatorErrorEventArgs);
b.RotatorItemDataBoundEventArgs=function(E,D){var F=this;
b.RotatorItemDataBoundEventArgs.initializeBase(F);
F._item=E;
F._dataItem=D;
};
b.RotatorItemDataBoundEventArgs.prototype={get_item:function(){return this._item;
},get_dataItem:function(){return this._dataItem;
}};
b.RotatorItemDataBoundEventArgs.registerClass("Telerik.Web.UI.RotatorItemDataBoundEventArgs",Sys.EventArgs);
g("RadRotatorItemDataBoundEventArgs",Telerik.Web.UI.RotatorItemDataBoundEventArgs);
b.RadRotatorItem=function(D){b.RadRotatorItem.initializeBase(this,[D]);
this._visible=null;
this._cssClass=null;
this._index=-1;
};
b.RadRotatorItem.prototype={initialize:function(){b.RadRotatorItem.callBaseMethod(this,"initialize");
this._tickers=null;
},dispose:function(){b.RadRotatorItem.callBaseMethod(this,"dispose");
},get_index:function(){if(this._index==-1){var E=0;
var D=this.get_element();
var F=D.parentNode;
if(null!=F){var G=c.getChildrenByTagName(F,"li");
if(null!=G){E=0;
while(E<G.length&&G[E]!=D){E++;
}if(E==G.length){E=0;
}}}this._index=E;
}return this._index;
},getServerIndex:function(){var E=a(this.get_element());
var D=E.children("div");
if(D.length>0){var F=D[0].id.match(/_i(\d+)$/);
if(F){return parseInt(F[1],10);
}}return this.get_index();
},get_visible:function(){return this._visible;
},set_visible:function(D){this._visible=D;
},get_cssClass:function(){return this._cssClass;
},set_cssClass:function(D){this._cssClass=D;
},get_tickers:function(){if(null==this._tickers&&typeof(b.RadTicker)!="undefined"){this._tickers=[];
for(var E=0,F=c.radControls.length;
E<F;
E++){var D=c.radControls[E];
if(b.RadTicker.isInstanceOfType(D)&&c.isDescendant(this.get_element(),D.get_element())){Array.add(this._tickers,D.get_id());
}}}return this._tickers;
}};
b.RadRotatorItem.registerClass("Telerik.Web.UI.RadRotatorItem",Sys.UI.Control);
b.RadRotatorAnimationClass=function(){this._scrollAnimations={};
};
b.RadRotatorAnimationClass.prototype={get_scrollAnimationProperties:function(D){if(!D||!this._scrollAnimations[D]){return null;
}return this._scrollAnimations[D].properties;
},set_scrollAnimationProperties:function(F,E){if(!F){return;
}var D=this._scrollAnimations;
if(!D[F]){D[F]={};
}if(typeof(E)=="undefined"||E==null){delete D[F].properties;
}else{D[F].properties=E;
}},get_scrollAnimationOptions:function(F){if(!F){return null;
}var D=this._scrollAnimations;
var E=D[F]?D[F].options:{};
E=a.extend({},{xR:this.get_xRadius(F),yR:this.get_yRadius(F),xO:this.get_xCenter(F),yO:this.get_yCenter(F),minScale:this.get_minimumScale(F),xItemSpacing:this.get_xItemSpacing(F),yItemSpacing:this.get_yItemSpacing(F),selectedItemOffsetX:this.get_selectedItemOffsetX(F),selectedItemOffsetY:this.get_selectedItemOffsetY(F),matrix:this.get_matrix(F),reflectionHeight:this.get_reflectionHeight(F),reflectionOpacity:this.get_reflectionOpacity(F),coverFlowDirection:this.get_coverFlowDirection(F)},E);
return E;
},set_scrollAnimationOptions:function(F,E){if(!F){return;
}var D=this._scrollAnimations;
if(!D[F]){D[F]={};
}if(typeof(E)=="undefined"||E==null){delete D[F].options;
}D[F].options=a.extend({},this.get_scrollAnimationOptions(),E);
},get_xRadius:function(D){return this._getScrollAnimationOption(D,"xR");
},set_xRadius:function(D,E){this._setScrollAnimationOption(D,"xR",E);
},get_yRadius:function(D){return this._getScrollAnimationOption(D,"yR");
},set_yRadius:function(D,E){this._setScrollAnimationOption(D,"yR",E);
},get_xCenter:function(D){return this._getScrollAnimationOption(D,"xO");
},set_xCenter:function(D,E){this._setScrollAnimationOption(D,"xO",E);
},get_yCenter:function(D){return this._getScrollAnimationOption(D,"yO");
},set_yCenter:function(D,E){this._setScrollAnimationOption(D,"yO",E);
},get_minimumScale:function(D){return this._getScrollAnimationOption(D,"minScale");
},set_minimumScale:function(E,D){this._setScrollAnimationOption(E,"minScale",D);
},get_xItemSpacing:function(D){return this._getScrollAnimationOption(D,"xItemSpacing");
},set_xItemSpacing:function(D,E){this._setScrollAnimationOption(D,"xItemSpacing",E);
},get_yItemSpacing:function(D){return this._getScrollAnimationOption(D,"yItemSpacing");
},set_yItemSpacing:function(D,E){this._setScrollAnimationOption(D,"yItemSpacing",E);
},get_selectedItemOffsetX:function(D){return this._getScrollAnimationOption(D,"selectedItemOffsetX");
},set_selectedItemOffsetX:function(D,E){this._setScrollAnimationOption(D,"selectedItemOffsetX",E);
},get_selectedItemOffsetY:function(D){return this._getScrollAnimationOption(D,"selectedItemOffsetY");
},set_selectedItemOffsetY:function(D,E){this._setScrollAnimationOption(D,"selectedItemOffsetY",E);
},get_matrix:function(E){var D=this._getScrollAnimationOption(E,"matrix");
D=a.extend({},{m11:Number.NaN,m12:Number.NaN,m21:Number.NaN,m22:Number.NaN},D);
return D;
},set_matrix:function(E,D){this._setScrollAnimationOption(E,"matrix",D);
},get_reflectionHeight:function(D){return this._getScrollAnimationOption(D,"reflectionHeight");
},set_reflectionHeight:function(E,D){this._setScrollAnimationOption(E,"reflectionHeight",D);
},get_reflectionOpacity:function(D){return this._getScrollAnimationOption(D,"reflectionOpacity");
},set_reflectionOpacity:function(E,D){this._setScrollAnimationOption(E,"reflectionOpacity",D);
},get_coverFlowDirection:function(D){return this._getScrollAnimationOption(D,"coverFlowDirection");
},set_coverFlowDirection:function(E,D){this._setScrollAnimationOption(E,"coverFlowDirection",D);
},_getScrollAnimationOption:function(E,D){if(!E||!this._scrollAnimations[E]||!this._scrollAnimations[E].options){return Number.NaN;
}return this._scrollAnimations[E].options[D];
},_setScrollAnimationOption:function(G,E,F){if(!G){return;
}var D=this._scrollAnimations;
if(!D[G]){D[G]={};
}if(!D[G].options){D[G].options={};
}D[G].options[E]=F;
},_removeScrollAnimation:function(E){var D=this._scrollAnimations[E];
if(D){delete D.options;
delete D.properties;
D=null;
}delete this._scrollAnimations[E];
},getInstance:function(){return this;
}};
b.RadRotatorAnimationClass.registerClass("Telerik.Web.UI.RadRotatorAnimationClass",null);
if(!b.RadRotatorAnimation){b.RadRotatorAnimation=new b.RadRotatorAnimationClass();
}b.Helpers=b.Helpers||{};
b.Helpers.IETouchActionManager=function(D){this.element=D;
};
b.Helpers.IETouchActionManager.prototype={allowUserTouch:function(){if(!this.isPointerEnabled()){return;
}var D=this.getStyle();
this.cachedTouchAction=D.msTouchAction;
D.msTouchAction="none";
},restore:function(){if(!this.isPointerEnabled()){return;
}this.getStyle().msTouchAction=this.cachedTouchAction;
},getStyle:function(){return this.element?this.element.style:{};
},isPointerEnabled:function(){try{return window.navigator.msPointerEnabled;
}catch(D){return false;
}},dispose:function(){this.restore();
this.element=null;
}};
})($telerik.$);
