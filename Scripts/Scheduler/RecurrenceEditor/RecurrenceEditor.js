Type.registerNamespace("Telerik.Web.UI");
Type.registerNamespace("Telerik.Web.UI.SchedulerRecurrenceEditor");
$telerik.findSchedulerRecurrenceEditor=$find;
$telerik.toSchedulerRecurrenceEditor=function(a){return a;
};
(function(){var a=$telerik.$,c=Telerik.Web.UI,d=c.SchedulerRecurrenceEditor,b=c.Scheduler.DateTime,f=2147483647,e=new Date("9000/01/01");
c.RecurrenceEditor=function(g){c.RecurrenceEditor.initializeBase(this,[g]);
this._recurrenceRule=null;
this._startDate=new Date("2000/01/01");
this._endDate=new Date("2000/01/02");
this._firstDayOfWeek=c.DayOfWeek.Sunday;
this._baseId=this.get_id();
};
c.RecurrenceEditor.prototype={initialize:function(){c.RecurrenceEditor.callBaseMethod(this,"initialize");
this._initializeView();
},dispose:function(){c.RecurrenceEditor.callBaseMethod(this,"dispose");
},set_recurrenceRule:function(h){this._recurrenceRule=h;
var g=this._populate(h);
this._view._toggleRecurrencePanel(g);
},get_recurrenceRule:function(){if(!this._getIsRecurring()){return null;
}return this._saveRecurrenceRule();
},set_startDate:function(g){this._startDate=g;
},get_startDate:function(){return this._startDate;
},set_endDate:function(g){this._endDate=g;
},get_endDate:function(){return this._endDate;
},set_firstDayOfWeek:function(g){this._firstDayOfWeek=g;
},get_firstDayOfWeek:function(){return this._firstDayOfWeek;
},get_renderMode:function(){return this._renderMode;
},set_renderMode:function(g){this._renderMode=g;
},_initializeView:function(){var g;
switch(this.get_renderMode()){case c.RenderMode.Mobile:g=new d.NativeView(this);
break;
case c.RenderMode.Lite:g=new d.LiteView(this);
break;
default:g=new d.ClassicView(this);
break;
}this._view=g;
this._view.initialize();
},_saveRecurrenceRule:function(){return c.RecurrenceRule.fromPatternAndRange(this._getPattern(),this._getRange());
},_populate:function(l){var h=l!=null,k=a(this._getElement("RecurrencePanel"));
if(this._getRecurrentCheckBox()){this._getRecurrentCheckBox().checked=h;
}if(!h){if(k.length>0){this._prefillRecurrenceControls();
this._populateRecurrenceRangeControls("Indefinitely",null,new Date());
}return false;
}var j=l.get_pattern(),g=j.get_interval().toString(),i=j.get_daysOfWeekMask();
this._view._setFrequency(j.get_frequency());
switch(j.get_frequency()){case c.RecurrenceFrequency.Hourly:this._view._setNumericTextBoxValue(this._getElement("HourlyRepeatInterval"),g);
break;
case c.RecurrenceFrequency.Daily:if(j.get_daysOfWeekMask()==c.RecurrenceDay.WeekDays){a(this._getElement("RepeatEveryWeekday")).trigger("click");
}else{a(this._getElement("RepeatEveryNthDay")).trigger("click");
this._view._setNumericTextBoxValue(this._getElement("DailyRepeatInterval"),g);
}break;
case c.RecurrenceFrequency.Weekly:this._view._setNumericTextBoxValue(this._getElement("WeeklyRepeatInterval"),g);
this._getElement("WeeklyWeekDayMonday").checked=(c.RecurrenceDay.Monday&i)==c.RecurrenceDay.Monday;
this._getElement("WeeklyWeekDayTuesday").checked=(c.RecurrenceDay.Tuesday&i)==c.RecurrenceDay.Tuesday;
this._getElement("WeeklyWeekDayWednesday").checked=(c.RecurrenceDay.Wednesday&i)==c.RecurrenceDay.Wednesday;
this._getElement("WeeklyWeekDayThursday").checked=(c.RecurrenceDay.Thursday&i)==c.RecurrenceDay.Thursday;
this._getElement("WeeklyWeekDayFriday").checked=(c.RecurrenceDay.Friday&i)==c.RecurrenceDay.Friday;
this._getElement("WeeklyWeekDaySaturday").checked=(c.RecurrenceDay.Saturday&i)==c.RecurrenceDay.Saturday;
this._getElement("WeeklyWeekDaySunday").checked=(c.RecurrenceDay.Sunday&i)==c.RecurrenceDay.Sunday;
break;
case c.RecurrenceFrequency.Monthly:if(0<j.get_dayOfMonth()){a(this._getElement("RepeatEveryNthMonthOnDate")).trigger("click");
this._view._setNumericTextBoxValue(this._getElement("MonthlyRepeatDate"),j.get_dayOfMonth());
this._view._setNumericTextBoxValue(this._view._getMonthlyRepeatIntervalForDateElement(),g);
}else{a(this._getElement("RepeatEveryNthMonthOnGivenDay")).trigger("click");
this._view._setDropDownSelectedValue(this._getElement("MonthlyDayOrdinalDropDown"),j.get_dayOrdinal());
this._view._setDropDownSelectedValue(this._getElement("MonthlyDayMaskDropDown"),i.toString());
this._view._setNumericTextBoxValue(this._view._getMonthlyRepeatIntervalForGivenDayElement(),g);
}break;
case c.RecurrenceFrequency.Yearly:this._view._setNumericTextBoxValue(this._getElement("YearlyRepeatInterval"),g);
if(0<j.get_dayOfMonth()){this._getElement("RepeatEveryYearOnDate").checked=true;
this._getElement("RepeatEveryYearOnGivenDay").checked=false;
this._view._setNumericTextBoxValue(this._getElement("YearlyRepeatDate"),j.get_dayOfMonth());
this._view._setDropDownSelectedValue(this._view._getYearlyRepeatMonthForDateElement(),c.RecurrenceMonth.toString(j.get_month()));
}else{this._getElement("RepeatEveryYearOnDate").checked=false;
this._getElement("RepeatEveryYearOnGivenDay").checked=true;
this._view._setDropDownSelectedValue(this._getElement("YearlyDayOrdinalDropDown"),j.get_dayOrdinal());
this._view._setDropDownSelectedValue(this._getElement("YearlyDayMaskDropDown"),i.toString());
this._view._setDropDownSelectedValue(this._view._getYearlyRepeatMonthForGivenDayElement(),c.RecurrenceMonth.toString(j.get_month()));
}break;
}this._populateRecurrenceRange(l.get_range());
return true;
},_prefillRecurrenceControls:function(){var g=this.get_startDate();
var i=g.getDay();
this._getElement("WeeklyWeekDaySunday").checked=i==c.DayOfWeek.Sunday;
this._getElement("WeeklyWeekDayMonday").checked=i==c.DayOfWeek.Monday;
this._getElement("WeeklyWeekDayTuesday").checked=i==c.DayOfWeek.Tuesday;
this._getElement("WeeklyWeekDayWednesday").checked=i==c.DayOfWeek.Wednesday;
this._getElement("WeeklyWeekDayThursday").checked=i==c.DayOfWeek.Thursday;
this._getElement("WeeklyWeekDayFriday").checked=i==c.DayOfWeek.Friday;
this._getElement("WeeklyWeekDaySaturday").checked=i==c.DayOfWeek.Saturday;
var h=g.getDate();
this._view._setNumericTextBoxValue(this._getElement("MonthlyRepeatDate"),h);
var j=g.getMonth()+1;
this._view._setDropDownSelectedValue(this._view._getYearlyRepeatMonthForDateElement(),c.RecurrenceMonth.toString(j));
this._view._setNumericTextBoxValue(this._getElement("YearlyRepeatDate"),h);
this._view._setDropDownSelectedValue(this._view._getYearlyRepeatMonthForGivenDayElement(),c.RecurrenceMonth.toString(j));
},_populateRecurrenceRangeControls:function(h,g,i){this._view._setNumericTextBoxValue(this._getElement("RangeOccurrences"),g||"10");
this._view._setSelectedRange(h);
this._view._setPickerValue(this._getElement("RangeEndDate"),i);
},_populateRecurrenceRange:function(h){var g=h.get_maxOccurrences()!=f,i=h.get_recursUntil().getTime()!=e.getTime();
if(!g&&!i){this._populateRecurrenceRangeControls("Indefinitely",null,new Date());
}else{if(g){this._populateRecurrenceRangeControls("GivenOccurrences",h.get_maxOccurrences(),new Date());
}else{this._populateRecurrenceRangeControls("UntilGivenDate",null,h.get_recursUntil());
}}},_getRecurrenceRadioButtons:function(){},_getFrequency:function(){return this._view._getFrequency();
},_getInterval:function(){var g=0;
switch(this._getFrequency()){case c.RecurrenceFrequency.Hourly:g=this._getNumericTextBoxValue(this._getElement("HourlyRepeatInterval"));
break;
case c.RecurrenceFrequency.Daily:if(this._getElement("RepeatEveryNthDay").checked){g=this._getNumericTextBoxValue(this._getElement("DailyRepeatInterval"));
}break;
case c.RecurrenceFrequency.Weekly:g=this._getNumericTextBoxValue(this._getElement("WeeklyRepeatInterval"));
break;
case c.RecurrenceFrequency.Monthly:if(this._getElement("RepeatEveryNthMonthOnDate").checked){g=this._getNumericTextBoxValue(this._view._getMonthlyRepeatIntervalForDateElement());
}else{g=this._getNumericTextBoxValue(this._view._getMonthlyRepeatIntervalForGivenDayElement());
}break;
case c.RecurrenceFrequency.Yearly:g=this._getNumericTextBoxValue(this._getElement("YearlyRepeatInterval"));
break;
}return g;
},_getDaysOfWeekMask:function(){switch(this._getFrequency()){case c.RecurrenceFrequency.Daily:return this._getElement("RepeatEveryWeekday").checked?c.RecurrenceDay.WeekDays:c.RecurrenceDay.EveryDay;
case c.RecurrenceFrequency.Weekly:var g=c.RecurrenceDay.None;
g|=this._getElement("WeeklyWeekDayMonday").checked?c.RecurrenceDay.Monday:g;
g|=this._getElement("WeeklyWeekDayTuesday").checked?c.RecurrenceDay.Tuesday:g;
g|=this._getElement("WeeklyWeekDayWednesday").checked?c.RecurrenceDay.Wednesday:g;
g|=this._getElement("WeeklyWeekDayThursday").checked?c.RecurrenceDay.Thursday:g;
g|=this._getElement("WeeklyWeekDayFriday").checked?c.RecurrenceDay.Friday:g;
g|=this._getElement("WeeklyWeekDaySaturday").checked?c.RecurrenceDay.Saturday:g;
g|=this._getElement("WeeklyWeekDaySunday").checked?c.RecurrenceDay.Sunday:g;
return g;
case c.RecurrenceFrequency.Monthly:if(this._getElement("RepeatEveryNthMonthOnGivenDay").checked){return parseInt(this._view._getDropDownSelectedValue(this._getElement("MonthlyDayMaskDropDown")),10);
}break;
case c.RecurrenceFrequency.Yearly:if(this._getElement("RepeatEveryYearOnGivenDay").checked){return parseInt(this._view._getDropDownSelectedValue(this._getElement("YearlyDayMaskDropDown")),10);
}break;
}return c.RecurrenceDay.None;
},_getDayOfMonth:function(){switch(this._getFrequency()){case c.RecurrenceFrequency.Monthly:return this._getElement("RepeatEveryNthMonthOnDate").checked?parseInt(this._getNumericTextBoxValue(this._getElement("MonthlyRepeatDate")),10):0;
case c.RecurrenceFrequency.Yearly:return this._getElement("RepeatEveryYearOnDate").checked?parseInt(this._getNumericTextBoxValue(this._getElement("YearlyRepeatDate")),10):0;
}return 0;
},_getDayOrdinal:function(){switch(this._getFrequency()){case c.RecurrenceFrequency.Monthly:if(this._getElement("RepeatEveryNthMonthOnGivenDay").checked){return parseInt(this._view._getDropDownSelectedValue(this._getElement("MonthlyDayOrdinalDropDown")),10);
}break;
case c.RecurrenceFrequency.Yearly:if(this._getElement("RepeatEveryYearOnGivenDay").checked){return parseInt(this._view._getDropDownSelectedValue(this._getElement("YearlyDayOrdinalDropDown")),10);
}break;
}return 0;
},_getMonth:function(){if(this._getFrequency()!=c.RecurrenceFrequency.Yearly){return c.RecurrenceMonth.None;
}var g;
if(this._getElement("RepeatEveryYearOnDate").checked){g=this._view._getDropDownSelectedValue(this._view._getYearlyRepeatMonthForDateElement());
}else{g=this._view._getDropDownSelectedValue(this._view._getYearlyRepeatMonthForGivenDayElement());
}return c.RecurrenceMonth.parse(g,true);
},_getPattern:function(){if(!this._getIsRecurring()){return null;
}var g=new c.RecurrencePattern();
g.set_frequency(this._getFrequency());
g.set_interval(this._getInterval());
g.set_daysOfWeekMask(this._getDaysOfWeekMask());
g.set_dayOfMonth(this._getDayOfMonth());
g.set_dayOrdinal(this._getDayOrdinal());
g.set_month(this._getMonth());
if(g.get_frequency()==c.RecurrenceFrequency.Weekly){g.set_firstDayOfWeek(this.get_firstDayOfWeek());
}return g;
},_getRange:function(){if(!this._getIsRecurring()){return null;
}var k=this.get_startDate(),g=this.get_endDate(),i=new c.RecurrenceRange();
i.set_start(k);
i.set_eventDuration(b.subtract(g,k));
i.set_maxOccurrences(0);
i.set_recursUntil(e);
var j=this._view._getSelectedRange();
if(j==="GivenOccurrences"){var h=this._getNumericTextBoxValue(this._getElement("RangeOccurrences"));
if(!isNaN(h)){i.set_maxOccurrences(h);
}}if(j==="UntilGivenDate"){this._view._setRecurrenceRangeDate(i);
}return i;
},_getElement:function(g){return $get(this._baseId+"_"+g);
},_getControl:function(g){return $find(this._baseId+"_"+g);
},_getRecurrentCheckBox:function(){return this._getElement("RecurrentAppointment");
},_getNumericTextBoxValue:function(g){return parseInt(g.value,10);
},_getIsRecurring:function(){return this._view._getIsRecurring();
}};
c.RecurrenceEditor.registerClass("Telerik.Web.UI.RecurrenceEditor",c.RadWebControl);
d.ViewBase=function(g){this._owner=g;
this._baseId=g._baseId;
this._element=g._element;
};
d.ViewBase.prototype={initialize:function(){this._initializeRecurrenceCheckbox();
this._initializeRecurrenceRadioButtons();
this._initializeDatePicker();
this._initializeNumericTextBoxes();
},_initializeRecurrenceCheckbox:function(){var h=a(this._getElement("RecurrencePanel"));
var g=a(this._getRecurrentCheckBox());
if(g[0].checked){h.show();
}g.click(function(){var i={duration:"slow"};
h.stop(false,true).animate({height:"toggle"},i);
});
},_getRecurrentCheckBox:function(){return this._getElement("RecurrentAppointment");
},_initializeRecurrenceRadioButtons:function(){var j=this;
var h=this._getRecurrenceRadioButtons();
var i=a(".rsAdvPatternPanel",this._getElement("RecurrencePatternPanel"));
var g=function(k){var l=k.value.replace("RepeatFrequency","RecurrencePattern")+"Panel";
return a(j._getElement(l));
};
this._initializeRadioButtons(h,i,g);
},_getRecurrenceRadioButtons:function(){var g=[this._getElement("RepeatFrequencyHourly"),this._getElement("RepeatFrequencyDaily"),this._getElement("RepeatFrequencyWeekly"),this._getElement("RepeatFrequencyMonthly"),this._getElement("RepeatFrequencyYearly")];
return g;
},_initializeRadioButtons:function(m,l,h){for(var j=0,k=m.length;
j<k;
j++){var g=m[j];
if(g.checked){h(g).show();
}a(g).click(function(){var i=a(h(this));
if(i.css("display")=="none"){l.hide();
i.show();
}});
}},_initializeLinkedRecurrenceControls:function(){},_initializeDatePicker:function(){var g=this._baseId;
a(this._getElement("RangeEndDate_dateInput")).bind("focus",function(){window.setTimeout(function(){$find(g+"_RangeEndDate").showPopup();
},0);
});
},_initializeNumericTextBoxes:function(){var h=["HourlyRepeatInterval","DailyRepeatInterval","WeeklyRepeatInterval","MonthlyRepeatDate","MonthlyRepeatIntervalForDate","MonthlyRepeatIntervalForGivenDay","YearlyRepeatInterval","YearlyRepeatDate","RangeOccurrences"];
var j=function(k,i){if(!i.get_newValue()){i.set_cancel(true);
}};
for(var g=0;
g<h.length;
g++){if(this._getControl(h[g])){this._getControl(h[g]).add_valueChanging(j);
}else{a("#"+this._baseId+"_"+h[g]+"_text").focus(function(i){var l=this.id;
var m=$find(l.substring(0,l.length-5));
var k=m.get_events().getHandler("valueChanging");
if(!k){m.add_valueChanging(j);
}});
}}},_setRecurrenceRangeDate:function(g){var h=this._getControl("RangeEndDate");
if(!h.isEmpty()){g.set_recursUntil(h.get_selectedDate());
}},_getIsRecurring:function(){return this._getRecurrentCheckBox()&&this._getRecurrentCheckBox().checked;
},_getFrequency:function(){if(!this._getIsRecurring()){return c.RecurrenceFrequency.None;
}if(this._getElement("RepeatFrequencyHourly").checked){return c.RecurrenceFrequency.Hourly;
}if(this._getElement("RepeatFrequencyDaily").checked){return c.RecurrenceFrequency.Daily;
}if(this._getElement("RepeatFrequencyWeekly").checked){return c.RecurrenceFrequency.Weekly;
}if(this._getElement("RepeatFrequencyMonthly").checked){return c.RecurrenceFrequency.Monthly;
}if(this._getElement("RepeatFrequencyYearly").checked){return c.RecurrenceFrequency.Yearly;
}return c.RecurrenceFrequency.None;
},_setFrequency:function(g){switch(g){case c.RecurrenceFrequency.Hourly:a(this._getElement("RepeatFrequencyHourly")).trigger("click");
break;
case c.RecurrenceFrequency.Daily:a(this._getElement("RepeatFrequencyDaily")).trigger("click");
break;
case c.RecurrenceFrequency.Weekly:a(this._getElement("RepeatFrequencyWeekly")).trigger("click");
break;
case c.RecurrenceFrequency.Monthly:a(this._getElement("RepeatFrequencyMonthly")).trigger("click");
break;
case c.RecurrenceFrequency.Yearly:a(this._getElement("RepeatFrequencyYearly")).trigger("click");
break;
}},_setSelectedRange:function(g){a(this._getElement("Repeat"+g)).trigger("click");
},_getSelectedRange:function(){if(this._getElement("RepeatGivenOccurrences").checked){return"GivenOccurrences";
}if(this._getElement("RepeatUntilGivenDate").checked){return"UntilGivenDate";
}return"Indefinitely";
},_toggleRecurrencePanel:function(h){var g=a(this._getElement("RecurrencePanel"));
if(h){g.show();
}else{g.hide();
}},_setPickerValue:function(g,h){$find(g.id).set_selectedDate(h);
},_getMonthlyRepeatIntervalForDateElement:function(){return this._getElement("MonthlyRepeatIntervalForDate");
},_getMonthlyRepeatIntervalForGivenDayElement:function(){return this._getElement("MonthlyRepeatIntervalForGivenDay");
},_getYearlyRepeatMonthForDateElement:function(){return this._getElement("YearlyRepeatMonthForDate");
},_getYearlyRepeatMonthForGivenDayElement:function(){return this._getElement("YearlyRepeatMonthForGivenDay");
},_setNumericTextBoxValue:function(g,i){var h=$find(g.id);
if(i==""){h.clear();
return;
}h.set_value(i);
},_getControl:function(g){return $find(this._baseId+"_"+g);
},_getElement:function(g){return $get(this._baseId+"_"+g);
}};
d.ViewBase.registerClass("Telerik.Web.UI.SchedulerRecurrenceEditor.ViewBase");
d.ClassicView=function(g){d.ClassicView.initializeBase(this,[g]);
};
d.ClassicView.prototype={initialize:function(){d.ClassicView.callBaseMethod(this,"initialize");
this._initializeLinkedRecurrenceControls();
},_initializeLinkedRecurrenceControls:function(){var g={};
var h=this._baseId;
g[h+"_RepeatEveryNthDay"]=[a(this._getElement("DailyRepeatInterval")),a(this._getElement("DailyRepeatInterval_SpinUpButton")),a(this._getElement("DailyRepeatInterval_SpinDownButton"))];
g[h+"_RepeatEveryNthMonthOnDate"]=[a(this._getElement("MonthlyRepeatDate")),a(this._getElement("MonthlyRepeatDate_SpinUpButton")),a(this._getElement("MonthlyRepeatDate_SpinDownButton")),a(this._getElement("MonthlyRepeatIntervalForDate")),a(this._getElement("MonthlyRepeatIntervalForDate_SpinUpButton")),a(this._getElement("MonthlyRepeatIntervalForDate_SpinDownButton"))];
g[h+"_RepeatEveryNthMonthOnGivenDay"]=[a(this._getElement("MonthlyDayOrdinalDropDown_Input")),a(this._getElement("MonthlyDayMaskDropDown_Input")),a(this._getElement("MonthlyRepeatIntervalForGivenDay")),a(this._getElement("MonthlyRepeatIntervalForGivenDay_SpinUpButton")),a(this._getElement("MonthlyRepeatIntervalForGivenDay_SpinDownButton"))];
g[h+"_RepeatEveryYearOnDate"]=[a(this._getElement("YearlyRepeatMonthForDate_Input")),a(this._getElement("YearlyRepeatDate")),a(this._getElement("YearlyRepeatDate_SpinUpButton")),a(this._getElement("YearlyRepeatDate_SpinDownButton"))];
g[h+"_RepeatEveryYearOnGivenDay"]=[a(this._getElement("YearlyDayOrdinalDropDown_Input")),a(this._getElement("YearlyDayMaskDropDown_Input")),a(this._getElement("YearlyRepeatMonthForGivenDay_Input"))];
g[h+"_RepeatGivenOccurrences"]=[a(this._getElement("RangeOccurrences")),a(this._getElement("RangeOccurrences_SpinUpButton")),a(this._getElement("RangeOccurrences_SpinDownButton"))];
g[h+"_RepeatUntilGivenDate"]=[a(this._getElement("RangeEndDate_dateInput"))];
a.each(g,function(k){var j=a($get(k));
var i=g[k][0];
j.click(function(){if(i.css("visibility")=="hidden"){var l=a("#"+i[0].id+"_text");
if(l){l.focus();
}}else{i.focus();
}});
a.each(g[k],function(){a(this).focus(function(){j[0].checked=true;
});
});
});
},_setDropDownSelectedValue:function(h,i){var g=$find(h.id);
if(g&&c.RadComboBox.isInstanceOfType(g)){g.get_items().forEach(function(j){if(j.get_value()==i){j.select();
}});
}else{a.each(h.options,function(){if(this.value==i){this.selected=true;
return false;
}});
}},_getDropDownSelectedValue:function(g){return $find(g.id).get_value();
}};
d.ClassicView.registerClass("Telerik.Web.UI.SchedulerRecurrenceEditor.ClassicView",d.ViewBase);
d.LiteView=function(g){d.LiteView.initializeBase(this,[g]);
};
d.LiteView.prototype={initialize:function(){this._initializeRecurrenceDropDown();
this._initializeRangeDropDown();
this._initializeDatePicker();
this._initializeNumericTextBoxes();
this._initializeLinkedRecurrenceControls();
},_initializeRecurrenceDropDown:function(){var g=this._getControl("RecurrentAppointmentDropDown");
var h=Function.createDelegate(this,this._recurrenceDropDownSelectedIndexChanged);
g.add_selectedIndexChanged(h);
g.add_disposing(function(){g.remove_selectedIndexChanged(h);
});
this._recurrenceDropDownSelectedIndexChanged(g);
},_recurrenceDropDownSelectedIndexChanged:function(g){var m=this;
var i=g.get_selectedItem().get_index();
var l=g.get_selectedItem().get_value();
var k=a(".rsAdvPatternPanel",this._getElement("RecurrencePatternPanel"));
var j=a(this._getElement("RecurrencePanel"));
var h=function(o){var n="RecurrencePattern"+o+"Panel";
return a(m._getElement(n));
};
k.hide();
if(i===0){j.hide();
}else{j.show();
h(l).show();
}},_initializeRangeDropDown:function(){var g=this._getControl("RangeDropDown");
var h=Function.createDelegate(this,this._rangeDropDownSelectedIndexChanged);
g.add_selectedIndexChanged(h);
g.add_disposing(function(){g.remove_selectedIndexChanged(h);
});
this._rangeDropDownSelectedIndexChanged(g);
},_rangeDropDownSelectedIndexChanged:function(g){var h=g.get_selectedItem().get_index();
var j=a(this._getElement("RangeOccurrencesRow"));
var i=a(this._getElement("RangeEndDateRow"));
j.hide();
i.hide();
if(h===1){j.show();
}else{if(h===2){i.show();
}}},_getIsRecurring:function(){return this._getControl("RecurrentAppointmentDropDown").get_selectedItem().get_index()!==0;
},_getFrequency:function(){return this._getControl("RecurrentAppointmentDropDown").get_selectedItem().get_index();
},_setFrequency:function(g){this._getControl("RecurrentAppointmentDropDown").getItem(g).select();
},_setSelectedRange:function(g){this._getControl("RangeDropDown").findItemByValue(g).select();
},_getSelectedRange:function(){return this._getControl("RangeDropDown").get_selectedItem().get_value();
},_initializeLinkedRecurrenceControls:function(){var g={};
var h=this._baseId;
g[h+"_RepeatEveryNthDay"]=[a(this._getElement("DailyRepeatInterval")),a(this._getElement("DailyRepeatInterval_SpinUpButton")),a(this._getElement("DailyRepeatInterval_SpinDownButton"))];
g[h+"_RepeatEveryNthMonthOnDate"]=[a(this._getElement("MonthlyRepeatDate")),a(this._getElement("MonthlyRepeatDate_SpinUpButton")),a(this._getElement("MonthlyRepeatDate_SpinDownButton")),a(this._getElement("MonthlyRepeatIntervalForDate")),a(this._getElement("MonthlyRepeatIntervalForDate_SpinUpButton")),a(this._getElement("MonthlyRepeatIntervalForDate_SpinDownButton"))];
g[h+"_RepeatEveryNthMonthOnGivenDay"]=[a(this._getElement("MonthlyDayOrdinalDropDown")),a(this._getElement("MonthlyDayMaskDropDown")),a(this._getElement("MonthlyRepeatIntervalForGivenDay")),a(this._getElement("MonthlyRepeatIntervalForGivenDay_SpinUpButton")),a(this._getElement("MonthlyRepeatIntervalForGivenDay_SpinDownButton"))];
g[h+"_RepeatEveryYearOnDate"]=[a(this._getElement("YearlyRepeatMonthForDate")),a(this._getElement("YearlyRepeatDate")),a(this._getElement("YearlyRepeatDate_SpinUpButton")),a(this._getElement("YearlyRepeatDate_SpinDownButton"))];
g[h+"_RepeatEveryYearOnGivenDay"]=[a(this._getElement("YearlyDayOrdinalDropDown")),a(this._getElement("YearlyDayMaskDropDown")),a(this._getElement("YearlyRepeatMonthForGivenDay"))];
a.each(g,function(k){var j=a($get(k)),i=g[k][0];
j.click(function(){if(i.css("visibility")=="hidden"){var l=a("#"+i[0].id+"_text");
if(l){l.focus();
}}else{i.focus();
}});
a.each(g[k],function(){a(this).focus(function(){j[0].checked=true;
});
});
});
},_setDropDownSelectedValue:function(g,i){var h=$find(g.id);
if(h&&c.RadDropDownList.isInstanceOfType(h)){h.get_items().forEach(function(j){if(j.get_value()==i){j.select();
}});
}else{a.each(g.options,function(){if(this.value==i){this.selected=true;
return false;
}});
}},_getDropDownSelectedValue:function(g){return $find(g.id).get_selectedItem().get_value();
}};
d.LiteView.registerClass("Telerik.Web.UI.SchedulerRecurrenceEditor.LiteView",d.ViewBase);
d.NativeView=function(g){d.NativeView.initializeBase(this,[g]);
};
d.NativeView.prototype={initialize:function(){d.NativeView.callBaseMethod(this,"initialize");
this._initializePanelRadioButtons();
this._initializeButtons();
},_initializeRecurrenceCheckbox:function(){var i=this;
var h=a(this._getElement("RecurrencePanel"));
var g=a(this._getElement("AppointmentRepeat"));
h.show();
h.parent().hide();
g.click(function(){h.parent().show();
i._initializeHeight();
});
},_initializeHeight:function(){var g=this._element;
var j=g.offsetHeight;
var i=a(g).find(".rsAdvRecurrenceTitle")[0].offsetHeight;
var h=j-i;
a(g).find(".rsAdvRecurrenceScroll").height(h);
},_getRecurrenceRadioButtons:function(){var g=[this._getElement("RepeatFrequencyNone"),this._getElement("RepeatFrequencyHourly"),this._getElement("RepeatFrequencyDaily"),this._getElement("RepeatFrequencyWeekly"),this._getElement("RepeatFrequencyMonthly"),this._getElement("RepeatFrequencyYearly")];
return g;
},_initializeRadioButtons:function(n,m,j){for(var k=0,l=n.length;
k<l;
k++){var h=n[k];
var g=a(this._getElement("RecurrenceRangePanel"));
if(h.checked){j(h).show();
if(h.value=="RepeatFrequencyNone"){g.hide();
}}a(h).click(function(){g.toggle(this.value!="RepeatFrequencyNone");
var i=a(j(this));
if(i.css("display")=="none"){m.hide();
i.show();
}});
}},_initializePanelRadioButtons:function(){var k=this;
var g;
var i;
var l;
var j;
var h=function(m){var n=m.value+"Panel";
return a(k._getElement(n));
};
g=a(".rsAdvDailyPanel",this._getElement("RecurrencePatternDailyPanel")),this._initializeRadioButtons(this._getDailyRadioButtons(),g,h);
i=a(".rsAdvMonthlyPanel",this._getElement("RecurrencePatternMonthlyPanel")),this._initializeRadioButtons(this._getMonthlyRadioButtons(),i,h);
l=a(".rsAdvYearlyPanel",this._getElement("RecurrencePatternYearlyPanel")),this._initializeRadioButtons(this._getYearlyRadioButtons(),l,h);
j=a(".rsAdvRangePanel",this._getElement("RecurrenceRangePanel")),this._initializeRadioButtons(this._getRangeRadioButtons(),j,h);
},_initializeDatePicker:function(){},_initializeNumericTextBoxes:function(){},_initializeButtons:function(){var g=a(this._getElement("RecurrencePanelButtons"));
var h=this;
this._recurrenceRule=this._owner.get_recurrenceRule();
this._updateRecurrenceButtonText();
a(g).find(".rsAdvRecurrenceSave").on("click",function(i){h._owner._recurrenceRule=h._owner.get_recurrenceRule();
h._updateRecurrenceButtonText();
a(h._getElement("RecurrencePanel")).parent().hide();
}).end().find(".rsAdvRecurrenceCancel").on("click",function(i){h._owner.set_recurrenceRule(h._owner._recurrenceRule);
});
},_updateRecurrenceButtonText:function(){var j=this._owner._recurrenceRule;
var h=j?j.get_pattern().get_frequency():0;
var g=a(this._getElement("AppointmentRepeat"));
var i=this._getFrequencyText(h);
g.text(i);
},_getFrequencyText:function(g){var h;
switch(g){case c.RecurrenceFrequency.None:h="Never";
break;
case c.RecurrenceFrequency.Hourly:h="Hourly";
break;
case c.RecurrenceFrequency.Daily:h="Daily";
break;
case c.RecurrenceFrequency.Weekly:h="Weekly";
break;
case c.RecurrenceFrequency.Monthly:h="Monthly";
break;
case c.RecurrenceFrequency.Yearly:h="Yearly";
break;
}return h;
},_getDailyRadioButtons:function(){var g=[this._getElement("RepeatEveryNthDay"),this._getElement("RepeatEveryWeekday")];
return g;
},_getMonthlyRadioButtons:function(){var g=[this._getElement("RepeatEveryNthMonthOnDate"),this._getElement("RepeatEveryNthMonthOnGivenDay")];
return g;
},_getYearlyRadioButtons:function(){var g=[this._getElement("RepeatEveryYearOnDate"),this._getElement("RepeatEveryYearOnGivenDay")];
return g;
},_getRangeRadioButtons:function(){var g=[this._getElement("RepeatIndefinitely"),this._getElement("RepeatGivenOccurrences"),this._getElement("RepeatUntilGivenDate")];
return g;
},_setRecurrenceRangeDate:function(g){var h=this._getElement("RangeEndDate");
if(h.value){g.set_recursUntil(this._getPickerValue(h));
}},_getPickerValue:function(g){return new Date(g.value.replace(/-/g,"/"));
},_setPickerValue:function(g,h){g.value=this._getFormattedDate(h);
},_getFormattedDate:function(i){var j=i.getFullYear();
var h=this._getFullDateComponent(i.getMonth()+1);
var g=this._getFullDateComponent(i.getDate());
return[j,h,g].join("-");
},_getFullDateComponent:function(g){var h=g.toString();
if(h.length==1){h="0"+h;
}return h;
},_getIsRecurring:function(){return !this._getElement("RepeatFrequencyNone").checked;
},_toggleRecurrencePanel:function(g){if(!g){a(this._getElement("RepeatFrequencyNone")).trigger("click");
}this._updateRecurrenceButtonText();
a(this._getElement("RecurrencePanel")).parent().hide();
},_getMonthlyRepeatIntervalForGivenDayElement:function(){return this._getMonthlyRepeatIntervalForDateElement();
},_getYearlyRepeatMonthForGivenDayElement:function(){return this._getYearlyRepeatMonthForDateElement();
},_setNumericTextBoxValue:function(g,h){g.value=h||"";
},_setDropDownSelectedValue:function(g,h){a.each(g.options,function(){if(this.value==h){this.selected=true;
return false;
}});
},_getDropDownSelectedValue:function(g){return g.value;
}};
d.NativeView.registerClass("Telerik.Web.UI.SchedulerRecurrenceEditor.NativeView",d.ViewBase);
c.RadSchedulerRecurrenceEditor=c.RecurrenceEditor;
})();
