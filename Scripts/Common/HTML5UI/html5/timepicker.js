(function(b,a){a(["./kendo.popup"],b);
})(function(){(function(){(function(a,V){var z=window.kendo,A=z.keys,I=z.parseDate,b=z._activeElement,r=z._extractFormat,Q=z.support,i=Q.browser,U=z.ui,W=U.Widget,H="open",l="close",j="change",G=".kendoTimePicker",k="click"+G,n="k-state-default",o="disabled",L="readonly",B="li",O="<span/>",s="k-state-focused",u="k-state-hover",v="mouseenter"+G+" mouseleave"+G,C="mousedown"+G,E=60000,D=86400000,M="k-state-selected",P="k-state-disabled",h="aria-selected",e="aria-expanded",f="aria-hidden",d="aria-disabled",g="aria-readonly",c="aria-activedescendant",w="id",x=a.isArray,q=a.extend,K=a.proxy,m=Date,T=new m();
T=new m(T.getFullYear(),T.getMonth(),T.getDate(),0,0,0);
var S=function(Y){var Z=this,X=Y.id;
Z.options=Y;
Z._dates=[];
Z.ul=a('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:Q.kineticScrollNeeded?"":"auto"}).on(k,B,K(Z._click,Z)).on("mouseenter"+G,B,function(){a(this).addClass(u);
}).on("mouseleave"+G,B,function(){a(this).removeClass(u);
});
Z.list=a("<div class='k-list-container'/>").append(Z.ul).on(C,J);
if(X){Z._timeViewID=X+"_timeview";
Z._optionID=X+"_option_selected";
Z.ul.attr(w,Z._timeViewID);
}Z._popup();
Z._heightHandler=K(Z._height,Z);
Z.template=z.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:false});
};
S.prototype={current:function(Y){var Z=this,X=Z.options.active;
if(Y!==V){if(Z._current){Z._current.removeClass(M).removeAttr(h).removeAttr(w);
}if(Y){Y=a(Y).addClass(M).attr(w,Z._optionID).attr(h,true);
Z.scroll(Y[0]);
}Z._current=Y;
if(X){X(Y);
}}else{return Z._current;
}},close:function(){this.popup.close();
},destroy:function(){var X=this;
X.ul.off(G);
X.list.off(G);
if(X._touchScroller){X._touchScroller.destroy();
}X.popup.destroy();
},open:function(){var X=this;
if(!X.ul[0].firstChild){X.bind();
}X.popup.open();
if(X._current){X.scroll(X._current[0]);
}},dataBind:function(Y){var af=this,ad=af.options,Z=ad.format,ag=z.toString,ae=af.template,ac=Y.length,ab=0,X,aa="";
for(;
ab<ac;
ab++){X=Y[ab];
if(y(X,ad.min,ad.max)){aa+=ae(ag(X,Z,ad.culture));
}}af._html(aa);
},refresh:function(){var ao=this,ak=ao.options,X=ak.format,aj=p(),aa=aj<0,ae=ak.min,ad=ak.max,ah=t(ae),ag=t(ad),af=ak.interval*E,ap=z.toString,an=ao.template,al=new m(+ae),am=al.getDate(),ai,ab,Z=0,ac,Y="";
if(aa){ac=(D+(aj*E))/af;
}else{ac=D/af;
}if(ah!=ag){if(ah>ag){ag+=D;
}ac=((ag-ah)/af)+1;
}ab=parseInt(ac,10);
for(;
Z<ac;
Z++){if(Z){N(al,af,aa);
}if(ag&&ab==Z){ai=t(al);
if(am<al.getDate()){ai+=D;
}if(ai>ag){al=new m(+ad);
}}ao._dates.push(t(al));
Y+=an(ap(al,X,ak.culture));
}ao._html(Y);
},bind:function(){var Y=this,X=Y.options.dates;
if(X&&X[0]){Y.dataBind(X);
}else{Y.refresh();
}},_html:function(X){var Y=this;
Y.ul[0].innerHTML=X;
Y.popup.unbind(H,Y._heightHandler);
Y.popup.one(H,Y._heightHandler);
Y.current(null);
Y.select(Y._value);
},scroll:function(Z){if(!Z){return;
}var ad=this.ul[0],ab=Z.offsetTop,aa=Z.offsetHeight,af=ad.scrollTop,ae=ad.clientHeight,X=ab+aa,ac=this._touchScroller,Y;
if(ac){Y=this.list.height();
if(ab>Y){ab=ab-Y+aa;
}ac.scrollTo(0,-ab);
}else{ad.scrollTop=af>ab?ab:X>(af+ae)?X-ae:af;
}},select:function(Y){var ab=this,Z=ab.options,X=ab._current,aa;
if(Y instanceof Date){Y=z.toString(Y,Z.format,Z.culture);
}if(typeof Y==="string"){if(!X||X.text()!==Y){Y=a.grep(ab.ul[0].childNodes,function(ac){return(ac.textContent||ac.innerText)==Y;
});
Y=Y[0]?Y:null;
}else{Y=X;
}}aa=ab._distinctSelection(Y);
ab.current(aa);
},_distinctSelection:function(Y){var aa=this,X,Z;
if(Y&&Y.length>1){X=t(aa._value);
Z=a.inArray(X,aa._dates);
Y=aa.ul.children()[Z];
}return Y;
},setOptions:function(Y){var X=this.options;
Y.min=I(Y.min);
Y.max=I(Y.max);
this.options=q(X,Y,{active:X.active,change:X.change,close:X.close,open:X.open});
this.bind();
},toggle:function(){var X=this;
if(X.popup.visible()){X.close();
}else{X.open();
}},value:function(Y){var X=this;
X._value=Y;
if(X.ul[0].firstChild){X.select(Y);
}},_click:function(Z){var ab=this,aa=a(Z.currentTarget),X=aa.text(),Y=ab.options.dates;
if(Y&&Y.length>0){X=Y[aa.index()];
}if(!Z.isDefaultPrevented()){ab.select(aa);
ab.options.change(X,true);
ab.close();
}},_height:function(){var aa=this;
var Y=aa.list;
var Z=Y.parent(".k-animation-container");
var X=aa.options.height;
if(aa.ul[0].children.length){Y.add(Z).show().height(aa.ul[0].scrollHeight>X?X:"auto").hide();
}},_parse:function(aa){var Z=this,Y=Z.options,X=Z._value||T;
if(aa instanceof m){return aa;
}aa=I(aa,Y.parseFormats,Y.culture);
if(aa){aa=new m(X.getFullYear(),X.getMonth(),X.getDate(),aa.getHours(),aa.getMinutes(),aa.getSeconds(),aa.getMilliseconds());
}return aa;
},_adjustListWidth:function(){var Z=this.list,aa=Z[0].style.width,ab=this.options.anchor,X,Y;
if(!Z.data("width")&&aa){return;
}X=window.getComputedStyle?window.getComputedStyle(ab[0],null):0;
Y=X?parseFloat(X.width):ab.outerWidth();
if(X&&(i.mozilla||i.msie)){Y+=parseFloat(X.paddingLeft)+parseFloat(X.paddingRight)+parseFloat(X.borderLeftWidth)+parseFloat(X.borderRightWidth);
}aa=Y-(Z.outerWidth()-Z.width());
Z.css({fontFamily:ab.css("font-family"),width:aa}).data("width",aa);
},_popup:function(){var aa=this,Y=aa.list,Z=aa.options,X=Z.anchor;
aa.popup=new U.Popup(Y,q(Z.popup,{anchor:X,open:Z.open,close:Z.close,animation:Z.animation,isRtl:Q.isRtl(Z.anchor)}));
aa._touchScroller=z.touchScroller(aa.popup.element);
},move:function(Z){var ab=this,aa=Z.keyCode,ac=ab.ul[0],X=ab._current,Y=aa===A.DOWN;
if(aa===A.UP||Y){if(Z.altKey){ab.toggle(Y);
return;
}else{if(Y){X=X?X[0].nextSibling:ac.firstChild;
}else{X=X?X[0].previousSibling:ac.lastChild;
}}if(X){ab.select(X);
}ab.options.change(ab._current.text());
Z.preventDefault();
}else{if(aa===A.ENTER||aa===A.TAB||aa===A.ESC){Z.preventDefault();
if(X){ab.options.change(X.text(),true);
}ab.close();
}}}};
function N(X,ab,Y){var Z=X.getTimezoneOffset(),aa;
X.setTime(X.getTime()+ab);
if(!Y){aa=X.getTimezoneOffset()-Z;
X.setTime(X.getTime()+aa*E);
}}function p(){var Z=new m(),X=new m(Z.getFullYear(),Z.getMonth(),Z.getDate(),0,0,0),Y=new m(Z.getFullYear(),Z.getMonth(),Z.getDate(),12,0,0);
return -1*(X.getTimezoneOffset()-Y.getTimezoneOffset());
}function t(X){return X.getHours()*60*E+X.getMinutes()*E+X.getSeconds()*1000+X.getMilliseconds();
}function y(ac,Y,X){var aa=t(Y),Z=t(X),ab;
if(!ac||aa==Z){return true;
}ab=t(ac);
if(aa>ab){ab+=D;
}if(Z<aa){Z+=D;
}return ab>=aa&&ab<=Z;
}S.getMilliseconds=t;
z.TimeView=S;
var R=W.extend({init:function(Z,aa){var ab=this,ad,ac,X;
W.fn.init.call(ab,Z,aa);
Z=ab.element;
aa=ab.options;
aa.min=I(Z.attr("min"))||I(aa.min);
aa.max=I(Z.attr("max"))||I(aa.max);
F(aa);
ab._initialOptions=q({},aa);
ab._wrapper();
ab.timeView=ac=new S(q({},aa,{id:Z.attr(w),anchor:ab.wrapper,format:aa.format,change:function(af,ae){if(ae){ab._change(af);
}else{Z.val(af);
}},open:function(ae){ab.timeView._adjustListWidth();
if(ab.trigger(H)){ae.preventDefault();
}else{Z.attr(e,true);
ad.attr(f,false);
}},close:function(ae){if(ab.trigger(l)){ae.preventDefault();
}else{Z.attr(e,false);
ad.attr(f,true);
}},active:function(ae){Z.removeAttr(c);
if(ae){Z.attr(c,ac._optionID);
}}}));
ad=ac.ul;
ab._icon();
ab._reset();
try{Z[0].setAttribute("type","text");
}catch(Y){Z[0].type="text";
}Z.addClass("k-input").attr({role:"combobox","aria-expanded":false,"aria-owns":ac._timeViewID});
X=Z.is("[disabled]")||a(ab.element).parents("fieldset").is(":disabled");
if(X){ab.enable(false);
}else{ab.readonly(Z.is("[readonly]"));
}ab._old=ab._update(aa.value||ab.element.val());
ab._oldText=Z.val();
z.notify(ab);
},options:{name:"TimePicker",min:T,max:T,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[H,l,j],setOptions:function(X){var Y=this;
var Z=Y._value;
W.fn.setOptions.call(Y,X);
X=Y.options;
F(X);
Y.timeView.setOptions(X);
if(Z){Y.element.val(z.toString(Z,X.format,X.culture));
}},dataBind:function(X){if(x(X)){this.timeView.dataBind(X);
}},_editable:function(aa){var ac=this,Y=aa.disable,ab=aa.readonly,X=ac._arrow.off(G),Z=ac.element.off(G),ad=ac._inputWrapper.off(G);
if(!ab&&!Y){ad.addClass(n).removeClass(P).on(v,ac._toggleHover);
Z.removeAttr(o).removeAttr(L).attr(d,false).attr(g,false).on("keydown"+G,K(ac._keydown,ac)).on("focusout"+G,K(ac._blur,ac)).on("focus"+G,function(){ac._inputWrapper.addClass(s);
});
X.on(k,K(ac._click,ac)).on(C,J);
}else{ad.addClass(Y?P:n).removeClass(Y?n:P);
Z.attr(o,Y).attr(L,ab).attr(d,Y).attr(g,ab);
}},readonly:function(X){this._editable({readonly:X===V?true:X,disable:false});
},enable:function(X){this._editable({readonly:false,disable:!(X=X===V?true:X)});
},destroy:function(){var X=this;
W.fn.destroy.call(X);
X.timeView.destroy();
X.element.off(G);
X._arrow.off(G);
X._inputWrapper.off(G);
if(X._form){X._form.off("reset",X._resetHandler);
}},close:function(){this.timeView.close();
},open:function(){this.timeView.open();
},min:function(X){return this._option("min",X);
},max:function(X){return this._option("max",X);
},value:function(Y){var X=this;
if(Y===V){return X._value;
}X._old=X._update(Y);
if(X._old===null){X.element.val("");
}X._oldText=X.element.val();
},_blur:function(){var X=this,Y=X.element.val();
X.close();
if(Y!==X._oldText){X._change(Y);
}X._inputWrapper.removeClass(s);
},_click:function(){var Y=this,X=Y.element;
Y.timeView.toggle();
if(!Q.touch&&X[0]!==b()){X.focus();
}},_change:function(Y){var X=this;
Y=X._update(Y);
if(+X._old!=+Y){X._old=Y;
X._oldText=X.element.val();
if(!X._typing){X.element.trigger(j);
}X.trigger(j);
}X._typing=false;
},_icon:function(){var Z=this,Y=Z.element,X;
X=Y.next("span.k-select");
if(!X[0]){X=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(Y);
}Z._arrow=X.attr({role:"button","aria-controls":Z.timeView._timeViewID});
},_keydown:function(X){var Z=this,Y=X.keyCode,aa=Z.timeView,ab=Z.element.val();
if(aa.popup.visible()||X.altKey){aa.move(X);
}else{if(Y===A.ENTER&&ab!==Z._oldText){Z._change(ab);
}else{Z._typing=true;
}}},_option:function(X,aa){var Z=this,Y=Z.options;
if(aa===V){return Y[X];
}aa=Z.timeView._parse(aa);
if(!aa){return;
}aa=new m(+aa);
Y[X]=aa;
Z.timeView.options[X]=aa;
Z.timeView.bind();
},_toggleHover:function(X){a(X.currentTarget).toggleClass(u,X.type==="mouseenter");
},_update:function(ab){var Z=this,Y=Z.options,aa=Z.timeView,X=aa._parse(ab);
if(!y(X,Y.min,Y.max)){X=null;
}Z._value=X;
Z.element.val(X?z.toString(X,Y.format,Y.culture):ab);
aa.value(X);
return X;
},_wrapper:function(){var Y=this,X=Y.element,Z;
Z=X.parents(".k-timepicker");
if(!Z[0]){Z=X.wrap(O).parent().addClass("k-picker-wrap k-state-default");
Z=Z.wrap(O).parent();
}Z[0].style.cssText=X[0].style.cssText;
Y.wrapper=Z.addClass("k-widget k-timepicker k-header").addClass(X[0].className);
X.css({width:"100%",height:X[0].style.height});
Y._inputWrapper=a(Z[0].firstChild);
},_reset:function(){var aa=this,X=aa.element,Z=X.attr("form"),Y=Z?a("#"+Z):X.closest("form");
if(Y[0]){aa._resetHandler=function(){aa.value(X[0].defaultValue);
aa.max(aa._initialOptions.max);
aa.min(aa._initialOptions.min);
};
aa._form=Y.on("reset",aa._resetHandler);
}}});
function F(X){var Y=X.parseFormats;
X.format=r(X.format||z.getCulture(X.culture).calendars.standard.patterns.t);
Y=x(Y)?Y:[Y];
Y.splice(0,0,X.format);
X.parseFormats=Y;
}function J(X){X.preventDefault();
}U.plugin(R);
})(window.kendo.jQuery);
})();
return window.kendo;
},typeof define=="function"&&define.amd?define:function(a,b){b();
});
